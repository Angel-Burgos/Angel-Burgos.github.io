function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function a(e){setTimeout((function(){throw e}),0)}var s={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function c(e){return null!==e&&"object"==typeof e}var l,h=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),d=((l=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(r(i))try{i.call(this)}catch(p){t=p instanceof h?f(p.errors):[p]}if(u(o))for(var s=-1,l=o.length;++s<l;){var d=o[s];if(c(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof h?t=t.concat(f(p.errors)):t.push(p)}}if(t)throw new h(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new l),l);function f(e){return e.reduce((function(e,t){return e.concat(t instanceof h?t.errors:t)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;switch(_classCallCheck(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!e){o.destination=s;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new g(_assertThisInitialized(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new g(_assertThisInitialized(o),e,r,i)}return o}return _createClass(n,[{key:p,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(d),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return r(i)?c=i:i&&(c=i.next,o=i.error,a=i.complete,i!==s&&(r((l=Object.create(i)).unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=o,u._complete=a,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(v),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(e){return e}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(t)}function C(e){return 0===e.length?m:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var w,k=((w=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof v)return e;if(e[p])return e[p]()}return e||t||n?new v(e,t,n):new v(s)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof v?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=E(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:C(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=E(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new w(e)},w);function E(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var b,S=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(d),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(v),R=((b=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:p,value:function(){return new T(this)}},{key:"lift",value:function(e){var t=new I(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new S;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new S;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new S;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new S;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new S;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new A(this,e))}},{key:"asObservable",value:function(){var e=new k;return e.source=this,e}}]),n}(k)).create=function(e,t){return new I(e,t)},b),I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):d.EMPTY}}]),n}(R);function D(e){return e&&"function"==typeof e.schedule}var O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(v),x=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};var P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",N=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function F(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var M=function(e){if(e&&"function"==typeof e[y])return r=e,function(e){var t=r[y]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(N(e))return x(e);if(F(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,a),e};if(e&&"function"==typeof e[P])return t=e,function(e){for(var n=t[P]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,i=c(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(i," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function U(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new O(e,n,r);if(!i.closed)return t instanceof k?t.subscribe(i):M(t)(i)}var L=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(v);function H(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(e,t))}}var V=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new B(e,this.project,this.thisArg))}}]),e}(),B=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(v);function j(e,t){return new k((function(n){var r=new d,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function q(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new k((function(n){var r=new d;return r.add(t.schedule((function(){var i=e[y]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(F(e))return function(e,t){return new k((function(n){var r=new d;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(N(e))return j(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new k((function(n){var r,i=new d;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[P](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof k?e:new k(M(e))}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(G((function(n,r){return q(e(n,r)).pipe(H((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new K(e,n))})}var K=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new z(e,this.project,this.concurrent))}}]),e}(),z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new O(this,t,n),i=this.destination;i.add(r);var o=U(this,e,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(L);function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return G(m,e)}function Q(e,t){return t?j(e,t):new k(x(e))}function Y(){return function(e){return e.lift(new J(e))}}var Z,J=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new $(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(v),X={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(Z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new ee(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}},{key:"refCount",value:function(){return Y()(this)}}]),n}(k).prototype)._subscribe},_isComplete:{value:Z._isComplete,writable:!0},getSubject:{value:Z.getSubject},connect:{value:Z.connect},refCount:{value:Z.refCount}},ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(T);function te(){return new R}function ne(e){return{toString:e}.toString()}function re(e,t,n){return ne((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var ie=re("Inject",(function(e){return{token:e}})),oe=re("Optional"),ae=re("Self"),se=re("SkipSelf"),ue=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ce(e){for(var t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function le(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function de(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function fe(e){return pe(e,e[ge])||pe(e,e[_e])}function pe(e,t){return t&&t.token===e?t:null}function ve(e){return e&&(e.hasOwnProperty(ye)||e.hasOwnProperty(Ce))?e[ye]:null}var ge=ce({"\u0275prov":ce}),ye=ce({"\u0275inj":ce}),me=ce({"\u0275provFallback":ce}),_e=ce({ngInjectableDef:ce}),Ce=ce({ngInjectorDef:ce});function we(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(we).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ke(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Ee=ce({__forward_ref__:ce});function be(e){return e.__forward_ref__=be,e.toString=function(){return we(this())},e}function Se(e){return Ae(e)?e():e}function Ae(e){return"function"==typeof e&&e.hasOwnProperty(Ee)&&e.__forward_ref__===be}var Te,Re="undefined"!=typeof globalThis&&globalThis,Ie="undefined"!=typeof window&&window,De="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Oe="undefined"!=typeof global&&global,xe=Re||Oe||Ie||De,Pe=ce({"\u0275cmp":ce}),Ne=ce({"\u0275dir":ce}),Fe=ce({"\u0275pipe":ce}),Me=ce({"\u0275mod":ce}),Ue=ce({"\u0275loc":ce}),Le=ce({"\u0275fac":ce}),He=ce({__NG_ELEMENT_ID__:ce}),Ve=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=he({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),Be=new Ve("INJECTOR",-1),je={},qe=/\n/gm,Ge=ce({provide:String,useValue:ce}),Ke=void 0;function ze(e){var t=Ke;return Ke=e,t}function We(e){var t=Te;return Te=e,t}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.Default;if(void 0===Ke)throw new Error("inject() must be called from an injection context");return null===Ke?Ze(e,void 0,t):Ke.get(e,t&ue.Optional?null:void 0,t)}function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.Default;return(Te||Qe)(Se(e),t)}function Ze(e,t,n){var r=fe(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(we(e),"]"))}function Je(e){for(var t=[],n=0;n<e.length;n++){var r=Se(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=ue.Default,a=0;a<r.length;a++){var s=r[a];s instanceof oe||"Optional"===s.ngMetadataName||s===oe?o|=ue.Optional:s instanceof se||"SkipSelf"===s.ngMetadataName||s===se?o|=ue.SkipSelf:s instanceof ae||"Self"===s.ngMetadataName||s===ae?o|=ue.Self:i=s instanceof ie||s===ie?s.token:s}t.push(Ye(i,o))}else t.push(Ye(r))}return t}var $e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je;if(t===je){var n=new Error("NullInjectorError: No provider for ".concat(we(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),Xe=function e(){_classCallCheck(this,e)},et=function e(){_classCallCheck(this,e)};function tt(e,t){e.forEach((function(e){return Array.isArray(e)?tt(e,t):t(e)}))}function nt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function it(e,t){var n=ot(e,t);if(n>=0)return e[1|n]}function ot(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var at=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),st=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),ut={},ct=[],lt=0;function ht(e){return ne((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===at.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ct,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||st.Emulated,id:"c",styles:e.styles||ct,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=lt++,i.inputs=gt(e.inputs,r),i.outputs=gt(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(dt)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(ft)}:null,i}))}function dt(e){return _t(e)||function(e){return e[Ne]||null}(e)}function ft(e){return function(e){return e[Fe]||null}(e)}var pt={};function vt(e){var t={type:e.type,bootstrap:e.bootstrap||ct,declarations:e.declarations||ct,imports:e.imports||ct,exports:e.exports||ct,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&ne((function(){pt[e.id]=e.type})),t}function gt(e,t){if(null==e)return ut;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var yt=ht;function mt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function _t(e){return e[Pe]||null}function Ct(e,t){return e.hasOwnProperty(Le)?e[Le]:null}function wt(e,t){var n=e[Me]||null;if(!n&&!0===t)throw new Error("Type ".concat(we(e)," does not have '\u0275mod' property."));return n}function kt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Et(e){return Array.isArray(e)&&!0===e[1]}function bt(e){return 0!=(8&e.flags)}function St(e){return 2==(2&e.flags)}function At(e){return 1==(1&e.flags)}function Tt(e){return null!==e.template}function Rt(e){return 0!=(512&e[2])}var It=void 0;function Dt(e){return!!e.listen}var Ot={createRenderer:function(e,t){return void 0!==It?It:"undefined"!=typeof document?document:void 0}};function xt(e){for(;Array.isArray(e);)e=e[0];return e}function Pt(e,t){return xt(t[e+20])}function Nt(e,t){return xt(t[e.index])}function Ft(e,t){return e.data[t+20]}function Mt(e,t){return e[t+20]}function Ut(e,t){var n=t[e];return kt(n)?n:n[0]}function Lt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ht(e){return 4==(4&e[2])}function Vt(e){return 128==(128&e[2])}function Bt(e,t){return null===e||null==t?null:e[t]}function jt(e){e[18]=0}function qt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Gt={lFrame:hn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Kt(){return Gt.bindingsEnabled}function zt(){return Gt.lFrame.lView}function Wt(){return Gt.lFrame.tView}function Qt(e){Gt.lFrame.contextLView=e}function Yt(){return Gt.lFrame.previousOrParentTNode}function Zt(e,t){Gt.lFrame.previousOrParentTNode=e,Gt.lFrame.isParent=t}function Jt(){return Gt.lFrame.isParent}function $t(){return Gt.checkNoChangesMode}function Xt(e){Gt.checkNoChangesMode=e}function en(){return Gt.lFrame.bindingIndex}function tn(){return Gt.lFrame.bindingIndex++}function nn(e){var t=Gt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function rn(e,t){var n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=e,on(t)}function on(e){Gt.lFrame.currentDirectiveIndex=e}function an(){return Gt.lFrame.currentQueryIndex}function sn(e){Gt.lFrame.currentQueryIndex=e}function un(e,t){var n=ln();Gt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function cn(e,t){var n=ln(),r=e[1];Gt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function ln(){var e=Gt.lFrame,t=null===e?null:e.child;return null===t?hn(e):t}function hn(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function dn(){var e=Gt.lFrame;return Gt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var fn=dn;function pn(){var e=dn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vn(){return Gt.lFrame.selectedIndex}function gn(e){Gt.lFrame.selectedIndex=e}function yn(){var e=Gt.lFrame;return Ft(e.tView,e.selectedIndex)}function mn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function _n(e,t,n){kn(e,t,3,n)}function Cn(e,t,n,r){(3&e[2])===n&&kn(e,t,n,r)}function wn(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function kn(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(En(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function En(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var bn=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Sn(e,t,n){for(var r=Dt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Tn(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function An(e){return 3===e||4===e||6===e}function Tn(e){return 64===e.charCodeAt(0)}function Rn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||In(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function In(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Dn(e){return-1!==e}function On(e){return 32767&e}function xn(e){return e>>16}function Pn(e,t){for(var n=xn(e),r=t;n>0;)r=r[15],n--;return r}function Nn(e){return"string"==typeof e?e:null==e?"":""+e}function Fn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Nn(e)}var Mn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xe);function Un(e){return e instanceof Function?e():e}var Ln=!0;function Hn(e){var t=Ln;return Ln=e,t}var Vn=0;function Bn(e,t){var n=qn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,jn(r.data,e),jn(t,null),jn(r.blueprint,null));var i=Gn(e,t),o=e.injectorIndex;if(Dn(i))for(var a=On(i),s=Pn(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function jn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function qn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Gn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Kn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[He]:n.charCodeAt(0)||0;null==r&&(r=n[He]=Vn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function zn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[He];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){un(t,e);try{var a=o();if(null!=a||r&ue.Optional)return a;throw new Error("No provider for ".concat(Fn(n),"!"))}finally{fn()}}else if("number"==typeof o){if(-1===o)return new Xn(e,t);var s=null,u=qn(e,t),c=-1,l=r&ue.Host?t[16][6]:null;for((-1===u||r&ue.SkipSelf)&&(c=-1===u?Gn(e,t):t[u+8],$n(r,!1)?(s=t[1],u=On(c),t=Pn(c,t)):u=-1);-1!==u;){c=t[u+8];var h=t[1];if(Jn(o,u,h.data)){var d=Qn(u,t,n,s,r,l);if(d!==Wn)return d}$n(r,t[1].data[u+8]===l)&&Jn(o,u,t)?(s=h,u=On(c),t=Pn(c,t)):u=-1}}}if(r&ue.Optional&&void 0===i&&(i=null),0==(r&(ue.Self|ue.Host))){var f=t[9],p=We(void 0);try{return f?f.get(n,i,r&ue.Optional):Ze(n,i,r&ue.Optional)}finally{We(p)}}if(r&ue.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Fn(n),"]"))}var Wn={};function Qn(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=Yn(s,a,n,null==r?St(s)&&Ln:r!=a&&3===s.type,i&ue.Host&&o===s);return null!==u?Zn(t,a,u,s):Wn}function Yn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,u=e.directiveStart,c=o>>16,l=i?s+c:e.directiveEnd,h=r?s:s+c;h<l;h++){var d=a[h];if(h<u&&n===d||h>=u&&d.type===n)return h}if(i){var f=a[u];if(f&&Tt(f)&&f.type===n)return u}return null}function Zn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof bn){var a=i;if(a.resolving)throw new Error("Circular dep for ".concat(Fn(o[n])));var s,u=Hn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=We(a.injectImpl)),un(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&We(s),Hn(u),a.resolving=!1,fn()}}return i}function Jn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function $n(e,t){return!(e&ue.Self||e&ue.Host&&t)}var Xn=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return zn(this._tNode,this._lView,e,void 0,t)}}]),e}();function er(e){return ne((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[Le]||function e(t){var n=t;if(Ae(t))return function(){var t=e(Se(n));return t?t():null};var r=Ct(n);if(null===r){var i=ve(n);r=i&&i.factory}return r||null}(t);return null!==n?n:function(e){return new e}}))}function tr(e){return e.ngDebugContext}function nr(e){return e.ngOriginalError}function rr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var ir=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||rr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?tr(e)?tr(e):this._findContext(nr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=nr(e);t&&nr(t);)t=nr(t);return t}}]),e}(),or=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),ar=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(or),sr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(or),ur=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(or),cr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(or),lr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(or);function hr(e){return e instanceof or?e.changingThisBreaksApplicationSecurity:e}function dr(e,t){var n=fr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function fr(e){return e instanceof or&&e.getTypeName()||null}var pr=!0,vr=!1;function gr(){return vr=!0,pr}var yr=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),mr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,_r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Cr(e){return(e=String(e)).match(mr)||e.match(_r)?e:(gr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function wr(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function kr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var Er,br=wr("area,br,col,hr,img,wbr"),Sr=wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ar=wr("rp,rt"),Tr=kr(Ar,Sr),Rr=kr(br,kr(Sr,wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kr(Ar,wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tr),Ir=wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dr=wr("srcset"),Or=kr(Ir,Dr,wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xr=wr("script,style,template"),Pr=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Rr.hasOwnProperty(t))return this.sanitizedSomething=!0,!xr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(Or.hasOwnProperty(s)){var u=o.value;Ir[s]&&(u=Cr(u)),Dr[s]&&(n=u,u=(n=String(n)).split(",").map((function(e){return Cr(e.trim())})).join(", ")),this.buf.push(" ",a,'="',Mr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Rr.hasOwnProperty(t)&&!br.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Mr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Nr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fr=/([^\#-~ |!])/g;function Mr(e){return e.replace(/&/g,"&amp;").replace(Nr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Fr,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ur(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Lr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Hr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Vr=/^url\(([^)]+)\)$/;function Br(e){if(!(e=String(e).trim()))return"";var t=e.match(Vr);return t&&Cr(t[1])===t[1]||e.match(Hr)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(gr()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function jr(e){var t=Kr();return t?t.sanitize(Lr.STYLE,e)||"":dr(e,"Style")?hr(e):Br(Nn(e))}function qr(e){var t=Kr();return t?t.sanitize(Lr.URL,e)||"":dr(e,"URL")?hr(e):Cr(Nn(e))}var Gr=function(e,t,n){if(void 0===t&&void 0===n)return jr(e);var r=!0;return 1&(n=n||3)&&(r=function(e){return"background-image"===e||"backgroundImage"===e||"background"===e||"border-image"===e||"borderImage"===e||"border-image-source"===e||"borderImageSource"===e||"filter"===e||"list-style"===e||"listStyle"===e||"list-style-image"===e||"listStyleImage"===e||"clip-path"===e||"clipPath"===e}(e)),2&n?r?jr(t):hr(t):r};function Kr(){var e=zt();return e&&e[12]}function zr(e,t){e.__ngContext__=t}function Wr(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function Qr(){throw new Error("Cannot mix multi providers and regular providers")}function Yr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Zr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Yr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Jr(e){return 0===e.type&&"ng-template"!==e.tagName}function $r(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function Xr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(An(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!$r(e,u,n)||""===u&&1===t.length){if(ei(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!Zr(e.attrs,c,n)){if(ei(r))return!1;a=!0}continue}var l=ti(8&r?"class":u,i,Jr(e),n);if(-1===l){if(ei(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var d=8&r?h:null;if(d&&-1!==Yr(d,c,0)||2&r&&c!==h){if(ei(r))return!1;a=!0}}}}else{if(!a&&!ei(r)&&!ei(u))return!1;if(a&&ei(u))continue;a=!1,r=u|1&r}}return ei(r)||a}function ei(e){return 0==(1&e)}function ti(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ni(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Xr(e,t[r],n))return!0;return!1}function ri(e,t){return e?":not("+t.trim()+")":t}function ii(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||ei(a)||(t+=ri(o,i),i=""),r=a,o=o||!ei(r);n++}return""!==i&&(t+=ri(o,i)),t}var oi={};function ai(e){var t=e[3];return Et(t)?t[3]:t}function si(e){return ci(e[13])}function ui(e){return ci(e[4])}function ci(e){for(;null!==e&&!Et(e);)e=e[4];return e}function li(e){hi(Wt(),zt(),vn()+e,$t())}function hi(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&_n(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Cn(t,o,0,n)}gn(n)}function di(e,t){return e<<17|t<<2}function fi(e){return e>>17&32767}function pi(e){return 2|e}function vi(e){return(131068&e)>>2}function gi(e,t){return-131069&e|t<<2}function yi(e){return 1|e}function mi(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];sn(i),a.contentQueries(2,t[o],o)}}}function _i(e,t,n){return Dt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ci(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,jt(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function wi(e,t,n,r,i,o){var a=n+20,s=e.data[a]||function(e,t,n,r,i,o){var a=Yt(),s=Jt(),u=s?a:a&&a.parent,c=e.data[n]=Di(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(e,t,a,r,i,o);return Zt(s,!0),s}function ki(e,t,n){cn(t,t[6]);try{var r=e.viewQuery;null!==r&&$i(1,r,n);var i=e.template;null!==i&&Si(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&mi(e,t),e.staticViewQueries&&$i(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Wi(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,pn()}}function Ei(e,t,n,r){var i=t[2];if(256!=(256&i)){cn(t,t[6]);var o=$t();try{jt(t),Gt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Si(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&_n(t,s,null)}else{var u=e.preOrderHooks;null!==u&&Cn(t,u,0,null),wn(t,0)}if(function(e){for(var t=si(e);null!==t;t=ui(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&qt(o,1),i[2]|=1024}}(t),function(e){for(var t=si(e);null!==t;t=ui(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];Vt(r)&&Ei(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&mi(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&_n(t,c)}else{var l=e.contentHooks;null!==l&&Cn(t,l,1),wn(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(gn(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(rn(r,i),a(2,t[i])),i++)}}finally{gn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)zi(e,t[n])}(t,h);var d=e.viewQuery;if(null!==d&&$i(2,d,r),!o)if(a){var f=e.viewCheckHooks;null!==f&&_n(t,f)}else{var p=e.viewHooks;null!==p&&Cn(t,p,2),wn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,qt(t[3],-1))}finally{pn()}}}function bi(e,t,n,r){var i=t[10],o=!$t(),a=Ht(t);try{o&&!a&&i.begin&&i.begin(),a&&ki(e,t,r),Ei(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Si(e,t,n,r,i){var o=vn();try{gn(-1),2&r&&t.length>20&&hi(e,t,0,$t()),n(r,i)}finally{gn(o)}}function Ai(e,t,n){Kt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Bn(n,t),zr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=Tt(u);c&&ji(t,n,u);var l=Zn(t,e,s,n);zr(l,t),null!==a&&qi(0,s-i,l,u,0,a),c&&(Ut(n.index,t)[8]=l)}}(e,t,n,Nt(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-20,u=Gt.lFrame.currentDirectiveIndex;try{gn(s);for(var c=r;c<i;c++){var l=e.data[c],h=t[c];on(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?Mi(l,h):a&&o.push(null)}}finally{gn(-1),on(u)}}(e,t,n))}function Ti(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nt,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function Ri(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ii(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ii(e,t,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,d=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:oi);return n}(l,h);return d[1]={type:e,id:t,blueprint:d,template:n,queries:null,viewQuery:s,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Di(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Oi(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function xi(e,t,n,r,i,o,a,s){var u,c,l=Nt(t,n),h=t.inputs;!s&&null!=h&&(u=h[r])?(ro(e,n,u,r,i),St(t)&&function(e,t){var n=Ut(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,t.tagName||"",r):i,Dt(o)?o.setProperty(l,r,i):Tn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Pi(e,t,n,r){var i=!1;if(Kt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ni(n,a.selectors,!1)&&(i||(i=[]),Kn(Bn(n,t),e,a.type),Tt(a)?(2&n.flags&&Wr(n),Li(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,Vi(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}Ui(e,n,o.length);for(var l=!1,h=!1,d=0;d<o.length;d++){var f=o[d];n.mergedAttrs=Rn(n.mergedAttrs,f.hostAttrs),Bi(e,t,f),Hi(e.data.length-1,f,a),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128),!l&&(f.onChanges||f.onInit||f.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),l=!0),h||!f.onChanges&&!f.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),Ni(e,f),s+=f.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Jr(t)?null:Gi(l,i);o.push(h),a=Oi(l,u,a),s=Oi(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),Fi(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Rn(n.mergedAttrs,n.attrs),i}function Ni(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Fi(e,t,n){for(var r=0;r<n;r++)t.push(oi),e.blueprint.push(oi),e.data.push(null)}function Mi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ui(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function Li(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Hi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Tt(t)&&(n[""]=e)}}function Vi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Bi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=Ct(n.type)),i=new bn(r,Tt(n),null);e.blueprint.push(i),t.push(i)}function ji(e,t,n){var r=Nt(t,e),i=Ri(n),o=e[10],a=Qi(e,Ci(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function qi(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function Gi(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ki(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function zi(e,t){var n=Ut(t,e);if(Vt(n)){var r=n[1];80&n[2]?Ei(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=si(t);null!==n;n=ui(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Ei(o,i,o.template,i[8])}else i[5]>0&&e(i)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=Ut(a[s],t);Vt(u)&&u[5]>0&&e(u)}}(n)}}function Wi(e,t){var n=Ut(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),ki(r,n,n[8])}function Qi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Yi(e){for(;e;){e[2]|=64;var t=ai(e);if(Rt(e)&&!t)return e;e=t}return null}function Zi(e,t,n){var r=t[10];r.begin&&r.begin();try{Ei(e,t,e.template,n)}catch(i){throw no(t,i),i}finally{r.end&&r.end()}}function Ji(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Lt(n),i=r[1];bi(i,r,i.template,n)}}(e[8])}function $i(e,t,n){sn(0),t(e,n)}var Xi=Promise.resolve(null);function eo(e){return e[7]||(e[7]=[])}function to(e){return e.cleanup||(e.cleanup=[])}function no(e,t){var n=e[9],r=n?n.get(ir,null):null;r&&r.handleError(t)}function ro(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function io(e,t,n){var r=Pt(t,e),i=e[11];Dt(i)?i.setValue(r,n):r.textContent=n}function oo(e,t){var n=t[3];return-1===e.index?Et(n)?n:null:n}function ao(e,t){var n=oo(e,t);return n?mo(t[11],n[7]):null}function so(e,t,n,r,i){if(null!=r){var o,a=!1;Et(r)?o=r:kt(r)&&(a=!0,r=r[0]);var s=xt(r);0===e&&null!==n?null==i?go(t,n,s):vo(t,n,s,i||null):1===e&&null!==n?vo(t,n,s,i||null):2===e?function(e,t,n){var r=mo(e,t);r&&function(e,t,n,r){Dt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==xt(n)&&so(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];ko(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function uo(e,t,n,r){var i=ao(e.node,t);i&&ko(e,t,t[11],n?1:2,i,r)}function co(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&qt(t[3],-1),n.splice(r,1)}function lo(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&co(i,r),t>0&&(e[n-1][4]=r[4]);var o=rt(e,10+t);uo(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function ho(e,t){if(!(256&t[2])){var n=t[11];Dt(n)&&n.destroyNode&&ko(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return po(e[1],e);for(;t;){var n=null;if(kt(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)kt(t)&&po(t[1],t),t=fo(t,e);null===t&&(t=e),kt(t)&&po(t[1],t),n=t&&t[4]}t=n}}(t)}}function fo(e,t){var n;return kt(e)&&(n=e[6])&&2===n.type?oo(n,e):e[3]===t?null:e[3]}function po(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof bn)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):xt(t[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Dt(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Et(t[3])){r!==t[3]&&co(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function vo(e,t,n,r){Dt(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function go(e,t,n){Dt(e)?e.appendChild(t,n):t.appendChild(n)}function yo(e,t,n,r){null!==r?vo(e,t,n,r):go(e,t,n)}function mo(e,t){return Dt(e)?e.parentNode(t):t.parentNode}function _o(e,t,n,r){var i=function(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?ao(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return Nt(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==st.ShadowDom&&a!==st.Native)return null}return Nt(r,n)}(e,r,t);if(null!=i){var o=t[11],a=function(e,t){if(2===e.type){var n=oo(e,t);return null===n?null:Co(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Nt(e,t):null}(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)yo(o,i,n[s],a);else yo(o,i,n,a)}}function Co(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return Nt(n,t);if(0===r)return Co(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Et(o)?Co(-1,o):xt(o)}var a=t[16],s=a[6],u=ai(a),c=s.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function wo(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===t&&(s&&zr(xt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(wo(e,t,n.child,r,i,o,!1),so(t,e,i,s,o)):1===u?Eo(e,t,r,n,i,o):so(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function ko(e,t,n,r,i,o){wo(n,r,e.node.child,t,i,o,!1)}function Eo(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)so(t,e,i,s[u],o);else wo(e,t,s,a[3],i,o,!0)}function bo(e,t,n){Dt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function So(e,t,n){Dt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Ao,To,Ro,Io=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}ho(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,eo(n=this._lView).push(r),t.firstCreatePass&&to(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){Yi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Zi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Xt(!0);try{Zi(e,t,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,ko(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(xt(a)),Et(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],d=h[6].projection[r.projection];if(Array.isArray(d))i.push.apply(i,_toConsumableArray(d));else{var f=ai(h);e(f[1],f,d,i,!0)}}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),Do=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){Ji(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Xt(!0);try{Ji(e)}finally{Xt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Io);function Oo(e,t,n){return Ao||(Ao=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new Ao(Nt(t,n))}function xo(e,t,n,r){return To||(To=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Ci(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),ki(t,n,e),new Io(n)}}]),n}(e)),0===n.type?new To(r,n,Oo(t,n,r)):null}function Po(e,t,n,r){var i;Ro||(Ro=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(Xe,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Et(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new Ro(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],nt(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),uo(r,n,!0,Co(s,this._lContainer)),e.attachToViewContainerRef(this),nt(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=lo(e,t);n&&ho(n[1],n)}(this._lContainer,t),rt(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=lo(this._lContainer,t);return n&&null!=rt(this._lContainer[8],t)?new Io(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Oo(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Xn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Gn(this._hostTNode,this._hostView),t=Pn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=xn(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return Dn(e)&&null!=n?new Xn(n,t):new Xn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(e));var o=r[n.index];if(Et(o))i=o;else{var a;if(4===n.type)a=xt(o);else if(a=r[11].createComment(""),Rt(r)){var s=r[11],u=Nt(n,r);vo(s,mo(s,u),a,function(e,t){return Dt(e)?e.nextSibling(t):t.nextSibling}(s,u))}else _o(r[1],r,a,n);r[n.index]=i=Ki(o,r,a,n),Qi(r,i)}return new Ro(i,n,r)}function No(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&St(e)){var r=Ut(e.index,t);return new Io(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Io(t[16],t):null}(Yt(),zt(),e)}var Fo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Mo()},e}(),Mo=No,Uo=new Ve("Set Injector scope."),Lo={},Ho={},Vo=[],Bo=void 0;function jo(){return void 0===Bo&&(Bo=new $e),Bo}function qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Go(e,n,t||jo(),r)}var Go=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&tt(n,(function(e){return i.processProvider(e,t,n)})),tt([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(Be,Wo(void 0,this));var s=this.records.get(Uo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:we(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.Default;this.assertNotDestroyed();var r,i=ze(this);try{if(!(n&ue.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Ve)&&fe(e);o=a&&this.injectableDefInScope(a)?Wo(Ko(e),Lo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&ue.Self?jo():this.parent).get(e,t=n&ue.Optional&&t===je?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(we(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=we(t);if(Array.isArray(t))i=t.map(we).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):we(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(qe,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{ze(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(we(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Se(e)))return!1;var i=ve(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=ve(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{tt(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;tt(i,(function(e){return r.processProvider(e,n,i||Vo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,Wo(i.factory,Lo));var h=i.providers;if(null!=h&&!s){var d=e;tt(h,(function(e){return r.processProvider(e,d,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Yo(e=Se(e))?e:Se(e&&e.provide),i=function(e,t,n){return Qo(e)?Wo(void 0,e.useValue):Wo(zo(e,t,n),Lo)}(e,t,n);if(Yo(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&Qr()}else{var a=this.records.get(r);a?void 0===a.multi&&Qr():((a=Wo(void 0,Lo,!0)).factory=function(){return Je(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===Ho?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(we(e)):t.value===Lo&&(t.value=Ho,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Ko(e){var t=fe(e),n=null!==t?t.factory:Ct(e);if(null!==n)return n;var r=ve(e);if(null!==r)return r.factory;if(e instanceof Ve)throw new Error("Token ".concat(we(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=function(e,t){for(var n=[],r=0;r<e;r++)n.push("?");return n}(t);throw new Error("Can't resolve all parameters for ".concat(we(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[ge]||e[_e]||e[me]&&e[me]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function zo(e,t,n){var r,i=void 0;if(Yo(e)){var o=Se(e);return Ct(o)||Ko(o)}if(Qo(e))i=function(){return Se(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(Je(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Ye(Se(e.useExisting))};else{var a=Se(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(we(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return Ct(a)||Ko(a);i=function(){return _construct(a,_toConsumableArray(Je(e.deps)))}}return i}function Wo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Qo(e){return null!==e&&"object"==typeof e&&Ge in e}function Yo(e){return"function"==typeof e}var Zo=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=qo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Jo=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Zo(e,t,""):Zo(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=je,e.NULL=new $e,e.\u0275prov=he({token:e,providedIn:"any",factory:function(){return Ye(Be)}}),e.__NG_ELEMENT_ID__=-1,e}(),$o=new Ve("AnalyzeForEntryComponents"),Xo=new Map,ea=new Set;function ta(e){return"string"==typeof e?e:e.text()}function na(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=ke(i,s):2==o&&(r=ke(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var ra=null;function ia(){if(!ra){var e=xe.Symbol;if(e&&e.iterator)ra=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ra=r)}}return ra}function oa(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var aa=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function sa(e){return!!ua(e)&&(Array.isArray(e)||!(e instanceof Map)&&ia()in e)}function ua(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ca(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function la(e,t,n,r){var i=ca(e,t,n);return ca(e,t+1,r)||i}function ha(e,t,n,r){var i=zt();return ca(i,tn(),t)&&(Wt(),function(e,t,n,r,i,o){var a=Nt(e,t),s=t[11];if(null==r)Dt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Nn(r):i(r,e.tagName||"",n);Dt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(yn(),i,e,t,n,r)),ha}function da(e,t,n,r){return ca(e,tn(),n)?t+Nn(n)+r:oi}function fa(e,t,n,r,i,o,a,s){var u=zt(),c=Wt(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=wi(t,n[6],e,0,a||null,Bt(c,s));Pi(t,n,l,Bt(c,u)),mn(t,l);var h=l.tViews=Ii(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),d=Di(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,a):c.data[l];Zt(h,!1);var d=u[11].createComment("");_o(c,u,d,h),zr(d,u),Qi(u,u[l]=Ki(d,u,d,h)),At(h)&&Ai(c,u,h),null!=a&&Ti(u,h,s)}function pa(e){return Mt(Gt.lFrame.contextLView,e)}function va(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.Default,n=zt();return null==n?Ye(e,t):zn(Yt(),n,Se(e),t)}function ga(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(An(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(Yt(),e)}function ya(){throw new Error("invalid")}function ma(e,t,n){var r=zt();return ca(r,tn(),t)&&xi(Wt(),yn(),r,e,t,r[11],n,!1),ma}function _a(e,t,n,r,i){var o=i?"class":"style";ro(e,n,t.inputs[o],o,r)}function Ca(e,t,n,r){var i=zt(),o=Wt(),a=20+e,s=i[11],u=i[a]=_i(t,s,Gt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=Bt(s,o),c=wi(t,n[6],e,3,i,u);return Pi(t,n,c,Bt(s,a)),null!==c.attrs&&na(c,c.attrs,!1),null!==c.mergedAttrs&&na(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[a];Zt(c,!0);var l=c.mergedAttrs;null!==l&&Sn(s,u,l);var h=c.classes;null!==h&&So(s,u,h);var d=c.styles;null!==d&&bo(s,u,d),_o(o,i,u,c),0===Gt.lFrame.elementDepthCount&&zr(u,i),Gt.lFrame.elementDepthCount++,At(c)&&(Ai(o,i,c),function(e,t,n){if(bt(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Ti(i,c)}function wa(){var e=Yt();Jt()?Gt.lFrame.isParent=!1:Zt(e=e.parent,!1);var t=e;Gt.lFrame.elementDepthCount--;var n=Wt();n.firstCreatePass&&(mn(n,e),bt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&_a(n,t,zt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&_a(n,t,zt(),t.stylesWithoutHost,!1)}function ka(e,t,n,r){Ca(e,t,n,r),wa()}function Ea(){return zt()}function ba(e){return!!e&&"function"==typeof e.then}function Sa(e){return!!e&&"function"==typeof e.subscribe}function Aa(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=zt(),o=Wt(),a=Yt();return function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=At(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=eo(t),h=!0;if(3===r.type){var d=Nt(r,t),f=s?s(d):ut,p=f.target||d,v=l.length,g=s?function(e){return s(xt(e[r.index])).target}:r.index;if(Dt(n)){var y=null;if(!s&&u&&(y=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=Ra(r,t,o,!1);var m=n.listen(f.name||p,i,o);l.push(o,m),c&&c.push(i,g,v,v+1)}}else o=Ra(r,t,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,g,v,a)}var _,C=r.outputs;if(h&&null!==C&&(_=C[i])){var w=_.length;if(w)for(var k=0;k<w;k+=2){var E=t[_[k]][_[k+1]].subscribe(o),b=l.length;l.push(o,E),c&&c.push(i,r.index,b,-(b+1))}}}(o,i,i[11],a,e,t,n,r),Aa}function Ta(e,t,n){try{return!1!==t(n)}catch(r){return no(e,r),!1}}function Ra(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?Ut(e.index,t):t;0==(32&t[2])&&Yi(a);for(var s=Ta(t,n,o),u=i.__ngNextListenerFn__;u;)s=Ta(t,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Gt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Gt.lFrame.contextLView))[8]}(e)}function Da(e,t,n){return Oa(e,"",t,"",n),Da}function Oa(e,t,n,r,i){var o=zt(),a=da(o,t,n,r);return a!==oi&&xi(Wt(),yn(),o,e,a,o[11],i,!1),Oa}var xa=[];function Pa(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?fi(o):vi(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];Na(e[s],t)&&(u=!0,e[s+1]=r?yi(c):pi(c)),s=r?fi(c):vi(c)}u&&(e[n+1]=r?pi(o):yi(o))}function Na(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ot(e,t)>=0}function Fa(e,t,n){return Ua(e,t,n,!1),Fa}function Ma(e,t){return Ua(e,t,null,!0),Ma}function Ua(e,t,n,r){var i,o,a=zt(),s=Wt(),u=nn(2);(s.firstUpdatePass&&function(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[vn()+20],a=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=Gt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ha(n=La(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=La(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==vi(r))return e[fi(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[fi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Ha(s=La(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ha(r,e[o].hostAttrs,n);return Ha(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=fi(a),u=vi(a);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||ot(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var d=fi(e[s+1]);e[r+1]=di(d,s),0!==d&&(e[d+1]=gi(e[d+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=di(s,0),0!==s&&(e[s+1]=gi(e[s+1],r)),s=r;else e[r+1]=di(u,0),0===s?s=r:e[u+1]=gi(e[u+1],r),u=r;l&&(e[r+1]=pi(e[r+1])),Pa(e,c,r,!0),Pa(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&ot(o,t)>=0&&(n[r+1]=yi(n[r+1]))}(t,c,e,r,o),a=di(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}(s,e,u,r),t!==oi&&ca(a,u,t))&&(null==n&&(i=null===(o=Gt.lFrame)?null:o.currentSanitizer)&&(n=i),function(e,t,n,r,i,o,a,s){if(3===t.type){var u=e.data,c=u[s+1];Ba(1==(1&c)?Va(u,t,n,i,vi(c),a):void 0)||(Ba(o)||2==(2&c)&&(o=Va(u,null,n,i,s,a)),function(e,t,n,r,i){var o=Dt(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Pt(vn(),n),i,o))}}(s,s.data[vn()+20],a,a[11],e,a[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=we(hr(e)))),e}(t,n),r,u))}function La(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ha(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Ha(e,t,n){var r,i,o,a,s=n?1:2,u=-1;if(null!==t)for(var c=0;c<t.length;c++){var l=t[c];"number"==typeof l?u=l:u===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),r=e,i=l,o=!!n||t[++c],a=void 0,(a=ot(r,i))>=0?r[1|a]=o:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(r,a=~a,i,o))}return void 0===e?null:e}function Va(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,d=n[i+1];d===oi&&(d=h?xa:void 0);var f=h?it(d,r):l===r?d:void 0;if(c&&!Ba(f)&&(f=it(u,r)),Ba(f)&&(s=f,a))return s;var p=e[i+1];i=a?fi(p):vi(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=it(v,r))}return s}function Ba(e){return void 0!==e}function ja(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=zt(),r=Wt(),i=e+20,o=r.firstCreatePass?wi(r,n[6],e,3,null,null):r.data[i],a=n[i]=function(e,t){return Dt(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);_o(r,n,a,o),Zt(o,!1)}function qa(e){return Ga("",e,""),qa}function Ga(e,t,n){var r=zt(),i=da(r,e,t,n);return i!==oi&&io(r,vn(),i),Ga}function Ka(e,t,n,r,i){var o=zt(),a=function(e,t,n,r,i,o){var a=la(e,en(),n,i);return nn(2),a?t+Nn(n)+r+Nn(i)+o:oi}(o,e,t,n,r,i);return a!==oi&&io(o,vn(),a),Ka}function za(e,t,n){var r=zt();return ca(r,tn(),t)&&xi(Wt(),yn(),r,e,t,r[11],n,!0),za}function Wa(e,t){var n=Lt(e)[1],r=n.data.length-1;mn(n,{directiveStart:r,directiveEnd:r+1})}function Qa(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(Tt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Ya(e.inputs),o.declaredInputs=Ya(e.declaredInputs),o.outputs=Ya(e.outputs);var a=i.hostBindings;a&&$a(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Za(e,s),u&&Ja(e,u),le(e.inputs,i.inputs),le(e.declaredInputs,i.declaredInputs),le(e.outputs,i.outputs),Tt(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var d=l[h];d&&d.ngInherit&&d(e),d===Qa&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Rn(i.hostAttrs,n=Rn(n,i.hostAttrs))}}(r)}function Ya(e){return e===ut?{}:e===ct?[]:e}function Za(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Ja(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function $a(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Xa=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function es(e){e.type.prototype.ngOnChanges&&(e.setInput=ts,e.onChanges=function(){var e=ns(this),t=e&&e.current;if(t){var n=e.previous;if(n===ut)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function ts(e,t,n,r){var i=ns(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ut,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Xa(u&&u.currentValue,t,a===ut),e[r]=t}function ns(e){return e.__ngSimpleChanges__||null}function rs(e,t,n,r,i){if(e=Se(e),Array.isArray(e))for(var o=0;o<e.length;o++)rs(e[o],t,n,r,i);else{var a=Wt(),s=zt(),u=Yo(e)?e:Se(e.provide),c=zo(e),l=Yt(),h=65535&l.providerIndexes,d=l.directiveStart,f=l.providerIndexes>>16;if(Yo(e)||!e.multi){var p=new bn(c,i,va),v=as(u,t,i?h:h+f,d);-1===v?(Kn(Bn(l,s),a,u),is(a,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=as(u,t,h+f,d),y=as(u,t,h,h+f),m=g>=0&&n[g],_=y>=0&&n[y];if(i&&!_||!i&&!m){Kn(Bn(l,s),a,u);var C=function(e,t,n,r,i){var o=new bn(e,n,va);return o.multi=[],o.index=t,o.componentProviders=0,os(o,i,r&&!n),o}(i?us:ss,n.length,i,r,c);!i&&_&&(n[y].providerFactory=C),is(a,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(C),s.push(C)}else is(a,e,g>-1?g:y,os(n[i?y:g],c,!i&&r));!i&&r&&_&&n[y].componentProviders++}}}function is(e,t,n,r){var i=Yo(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function os(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function as(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function ss(e,t,n,r){return cs(this.multi,[])}function us(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Zn(n,n[1],this.providerFactory.index,r);cs(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else cs(o,i=[]);return i}function cs(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function ls(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=Wt();if(r.firstCreatePass){var i=Tt(e);rs(n,r.data,r.blueprint,i,!0),rs(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}es.ngInherit=!0;var hs=function e(){_classCallCheck(this,e)},ds=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(we(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),fs=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new ds,e}(),ps=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return vs(e)},e}(),vs=function(e){return Oo(e,Yt(),zt())},gs=function e(){_classCallCheck(this,e)},ys=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),ms=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return _s()},e}(),_s=function(){var e=zt(),t=Ut(Yt().index,e);return function(e){var t=e[11];if(Dt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(kt(t)?t:e)},Cs=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=he({token:e,providedIn:"root",factory:function(){return null}}),e}(),ws=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("9.1.9"),ks=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return sa(e)}},{key:"create",value:function(e){return new bs(e)}}]),e}(),Es=function(e,t){return t},bs=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Es}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Rs(n,r,i)?t:n,a=Rs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,d=h+l;c<=d&&d<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!sa(e))throw new Error("Error trying to diff '".concat(we(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&oa(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),oa(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[ia()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&oa(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),oa(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(oa(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(oa(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Ss(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ts),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ts),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Ss=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},As=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&oa(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Ts=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new As,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Rs(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Is=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||ua(e)}},{key:"create",value:function(){return new Ds}}]),e}(),Ds=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||ua(e)))throw new Error("Error trying to diff '".concat(we(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Os(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){oa(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Os=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},xs=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new se,new oe]]}}}]),e}();return e.\u0275prov=he({token:e,providedIn:"root",factory:function(){return new e([new ks])}}),e}(),Ps=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new se,new oe]]}}}]),e}();return e.\u0275prov=he({token:e,providedIn:"root",factory:function(){return new e([new Is])}}),e}(),Ns=[new Is],Fs=new xs([new ks]),Ms=new Ps(Ns),Us=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ls(e,ps)},e}(),Ls=function(e,t){return xo(e,t,Yt(),zt())},Hs=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Vs(e,ps)},e}(),Vs=function(e,t){return Po(e,t,Yt(),zt())},Bs={},js=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=_t(e);return new Ks(t,this.ngModule)}}]),n}(fs);function qs(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Gs=new Ve("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Mn}}),Ks=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(ii).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Bs,i);return o!==Bs||r===Bs?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(gs,Ot),u=a.get(Cs,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Dt(e))return e.selectRootElement(t,n===st.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):_i(l,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),d=this.componentDef.onPush?576:528,f="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Mn,clean:Xi,playerHandler:null,flags:0},v=Ii(0,-1,null,1,0,null,null,null,null,null),g=Ci(null,v,p,d,null,null,s,c,u,a);cn(g,null);try{var y=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=wi(a,null,0,3,null,null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(na(s,u,!0),null!==e&&(Sn(i,e,u),null!==s.classes&&So(i,e,s.classes),null!==s.styles&&bo(i,e,s.styles)));var c=r.createRenderer(e,t),l=Ci(n,Ri(t),null,t.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(Kn(Bn(s,n),a,t.type),Li(a,s),Vi(s,n.length,1)),Qi(n,l),n[20]=l}(h,this.componentDef,g,s,c);if(h)if(n)Sn(c,h,["ng-version",ws.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!ei(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,C=m.classes;_&&Sn(c,h,_),C&&C.length>0&&So(c,h,C.join(" "))}if(o=Ft(v,0),void 0!==t)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var E=t[k];w.push(null!=E?Array.from(E):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=Yt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ui(e,r,1),Bi(e,t,n));var i=Zn(t,e,t.length-1,r);zr(i,t);var o=Nt(r,t);return o&&zr(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=Yt();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){gn(s.index-20);var u=n[1];Ni(u,t),Fi(u,n,t.hostVars),Mi(t,a)}return a}(y,this.componentDef,g,p,[Wa]),ki(v,g,null)}finally{pn()}var b=new zs(this.componentType,i,Oo(ps,o,g),g,o);return n&&!f||(v.node.child=o),b}},{key:"inputs",get:function(){return qs(this.componentDef.inputs)}},{key:"outputs",get:function(){return qs(this.componentDef.outputs)}}]),n}(hs),zs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new Do(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=Di(0,null,2,-1,null,null)),c[6]=l,s.componentType=e,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new Xn(this._tNode,this._rootLView)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Ws=void 0,Qs=["en",[["a","p"],["AM","PM"],Ws],[["AM","PM"],Ws,Ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ws,"{1} 'at' {0}",Ws],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Ys={};function Zs(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Js(t);if(n)return n;var r=t.split("-")[0];if(n=Js(r))return n;if("en"===r)return Qs;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Js(e){return e in Ys||(Ys[e]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[e]),Ys[e]}var $s=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function Xs(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var eu=new Map,tu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new js(_assertThisInitialized(i));var o=wt(e),a=e[Ue]||null;return a&&Xs(a),i._bootstrapComponents=Un(o.bootstrap),i._r3Injector=qo(e,r,[{provide:Xe,useValue:_assertThisInitialized(i)},{provide:fs,useValue:i.componentFactoryResolver}],we(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.Default;return e===Jo||e===Xe||e===Be?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Xe),nu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==wt(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(we(t)," vs ").concat(we(t.name)))})(n,eu.get(n),t),eu.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new tu(this.moduleType,e)}}]),n}(et);var ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,o=function(e){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,a);return e instanceof d&&e.add(s),s}}]),n}(R);function iu(){return this._results[ia()]()}var ou=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new ru,this.length=0;var t=ia(),n=e.prototype;n[t]||(n[t]=iu)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),au=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),su=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==yu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),uu=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},cu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),lu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,hu(t,n[r]));else{var i=this.metadata.predicate;i===Us?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Yn(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===ps||r===Hs||r===Us&&0===t.type)this.addMatch(t.index,-2);else{var i=Yn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function hu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function du(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?Oo(ps,e,t):0===e.type?xo(Us,ps,e,t):null}(t,e):-2===n?function(e,t,n){return n===ps?Oo(ps,t,e):n===Us?xo(Us,ps,t,e):n===Hs?Po(Hs,ps,t,e):void 0}(e,t,r):Zn(e,e[1],n,t)}function fu(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:du(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function pu(e){var t=zt(),n=Wt(),r=an();sn(r+1);var i=yu(n,r);if(e.dirty&&Ht(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=fu(t,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],d=10;d<h.length;d++){var f=h[d];f[17]===f[3]&&e(f[1],f,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var g=p[v];e(g[1],g,l,i)}}}return i}(n,t,r,[]):fu(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function vu(e,t,n,r){!function(e,t,n,r,i,o,a,s){e.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new cu),e.queries.track(new lu(t,n))}(e,new uu(n,r,!1,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s)),function(e,t){var n=new ou;!function(e,t,n,r){var i=eo(t);i.push(n),e.firstCreatePass&&to(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new su),t[19].queries.push(new au(n))}(e,t)}(Wt(),zt(),t,n,r,0,Yt(),e)}function gu(){return e=zt(),t=an(),e[19].queries[t].queryList;var e,t}function yu(e,t){return e.queries.getByIndex(t)}var mu=new Ve("Application Initializer"),_u=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ba(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ye(mu,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),Cu=new Ve("AppId"),wu={provide:Cu,useFactory:function(){return"".concat(ku()).concat(ku()).concat(ku())},deps:[]};function ku(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Eu=new Ve("Platform Initializer"),bu=new Ve("Platform ID"),Su=new Ve("appBootstrapListener"),Au=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),Tu=new Ve("LocaleId"),Ru=new Ve("DefaultCurrencyCode"),Iu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},Du=function(e){return new nu(e)},Ou=Du,xu=function(e){return Promise.resolve(Du(e))},Pu=function(e){var t=Du(e),n=Un(wt(e).declarations).reduce((function(e,t){var n=_t(t);return n&&e.push(new Ks(n)),e}),[]);return new Iu(t,n)},Nu=Pu,Fu=function(e){return Promise.resolve(Pu(e))},Mu=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Ou,this.compileModuleAsync=xu,this.compileModuleAndAllComponentsSync=Nu,this.compileModuleAndAllComponentsAsync=Fu}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),Uu=new Ve("compilerOptions"),Lu=Promise.resolve(0);function Hu(e){"undefined"==typeof Zone?Lu.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Vu=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ru(!1),this.onMicrotaskEmpty=new ru(!1),this.onStable=new ru(!1),this.onError=new ru(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=xe.requestAnimationFrame,t=xe.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(xe,(function(){e.lastRequestAnimationFrameId=-1,Gu(e),qu(e)})),Gu(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return Ku(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),zu(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return Ku(n),e.invoke(r,i,o,a,s)}finally{zu(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Gu(n),qu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,ju,Bu,Bu);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Bu(){}var ju={};function qu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Gu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Ku(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zu(e){e._nesting--,qu(e)}var Wu,Qu=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ru,this.onMicrotaskEmpty=new ru,this.onStable=new ru,this.onError=new ru}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Yu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Vu.assertNotInAngularZone(),Hu((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Hu((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ye(Vu))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),Zu=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,Ju.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ju.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),Ju=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),$u=function(e,t,n){var r=e.get(Uu,[]).concat(t),i=new nu(n);if(0===Xo.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(e){return e.providers})),a=[],o.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray(e))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var e=xe.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),c=Jo.create({providers:s}).get(u.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(c.get(e))}(e);n.set(e,t=r.then(ta))}return t}return Xo.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){ea.delete(e)}(n)}));t.push(u)})),Xo=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},Xu=new Ve("AllowMultipleToken"),ec=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function tc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new Ve(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=nc();if(!o||o.injector.get(Xu,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:Uo,useValue:"platform"});!function(e){if(Wu&&!Wu.destroyed&&!Wu.injector.get(Xu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wu=e.get(rc);var t=e.get(Eu,null);t&&t.forEach((function(e){return e()}))}(Jo.create({providers:a,name:r}))}return function(e){var t=nc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function nc(){return Wu&&!Wu.destroyed?Wu:null}var rc=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new Qu:("zone.js"===n?void 0:n)||new Vu({enableLongStackTrace:gr(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Vu,useValue:o}];return o.run((function(){var t=Jo.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(ir,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return sc(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(_u)).runInitializers(),a.donePromise.then((function(){return Xs(n.injector.get(Tu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return ba(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=ic({},n);return $u(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(ac);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(we(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ye(Jo))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}();function ic(e,t){return Array.isArray(t)?t.reduce(ic,e):Object.assign(Object.assign({},e),t)}var oc,ac=((oc=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=gr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var u=new k((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),c=new k((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){Vu.assertNotInAngularZone(),Hu((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Vu.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return D(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof k?t[0]:W(r)(Q(t,i))}(u,c.pipe((function(e){return Y()((t=te,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,X);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof hs?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Xe),o=n.create(Jo.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Yu,null);return a&&o.injector.get(Zu).registerApplication(o.location.nativeElement,a),this._loadComponent(o),gr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;sc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Su,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),sc(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||oc)(Ye(Vu),Ye(Au),Ye(Jo),Ye(ir),Ye(fs),Ye(_u))},oc.\u0275prov=he({token:oc,factory:oc.\u0275fac}),oc);function sc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var uc=function e(){_classCallCheck(this,e)},cc=function e(){_classCallCheck(this,e)},lc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},hc=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||lc}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return dc(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return dc(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ye(Mu),Ye(cc,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}();function dc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var fc=tc(null,"core",[{provide:bu,useValue:"unknown"},{provide:rc,deps:[Jo]},{provide:Zu,deps:[]},{provide:Au,deps:[]}]),pc=[{provide:ac,useClass:ac,deps:[Vu,Au,Jo,ir,fs,_u]},{provide:Gs,deps:[Vu],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:_u,useClass:_u,deps:[[new oe,mu]]},{provide:Mu,useClass:Mu,deps:[]},wu,{provide:xs,useFactory:function(){return Fs},deps:[]},{provide:Ps,useFactory:function(){return Ms},deps:[]},{provide:Tu,useFactory:function(e){return Xs(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ie(Tu),new oe,new se]]},{provide:Ru,useValue:"USD"}],vc=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=vt({type:e}),e.\u0275inj=de({factory:function(t){return new(t||e)(Ye(ac))},providers:pc}),e}(),gc=null;function yc(){return gc}var mc,_c=new Ve("DocumentToken"),Cc=((mc=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||mc)},mc.\u0275prov=he({factory:wc,token:mc,providedIn:"platform"}),mc);function wc(){return Ye(bc)}var kc,Ec=new Ve("Location Initialized"),bc=((kc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=yc().getLocation(),this._history=yc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return yc().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){yc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){yc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){Sc()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){Sc()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Cc)).\u0275fac=function(e){return new(e||kc)(Ye(_c))},kc.\u0275prov=he({factory:Ac,token:kc,providedIn:"platform"}),kc);function Sc(){return!!window.history.pushState}function Ac(){return new bc(Ye(_c))}function Tc(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Rc(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ic(e){return e&&"?"!==e[0]?"?"+e:e}var Dc,Oc=((Dc=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Dc)},Dc.\u0275prov=he({factory:xc,token:Dc,providedIn:"root"}),Dc);function xc(e){var t=Ye(_c).location;return new Uc(Ye(Cc),t&&t.origin||"")}var Pc,Nc,Fc,Mc=new Ve("appBaseHref"),Uc=((Fc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Tc(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Ic(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Ic(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Ic(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Oc)).\u0275fac=function(e){return new(e||Fc)(Ye(Cc),Ye(Mc,8))},Fc.\u0275prov=he({token:Fc,factory:Fc.\u0275fac}),Fc),Lc=((Nc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Tc(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Ic(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Ic(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Oc)).\u0275fac=function(e){return new(e||Nc)(Ye(Cc),Ye(Mc,8))},Nc.\u0275prov=he({token:Nc,factory:Nc.\u0275fac}),Nc),Hc=((Pc=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new ru,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Rc(Bc(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Ic(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Bc(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ic(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ic(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||Pc)(Ye(Oc),Ye(Cc))},Pc.normalizeQueryParams=Ic,Pc.joinWithSlash=Tc,Pc.stripTrailingSlash=Rc,Pc.\u0275prov=he({factory:Vc,token:Pc,providedIn:"root"}),Pc);function Vc(){return new Hc(Ye(Oc),Ye(Cc))}function Bc(e){return e.replace(/\/index.html$/,"")}var jc={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},qc=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),Gc=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Kc=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),zc=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),Wc=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),Qc=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function Yc(e,t){return tl(Zs(e)[$s.DateFormat],t)}function Zc(e,t){return tl(Zs(e)[$s.TimeFormat],t)}function Jc(e,t){return tl(Zs(e)[$s.DateTimeFormat],t)}function $c(e,t){var n=Zs(e),r=n[$s.NumberSymbols][t];if(void 0===r){if(t===Qc.CurrencyDecimal)return n[$s.NumberSymbols][Qc.Decimal];if(t===Qc.CurrencyGroup)return n[$s.NumberSymbols][Qc.Group]}return r}function Xc(e,t){return Zs(e)[$s.NumberFormats][t]}function el(e){if(!e[$s.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[$s.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function tl(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function nl(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var rl=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,il={},ol=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,al=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),sl=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),ul=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function cl(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function ll(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function hl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(e,t){switch(e){case sl.FullYear:return t.getFullYear();case sl.Month:return t.getMonth();case sl.Date:return t.getDate();case sl.Hours:return t.getHours();case sl.Minutes:return t.getMinutes();case sl.Seconds:return t.getSeconds();case sl.FractionalSeconds:return t.getMilliseconds();case sl.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===sl.Hours)0===u&&-12===n&&(u=12);else if(e===sl.FractionalSeconds)return s=t,ll(u,3).substr(0,s);var c=$c(a,Qc.MinusSign);return ll(u,t,c,r,i)}}function dl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kc.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(e,t,n,r,i,o){switch(n){case ul.Months:return function(e,t,n){var r=Zs(e),i=tl([r[$s.MonthsFormat],r[$s.MonthsStandalone]],t);return tl(i,n)}(t,i,r)[e.getMonth()];case ul.Days:return function(e,t,n){var r=Zs(e),i=tl([r[$s.DaysFormat],r[$s.DaysStandalone]],t);return tl(i,n)}(t,i,r)[e.getDay()];case ul.DayPeriods:var a=e.getHours(),s=e.getMinutes();if(o){var u,c=function(e){var t=Zs(e);return el(t),(t[$s.ExtraData][2]||[]).map((function(e){return"string"==typeof e?nl(e):[nl(e[0]),nl(e[1])]}))}(t),l=function(e,t,n){var r=Zs(e);el(r);var i=tl([r[$s.ExtraData][0],r[$s.ExtraData][1]],t)||[];return tl(i,n)||[]}(t,i,r);if(c.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],c=o.hours,h=o.minutes;a>=r&&s>=i&&(a<c||a===c&&s<h)&&(u=l[t])}else{var d=e.hours,f=e.minutes;d===a&&f===s&&(u=l[t])}})),u)return u}return function(e,t,n){var r=Zs(e),i=tl([r[$s.DayPeriodsFormat],r[$s.DayPeriodsStandalone]],t);return tl(i,n)}(t,i,r)[a<12?0:1];case ul.Eras:return function(e,t){return tl(Zs(e)[$s.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(i,o,e,t,n,r)}}function fl(e){return function(t,n,r){var i=-1*r,o=$c(n,Qc.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case al.Short:return(i>=0?"+":"")+ll(a,2,o)+ll(Math.abs(i%60),2,o);case al.ShortGMT:return"GMT"+(i>=0?"+":"")+ll(a,1,o);case al.Long:return"GMT"+(i>=0?"+":"")+ll(a,2,o)+":"+ll(Math.abs(i%60),2,o);case al.Extended:return 0===r?"Z":(i>=0?"+":"")+ll(a,2,o)+":"+ll(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function pl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return ll(i,e,$c(r,Qc.MinusSign))}}var vl={};function gl(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function yl(e){return e instanceof Date&&!isNaN(e.valueOf())}var ml=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function _l(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",u=!1;if(isFinite(e)){var c=function(e){var t,n,r,i,o,a=Math.abs(e)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))t=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(a.charAt(r))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}(e);a&&(c=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));var l=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){var f=o.match(ml);if(null===f)throw new Error("".concat(o," is not a valid digit info"));var p=f[1],v=f[3],g=f[5];null!=p&&(l=wl(p)),null!=v&&(h=wl(v)),null!=g?d=wl(g):null!=v&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,s=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,d=t+e.integerLen,f=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=d?r.pop():h=!1),t>=10?1:0}),0);f&&(r.unshift(f),e.integerLen++)}(c,h,d);var y=c.digits,m=c.integerLen,_=c.exponent,C=[];for(u=y.every((function(e){return!e}));m<l;m++)y.unshift(0);for(;m<0;m++)y.unshift(0);m>0?C=y.splice(m,y.length):(C=y,y=[0]);var w=[];for(y.length>=t.lgSize&&w.unshift(y.splice(-t.lgSize,y.length).join(""));y.length>t.gSize;)w.unshift(y.splice(-t.gSize,y.length).join(""));y.length&&w.unshift(y.join("")),s=w.join($c(n,r)),C.length&&(s+=$c(n,i)+C.join("")),_&&(s+=$c(n,Qc.Exponential)+"+"+_)}else s=$c(n,Qc.Infinity);return s=e<0&&!u?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}function Cl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var d=i.length-n.posPre.length-n.posSuf.length,f=o.indexOf("#");n.negPre=o.substr(0,f).replace(/'/g,""),n.negSuf=o.substr(f+d).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function wl(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var kl=function e(){_classCallCheck(this,e)};function El(e,t,n,r){var i="=".concat(e);if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'.concat(e,'"'))}var bl,Sl,Al,Tl,Rl,Il=((Al=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return Zs(e)[$s.PluralCase]}(t||this.locale)(e)){case Gc.Zero:return"zero";case Gc.One:return"one";case Gc.Two:return"two";case Gc.Few:return"few";case Gc.Many:return"many";default:return"other"}}}]),n}(kl)).\u0275fac=function(e){return new(e||Al)(Ye(Tu))},Al.\u0275prov=he({token:Al,factory:Al.\u0275fac}),Al),Dl=((Sl=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(we(e.item)));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(sa(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}()).\u0275fac=function(e){return new(e||Sl)(va(xs),va(Ps),va(ps),va(ms))},Sl.\u0275dir=yt({type:Sl,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Sl),Ol=((bl=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=t.get(Xe);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(fs)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}},{key:"ngOnDestroy",value:function(){this._moduleRef&&this._moduleRef.destroy()}}]),e}()).\u0275fac=function(e){return new(e||bl)(va(Hs))},bl.\u0275dir=yt({type:bl,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[es]}),bl),xl=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Pl=((Tl=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new xl(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new Nl(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new Nl(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){gr()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Tl)(va(Hs),va(Us),va(xs))},Tl.\u0275dir=yt({type:Tl,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Tl),Nl=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},Fl=((Rl=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Ml,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Ul("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Ul("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Rl)(va(Hs),va(Us))},Rl.\u0275dir=yt({type:Rl,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Rl),Ml=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Ul(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(we(t),"'."))}var Ll,Hl,Vl,Bl,jl,ql,Gl,Kl=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),zl=((Gl=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}()).\u0275fac=function(e){return new(e||Gl)},Gl.\u0275dir=yt({type:Gl,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Gl),Wl=((ql=function(){function e(t,n,r){_classCallCheck(this,e),this.ngSwitch=r,r._addCase(),this._view=new Kl(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}()).\u0275fac=function(e){return new(e||ql)(va(Hs),va(Us),va(zl,1))},ql.\u0275dir=yt({type:ql,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),ql),Ql=((jl=function e(t,n,r){_classCallCheck(this,e),r._addDefault(new Kl(t,n))}).\u0275fac=function(e){return new(e||jl)(va(Hs),va(Us),va(zl,1))},jl.\u0275dir=yt({type:jl,selectors:[["","ngSwitchDefault",""]]}),jl),Yl=((Bl=function(){function e(t){_classCallCheck(this,e),this._localization=t,this._caseViews={}}return _createClass(e,[{key:"addCase",value:function(e,t){this._caseViews[e]=t}},{key:"_updateView",value:function(){this._clearViews();var e=Object.keys(this._caseViews),t=El(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}},{key:"_clearViews",value:function(){this._activeView&&this._activeView.destroy()}},{key:"_activateView",value:function(e){e&&(this._activeView=e,this._activeView.create())}},{key:"ngPlural",set:function(e){this._switchValue=e,this._updateView()}}]),e}()).\u0275fac=function(e){return new(e||Bl)(va(kl))},Bl.\u0275dir=yt({type:Bl,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),Bl),Zl=((Vl=function e(t,n,r,i){_classCallCheck(this,e),this.value=t;var o=!isNaN(Number(t));i.addCase(o?"=".concat(t):t,new Kl(r,n))}).\u0275fac=function(e){return new(e||Vl)(ga("ngPluralCase"),va(Us),va(Hs),va(Yl,1))},Vl.\u0275dir=yt({type:Vl,selectors:[["","ngPluralCase",""]]}),Vl),Jl=((Hl=function(){function e(t,n,r){_classCallCheck(this,e),this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),r=n[0],i=n[1];null!=(t=null!=t&&i?"".concat(t).concat(i):t)?this._renderer.setStyle(this._ngEl.nativeElement,r,t):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem((function(e){return t._setStyle(e.key,null)})),e.forEachAddedItem((function(e){return t._setStyle(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._setStyle(e.key,e.currentValue)}))}},{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}}]),e}()).\u0275fac=function(e){return new(e||Hl)(va(ps),va(Ps),va(ms))},Hl.\u0275dir=yt({type:Hl,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Hl),$l=((Ll=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===t.indexOf(o))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}()).\u0275fac=function(e){return new(e||Ll)(va(Hs))},Ll.\u0275dir=yt({type:Ll,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[es]}),Ll);function Xl(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(we(e),"'"))}var eh,th,nh,rh,ih,oh,ah,sh,uh,ch=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),lh=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),hh=new ch,dh=((th=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):oa(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,aa.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(ba(t))return lh;if(Sa(t))return hh;throw Xl(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}()).\u0275fac=function(e){return new(e||th)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.Default,t=No(!0);if(null!=t||e&ue.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}())},th.\u0275pipe=mt({name:"async",type:th,pure:!1}),th),fh=((eh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Xl(e,t);return t.toLowerCase()}}]),e}()).\u0275fac=function(e){return new(e||eh)},eh.\u0275pipe=mt({name:"lowercase",type:eh,pure:!0}),eh),ph=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,vh=((ih=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Xl(e,t);return t.replace(ph,(function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}))}}]),e}()).\u0275fac=function(e){return new(e||ih)},ih.\u0275pipe=mt({name:"titlecase",type:ih,pure:!0}),ih),gh=((rh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Xl(e,t);return t.toUpperCase()}}]),e}()).\u0275fac=function(e){return new(e||rh)},rh.\u0275pipe=mt({name:"uppercase",type:rh,pure:!0}),rh),yh=((nh=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,r){var i=function(e){if(yl(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(t=e.match(rl))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,u,c),t}(t)}var s=new Date(e);if(!yl(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var r=function(e){return Zs(e)[$s.LocaleId]}(t);if(il[r]=il[r]||{},il[r][n])return il[r][n];var i="";switch(n){case"shortDate":i=Yc(t,Wc.Short);break;case"mediumDate":i=Yc(t,Wc.Medium);break;case"longDate":i=Yc(t,Wc.Long);break;case"fullDate":i=Yc(t,Wc.Full);break;case"shortTime":i=Zc(t,Wc.Short);break;case"mediumTime":i=Zc(t,Wc.Medium);break;case"longTime":i=Zc(t,Wc.Long);break;case"fullTime":i=Zc(t,Wc.Full);break;case"short":var o=e(t,"shortTime"),a=e(t,"shortDate");i=cl(Jc(t,Wc.Short),[o,a]);break;case"medium":var s=e(t,"mediumTime"),u=e(t,"mediumDate");i=cl(Jc(t,Wc.Medium),[s,u]);break;case"long":var c=e(t,"longTime"),l=e(t,"longDate");i=cl(Jc(t,Wc.Long),[c,l]);break;case"full":var h=e(t,"fullTime"),d=e(t,"fullDate");i=cl(Jc(t,Wc.Full),[h,d])}return i&&(il[r][n]=i),i}(n,t)||t;for(var o,a=[];t;){if(!(o=ol.exec(t))){a.push(t);break}var s=(a=a.concat(o.slice(1))).pop();if(!s)break;t=s}var u=i.getTimezoneOffset();r&&(u=gl(r,u),i=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(gl(t,r)-r))}(i,r));var c="";return a.forEach((function(e){var t=function(e){if(vl[e])return vl[e];var t;switch(e){case"G":case"GG":case"GGG":t=dl(ul.Eras,zc.Abbreviated);break;case"GGGG":t=dl(ul.Eras,zc.Wide);break;case"GGGGG":t=dl(ul.Eras,zc.Narrow);break;case"y":t=hl(sl.FullYear,1,0,!1,!0);break;case"yy":t=hl(sl.FullYear,2,0,!0,!0);break;case"yyy":t=hl(sl.FullYear,3,0,!1,!0);break;case"yyyy":t=hl(sl.FullYear,4,0,!1,!0);break;case"M":case"L":t=hl(sl.Month,1,1);break;case"MM":case"LL":t=hl(sl.Month,2,1);break;case"MMM":t=dl(ul.Months,zc.Abbreviated);break;case"MMMM":t=dl(ul.Months,zc.Wide);break;case"MMMMM":t=dl(ul.Months,zc.Narrow);break;case"LLL":t=dl(ul.Months,zc.Abbreviated,Kc.Standalone);break;case"LLLL":t=dl(ul.Months,zc.Wide,Kc.Standalone);break;case"LLLLL":t=dl(ul.Months,zc.Narrow,Kc.Standalone);break;case"w":t=pl(1);break;case"ww":t=pl(2);break;case"W":t=pl(1,!0);break;case"d":t=hl(sl.Date,1);break;case"dd":t=hl(sl.Date,2);break;case"E":case"EE":case"EEE":t=dl(ul.Days,zc.Abbreviated);break;case"EEEE":t=dl(ul.Days,zc.Wide);break;case"EEEEE":t=dl(ul.Days,zc.Narrow);break;case"EEEEEE":t=dl(ul.Days,zc.Short);break;case"a":case"aa":case"aaa":t=dl(ul.DayPeriods,zc.Abbreviated);break;case"aaaa":t=dl(ul.DayPeriods,zc.Wide);break;case"aaaaa":t=dl(ul.DayPeriods,zc.Narrow);break;case"b":case"bb":case"bbb":t=dl(ul.DayPeriods,zc.Abbreviated,Kc.Standalone,!0);break;case"bbbb":t=dl(ul.DayPeriods,zc.Wide,Kc.Standalone,!0);break;case"bbbbb":t=dl(ul.DayPeriods,zc.Narrow,Kc.Standalone,!0);break;case"B":case"BB":case"BBB":t=dl(ul.DayPeriods,zc.Abbreviated,Kc.Format,!0);break;case"BBBB":t=dl(ul.DayPeriods,zc.Wide,Kc.Format,!0);break;case"BBBBB":t=dl(ul.DayPeriods,zc.Narrow,Kc.Format,!0);break;case"h":t=hl(sl.Hours,1,-12);break;case"hh":t=hl(sl.Hours,2,-12);break;case"H":t=hl(sl.Hours,1);break;case"HH":t=hl(sl.Hours,2);break;case"m":t=hl(sl.Minutes,1);break;case"mm":t=hl(sl.Minutes,2);break;case"s":t=hl(sl.Seconds,1);break;case"ss":t=hl(sl.Seconds,2);break;case"S":t=hl(sl.FractionalSeconds,1);break;case"SS":t=hl(sl.FractionalSeconds,2);break;case"SSS":t=hl(sl.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=fl(al.Short);break;case"ZZZZZ":t=fl(al.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=fl(al.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=fl(al.Long);break;default:return null}return vl[e]=t,t}(e);c+=t?t(i,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),c}(t,n,i||this.locale,r)}catch(o){throw Xl(e,o.message)}}}]),e}()).\u0275fac=function(e){return new(e||nh)(va(Tu))},nh.\u0275pipe=mt({name:"date",type:nh,pure:!0}),nh),mh=/#/g,_h=((uh=function(){function e(t){_classCallCheck(this,e),this._localization=t}return _createClass(e,[{key:"transform",value:function(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw Xl(e,n);return n[El(t,Object.keys(n),this._localization,r)].replace(mh,t.toString())}}]),e}()).\u0275fac=function(e){return new(e||uh)(va(kl))},uh.\u0275pipe=mt({name:"i18nPlural",type:uh,pure:!0}),uh),Ch=((sh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw Xl(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""}}]),e}()).\u0275fac=function(e){return new(e||sh)},sh.\u0275pipe=mt({name:"i18nSelect",type:sh,pure:!0}),sh),wh=((ah=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return JSON.stringify(e,null,2)}}]),e}()).\u0275fac=function(e){return new(e||ah)},ah.\u0275pipe=mt({name:"json",type:ah,pure:!1}),ah),kh=((oh=function(){function e(t){_classCallCheck(this,e),this.differs=t,this.keyValues=[]}return _createClass(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eh;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var r=this.differ.diff(e);return r&&(this.keyValues=[],r.forEachItem((function(e){t.keyValues.push({key:e.key,value:e.currentValue})})),this.keyValues.sort(n)),this.keyValues}}]),e}()).\u0275fac=function(e){return new(e||oh)(va(Ps))},oh.\u0275pipe=mt({name:"keyvalue",type:oh,pure:!1}),oh);function Eh(e,t){var n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var bh,Sh,Ah,Th=((Ah=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,r){if(Dh(t))return null;r=r||this._locale;try{return function(e,t,n){return _l(e,Cl(Xc(t,qc.Decimal),$c(t,Qc.MinusSign)),t,Qc.Group,Qc.Decimal,n)}(Oh(t),r,n)}catch(i){throw Xl(e,i.message)}}}]),e}()).\u0275fac=function(e){return new(e||Ah)(va(Tu))},Ah.\u0275pipe=mt({name:"number",type:Ah,pure:!0}),Ah),Rh=((Sh=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,r){if(Dh(t))return null;r=r||this._locale;try{return function(e,t,n){return _l(e,Cl(Xc(t,qc.Percent),$c(t,Qc.MinusSign)),t,Qc.Group,Qc.Decimal,n,!0).replace(new RegExp("%","g"),$c(t,Qc.PercentSign))}(Oh(t),r,n)}catch(i){throw Xl(e,i.message)}}}]),e}()).\u0275fac=function(e){return new(e||Sh)(va(Tu))},Sh.\u0275pipe=mt({name:"percent",type:Sh,pure:!0}),Sh),Ih=((bh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";_classCallCheck(this,e),this._locale=t,this._defaultCurrencyCode=n}return _createClass(e,[{key:"transform",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(Dh(t))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var a=n||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=function(e){return Zs(e)[$s.Currencies]}(n)[e]||jc[e]||[],i=r[1];return"narrow"===t&&"string"==typeof i?i:r[0]||e}(a,"symbol"===r?"wide":"narrow",o):r);try{return function(e,t,n,r,i){var o=Cl(Xc(t,qc.Currency),$c(t,Qc.MinusSign));return o.minFrac=function(e){var t,n=jc[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),o.maxFrac=o.minFrac,_l(e,o,t,Qc.CurrencyGroup,Qc.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(Oh(t),o,a,n,i)}catch(s){throw Xl(e,s.message)}}}]),e}()).\u0275fac=function(e){return new(e||bh)(va(Tu),va(Ru))},bh.\u0275pipe=mt({name:"currency",type:bh,pure:!0}),bh);function Dh(e){return null==e||""===e||e!=e}function Oh(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}var xh,Ph,Nh,Fh,Mh,Uh,Lh,Hh=((Nh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t,n,r){if(null==t)return t;if(!this.supports(t))throw Xl(e,t);return t.slice(n,r)}},{key:"supports",value:function(e){return"string"==typeof e||Array.isArray(e)}}]),e}()).\u0275fac=function(e){return new(e||Nh)},Nh.\u0275pipe=mt({name:"slice",type:Nh,pure:!1}),Nh),Vh=((Ph=function e(){_classCallCheck(this,e)}).\u0275mod=vt({type:Ph}),Ph.\u0275inj=de({factory:function(e){return new(e||Ph)},providers:[{provide:kl,useClass:Il}]}),Ph),Bh=((xh=function e(){_classCallCheck(this,e)}).\u0275prov=he({token:xh,providedIn:"root",factory:function(){return new jh(Ye(_c),window,Ye(ir))}}),xh),jh=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),qh=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Gh||(Gh=document.querySelector("base"))?Gh.getAttribute("href"):null;return null==n?null:(t=n,Fh||(Fh=document.createElement("a")),Fh.setAttribute("href",t),"/"===Fh.pathname.charAt(0)?Fh.pathname:"/"+Fh.pathname)}},{key:"resetBaseElement",value:function(){Gh=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,gc||(gc=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),Gh=null,Kh=new Ve("TRANSITION_ID"),zh=[{provide:mu,useFactory:function(e,t,n){return function(){n.get(_u).donePromise.then((function(){var n=yc();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[Kh,_c,Jo],multi:!0}],Wh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){xe.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},xe.getAllAngularTestabilities=function(){return e.getAllTestabilities()},xe.getAllAngularRootElements=function(){return e.getAllRootElements()},xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push((function(e){var t=xe.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?yc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,Ju=t}}]),e}(),Qh=new Ve("EventManagerPlugins"),Yh=((Mh=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||Mh)(Ye(Qh),Ye(Vu))},Mh.\u0275prov=he({token:Mh,factory:Mh.\u0275fac}),Mh),Zh=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=yc().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Jh=((Lh=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||Lh)},Lh.\u0275prov=he({token:Lh,factory:Lh.\u0275fac}),Lh),$h=((Uh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return yc().remove(e)}))}}]),n}(Jh)).\u0275fac=function(e){return new(e||Uh)(Ye(_c))},Uh.\u0275prov=he({token:Uh,factory:Uh.\u0275fac}),Uh),Xh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ed=/%COMP%/g;function td(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?td(e,i,n):(i=i.replace(ed,e),n.push(i))}return n}function nd(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var rd,id,od,ad,sd,ud,cd=((rd=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ld(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case st.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new hd(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case st.Native:case st.ShadowDom:return new dd(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=td(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||rd)(Ye(Yh),Ye($h),Ye(Cu))},rd.\u0275prov=he({token:rd,factory:rd.\u0275fac}),rd),ld=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Xh[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Xh[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Xh[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&ys.DashCase?e.style.setProperty(t,n,r&ys.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&ys.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,nd(n)):this.eventManager.addEventListener(e,t,nd(n))}}]),e}(),hd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,u=td(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(ed,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(ed,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(ld),dd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===st.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=td(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(ld),fd=((id=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Zh)).\u0275fac=function(e){return new(e||id)(Ye(_c))},id.\u0275prov=he({token:id,factory:id.\u0275fac}),id),pd=["alt","control","meta","shift"],vd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yd={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},md=((sd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return yc().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(pd.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&gd.hasOwnProperty(t)&&(t=gd[t]))}return vd[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),pd.forEach((function(r){r!=n&&(0,yd[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Zh)).\u0275fac=function(e){return new(e||sd)(Ye(_c))},sd.\u0275prov=he({token:sd,factory:sd.\u0275fac}),sd),_d=((ad=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ad)},ad.\u0275prov=he({factory:function(){return Ye(Cd)},token:ad,providedIn:"root"}),ad),Cd=((od=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case Lr.NONE:return t;case Lr.HTML:return dr(t,"HTML")?hr(t):function(e,t){var n=null;try{Er=Er||new yr(e);var r=t?String(t):"";n=Er.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Er.getInertBodyElement(r)}while(r!==o);var a=new Pr,s=a.sanitizeChildren(Ur(n)||n);return gr()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=Ur(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(t));case Lr.STYLE:return dr(t,"Style")?hr(t):Br(t);case Lr.SCRIPT:if(dr(t,"Script"))return hr(t);throw new Error("unsafe value used in a script context");case Lr.URL:return fr(t),dr(t,"URL")?hr(t):Cr(String(t));case Lr.RESOURCE_URL:if(dr(t,"ResourceURL"))return hr(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return new ar(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new sr(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new ur(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new cr(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new lr(e)}}]),n}(_d)).\u0275fac=function(e){return new(e||od)(Ye(_c))},od.\u0275prov=he({factory:function(){return e=Ye(Be),new Cd(e.get(_c));var e},token:od,providedIn:"root"}),od),wd=tc(fc,"browser",[{provide:bu,useValue:"browser"},{provide:Eu,useValue:function(){qh.makeCurrent(),Wh.init()},multi:!0},{provide:_c,useFactory:function(){return function(e){It=e}(document),document},deps:[]}]),kd=[[],{provide:Uo,useValue:"root"},{provide:ir,useFactory:function(){return new ir},deps:[]},{provide:Qh,useClass:fd,multi:!0,deps:[_c,Vu,bu]},{provide:Qh,useClass:md,multi:!0,deps:[_c]},[],{provide:cd,useClass:cd,deps:[Yh,$h,Cu]},{provide:gs,useExisting:cd},{provide:Jh,useExisting:$h},{provide:$h,useClass:$h,deps:[_c]},{provide:Yu,useClass:Yu,deps:[Vu]},{provide:Yh,useClass:Yh,deps:[Qh,Vu]},[]],Ed=((ud=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Cu,useValue:t.appId},{provide:Kh,useExisting:Cu},zh]}}}]),e}()).\u0275mod=vt({type:ud}),ud.\u0275inj=de({factory:function(e){return new(e||ud)(Ye(ud,12))},providers:kd,imports:[Vh,vc]}),ud);function bd(e,t){return new k((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=q(e[s]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}"undefined"!=typeof window&&window;var Sd,Ad,Td,Rd,Id=new Ve("NgValueAccessor"),Dd={provide:Id,useExisting:be((function(){return Od})),multi:!0},Od=((Sd=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Sd)(va(ms),va(ps))},Sd.\u0275dir=yt({type:Sd,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Aa("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[ls([Dd])]}),Sd),xd={provide:Id,useExisting:be((function(){return Nd})),multi:!0},Pd=new Ve("CompositionEventMode"),Nd=((Rd=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=yc()?yc().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||Rd)(va(ms),va(ps),va(Pd,8))},Rd.\u0275dir=yt({type:Rd,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Aa("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[ls([xd])]}),Rd),Fd=((Td=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||Td)},Td.\u0275dir=yt({type:Td}),Td),Md=((Ad=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Fd)).\u0275fac=function(e){return Ud(e||Ad)},Ad.\u0275dir=yt({type:Ad,features:[Qa]}),Ad),Ud=er(Md);function Ld(){throw new Error("unimplemented")}var Hd,Vd,Bd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return Ld()}},{key:"asyncValidator",get:function(){return Ld()}}]),n}(Fd),jd=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),qd=((Vd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(jd)).\u0275fac=function(e){return new(e||Vd)(va(Bd,2))},Vd.\u0275dir=yt({type:Vd,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ma("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Qa]}),Vd),Gd=((Hd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(jd)).\u0275fac=function(e){return new(e||Hd)(va(Md,2))},Hd.\u0275dir=yt({type:Hd,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ma("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Qa]}),Hd);function Kd(e){return null==e||0===e.length}var zd=new Ve("NgValidators"),Wd=new Ve("NgAsyncValidators"),Qd=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Yd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Kd(t.value)||Kd(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Kd(t.value)||Kd(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Kd(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Kd(e.value)||Qd.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Kd(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(Kd(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(Zd);return 0==t.length?null:function(e){return $d(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(Zd);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(u(r))return bd(r,null);if(c(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return bd(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return bd(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(H((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return bd(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(Jd)).pipe(H($d))}}}]),e}();function Zd(e){return null!=e}function Jd(e){var t=ba(e)?q(e):e;if(!Sa(t))throw new Error("Expected validator to return Promise or Observable.");return t}function $d(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function Xd(e){return e.validate?function(t){return e.validate(t)}:e}function ef(e){return e.validate?function(t){return e.validate(t)}:e}var tf,nf,rf,of,af={provide:Id,useExisting:be((function(){return sf})),multi:!0},sf=((tf=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||tf)(va(ms),va(ps))},tf.\u0275dir=yt({type:tf,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Aa("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ls([af])]}),tf),uf={provide:Id,useExisting:be((function(){return lf})),multi:!0},cf=((rf=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||rf)},rf.\u0275prov=he({token:rf,factory:rf.\u0275fac}),rf),lf=((nf=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Bd),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||nf)(va(ms),va(ps),va(cf),va(Jo))},nf.\u0275dir=yt({type:nf,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Aa("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ls([uf])]}),nf),hf={provide:Id,useExisting:be((function(){return df})),multi:!0},df=((of=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||of)(va(ms),va(ps))},of.\u0275dir=yt({type:of,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Aa("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ls([hf])]}),of),ff='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',pf='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',vf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(ff))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(pf,'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>'))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(ff))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(pf))}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),gf={provide:Id,useExisting:be((function(){return Cf})),multi:!0};function yf(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var mf,_f,Cf=((_f=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=oa}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=yf(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||_f)(va(ms),va(ps))},_f.\u0275dir=yt({type:_f,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Aa("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ls([gf])]}),_f),wf=((mf=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(yf(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}()).\u0275fac=function(e){return new(e||mf)(va(ps),va(ms),va(Cf,9))},mf.\u0275dir=yt({type:mf,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),mf),kf={provide:Id,useExisting:be((function(){return Af})),multi:!0};function Ef(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var bf,Sf,Af=((Sf=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=oa}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||Sf)(va(ms),va(ps))},Sf.\u0275dir=yt({type:Sf,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Aa("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ls([kf])]}),Sf),Tf=((bf=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(Ef(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(Ef(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}()).\u0275fac=function(e){return new(e||bf)(va(ps),va(ms),va(Af,9))},bf.\u0275dir=yt({type:bf,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),bf);function Rf(e,t){return[].concat(_toConsumableArray(t.path),[e])}function If(e,t){e||Pf(t,"Cannot find control with"),t.valueAccessor||Pf(t,"No value accessor for form control with"),e.validator=Yd.compose([e.validator,t.validator]),e.asyncValidator=Yd.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Df(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Df(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Df(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Of(e,t){null==e&&Pf(t,"Cannot find control with"),e.validator=Yd.compose([e.validator,t.validator]),e.asyncValidator=Yd.composeAsync([e.asyncValidator,t.asyncValidator])}function xf(e){return Pf(e,"There is no FormControl instance attached to form control element with")}function Pf(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Nf(e){return null!=e?Yd.compose(e.map(Xd)):null}function Ff(e){return null!=e?Yd.composeAsync(e.map(ef)):null}function Mf(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!oa(t,n.currentValue)}var Uf=[Od,df,sf,Cf,Af,lf];function Lf(e,t){if(!t)return null;Array.isArray(t)||Pf(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===Nd?n=t:(o=t,Uf.some((function(e){return o.constructor===e}))?(r&&Pf(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Pf(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Pf(e,"No valid value accessor for form control with"),null)}function Hf(e,t,n,r){gr()&&"never"!==r&&((null!==r&&"once"!==r||t._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(vf.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function Vf(e){var t=jf(e)?e.validators:e;return Array.isArray(t)?Nf(t):t||null}function Bf(e,t){var n=jf(t)?t.asyncValidators:e;return Array.isArray(n)?Ff(n):n||null}function jf(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var qf,Gf,Kf,zf,Wf,Qf,Yf=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=Vf(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Bf(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=Jd(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof Jf?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof $f&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new ru,this.statusChanges=new ru}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){jf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),Zf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,Vf(i),Bf(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(Yf),Jf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Vf(r),Bf(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof Zf?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Yf),$f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Vf(r),Bf(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof Zf?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Yf),Xf=((qf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Rf(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Nf(this._validators)}},{key:"asyncValidator",get:function(){return Ff(this._asyncValidators)}}]),n}(Md)).\u0275fac=function(e){return ep(e||qf)},qf.\u0275dir=yt({type:qf,features:[Qa]}),qf),ep=er(Xf),tp=((Gf=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Gf)},Gf.\u0275dir=yt({type:Gf,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Gf),np=new Ve("NgModelWithFormControlWarning"),rp={provide:Bd,useExisting:be((function(){return ip}))},ip=((Kf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this))._ngModelWarningConfig=o,a.update=new ru,a._ngModelWarningSent=!1,a._rawValidators=e||[],a._rawAsyncValidators=r||[],a.valueAccessor=Lf(_assertThisInitialized(a),i),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._isControlChanged(e)&&(If(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Mf(e,this.viewModel)&&(Hf("formControl",n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}},{key:"isDisabled",set:function(e){vf.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return Nf(this._rawValidators)}},{key:"asyncValidator",get:function(){return Ff(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),n}(Bd)).\u0275fac=function(e){return new(e||Kf)(va(zd,10),va(Wd,10),va(Id,10),va(np,8))},Kf.\u0275dir=yt({type:Kf,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[ls([rp]),Qa,es]}),Kf._ngModelWarningSentOnce=!1,Kf),op={provide:Md,useExisting:be((function(){return ap}))},ap=((zf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._validators=e,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new ru,i}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return If(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t,n,r;t=this.directives,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);Of(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);Of(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return xf(t)})),t.valueAccessor.registerOnTouched((function(){return xf(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&If(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=Nf(this._validators);this.form.validator=Yd.compose([this.form.validator,e]);var t=Ff(this._asyncValidators);this.form.asyncValidator=Yd.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||vf.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Md)).\u0275fac=function(e){return new(e||zf)(va(zd,10),va(Wd,10))},zf.\u0275dir=yt({type:zf,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&Aa("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ls([op]),Qa,es]}),zf),sp={provide:Md,useExisting:be((function(){return up}))},up=((Wf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){hp(this._parent)&&vf.groupParentException()}}]),n}(Xf)).\u0275fac=function(e){return new(e||Wf)(va(Md,13),va(zd,10),va(Wd,10))},Wf.\u0275dir=yt({type:Wf,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[ls([sp]),Qa]}),Wf),cp={provide:Md,useExisting:be((function(){return lp}))},lp=((Qf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){hp(this._parent)&&vf.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Rf(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return Nf(this._validators)}},{key:"asyncValidator",get:function(){return Ff(this._asyncValidators)}}]),n}(Md)).\u0275fac=function(e){return new(e||Qf)(va(Md,13),va(zd,10),va(Wd,10))},Qf.\u0275dir=yt({type:Qf,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[ls([cp]),Qa]}),Qf);function hp(e){return!(e instanceof up||e instanceof ap||e instanceof lp)}var dp,fp,pp,vp,gp,yp,mp,_p,Cp,wp,kp={provide:Bd,useExisting:be((function(){return Ep}))},Ep=((dp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this))._ngModelWarningConfig=a,s._added=!1,s.update=new ru,s._ngModelWarningSent=!1,s._parent=e,s._rawValidators=r||[],s._rawAsyncValidators=i||[],s.valueAccessor=Lf(_assertThisInitialized(s),o),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),Mf(e,this.viewModel)&&(Hf("formControlName",n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof up)&&this._parent instanceof Xf?vf.ngModelGroupException():this._parent instanceof up||this._parent instanceof ap||this._parent instanceof lp||vf.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){vf.disabledAttrWarning()}},{key:"path",get:function(){return Rf(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Nf(this._rawValidators)}},{key:"asyncValidator",get:function(){return Ff(this._rawAsyncValidators)}}]),n}(Bd)).\u0275fac=function(e){return new(e||dp)(va(Md,13),va(zd,10),va(Wd,10),va(Id,10),va(np,8))},dp.\u0275dir=yt({type:dp,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ls([kp]),Qa,es]}),dp._ngModelWarningSentOnce=!1,dp),bp={provide:zd,useExisting:be((function(){return Ap})),multi:!0},Sp={provide:zd,useExisting:be((function(){return Tp})),multi:!0},Ap=((pp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this.required?Yd.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!=="".concat(e),this._onChange&&this._onChange()}}]),e}()).\u0275fac=function(e){return new(e||pp)},pp.\u0275dir=yt({type:pp,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&ha("required",t.required?"":null)},inputs:{required:"required"},features:[ls([bp])]}),pp),Tp=((fp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"validate",value:function(e){return this.required?Yd.requiredTrue(e):null}}]),n}(Ap)).\u0275fac=function(e){return Rp(e||fp)},fp.\u0275dir=yt({type:fp,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&ha("required",t.required?"":null)},features:[ls([Sp]),Qa]}),fp),Rp=er(Tp),Ip={provide:zd,useExisting:be((function(){return Dp})),multi:!0},Dp=((vp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this._enabled?Yd.email(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"email",set:function(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}}]),e}()).\u0275fac=function(e){return new(e||vp)},vp.\u0275dir=yt({type:vp,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[ls([Ip])]}),vp),Op={provide:zd,useExisting:be((function(){return xp})),multi:!0},xp=((gp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return null==this.minlength?null:this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=Yd.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),e}()).\u0275fac=function(e){return new(e||gp)},gp.\u0275dir=yt({type:gp,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&ha("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[ls([Op]),es]}),gp),Pp={provide:zd,useExisting:be((function(){return Np})),multi:!0},Np=((yp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return null!=this.maxlength?this._validator(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=Yd.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}]),e}()).\u0275fac=function(e){return new(e||yp)},yp.\u0275dir=yt({type:yp,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&ha("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ls([Pp]),es]}),yp),Fp={provide:zd,useExisting:be((function(){return Mp})),multi:!0},Mp=((wp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=Yd.pattern(this.pattern)}}]),e}()).\u0275fac=function(e){return new(e||wp)},wp.\u0275dir=yt({type:wp,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&ha("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[ls([Fp]),es]}),wp),Up=((Cp=function e(){_classCallCheck(this,e)}).\u0275mod=vt({type:Cp}),Cp.\u0275inj=de({factory:function(e){return new(e||Cp)}}),Cp),Lp=((_p=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new Jf(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new Zf(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new $f(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof Zf||e instanceof Jf||e instanceof $f?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||_p)},_p.\u0275prov=he({token:_p,factory:_p.\u0275fac}),_p),Hp=((mp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:np,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=vt({type:mp}),mp.\u0275inj=de({factory:function(e){return new(e||mp)},providers:[Lp,cf],imports:[Up]}),mp),Vp=function(e,t){return(Vp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Bp(e,t){function n(){this.constructor=e}Vp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var jp=function(){return(jp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function qp(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Gp(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Kp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function zp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kp(arguments[t]));return e}var Wp=function(e,t){return(Wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Qp(e,t){function n(){this.constructor=e}Wp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Yp=function(){return(Yp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Zp(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Jp(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function $p(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Xp,ev,tv,nv,rv,iv=["openid","profile","offline_access"],ov=$p(iv,["email"]);!function(e){e.CONTENT_TYPE="Content-Type",e.X_CLIENT_CURR_TELEM="x-client-current-telemetry",e.X_CLIENT_LAST_TELEM="x-client-last-telemetry",e.RETRY_AFTER="Retry-After",e.X_MS_LIB_CAPABILITY="x-ms-lib-capability",e.X_MS_LIB_CAPABILITY_VALUE="retry-after, h429"}(Xp||(Xp={})),function(e){e.ID_TOKEN="idtoken",e.CLIENT_INFO="client.info",e.ADAL_ID_TOKEN="adal.idtoken",e.ERROR="error",e.ERROR_DESC="error.description"}(ev||(ev={})),function(e){e.COMMON="common",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers"}(tv||(tv={})),function(e){e.CLIENT_ID="client_id",e.REDIRECT_URI="redirect_uri",e.RESPONSE_TYPE="response_type",e.RESPONSE_MODE="response_mode",e.GRANT_TYPE="grant_type",e.CLAIMS="claims",e.SCOPE="scope",e.ERROR="error",e.ERROR_DESCRIPTION="error_description",e.ACCESS_TOKEN="access_token",e.ID_TOKEN="id_token",e.REFRESH_TOKEN="refresh_token",e.EXPIRES_IN="expires_in",e.STATE="state",e.NONCE="nonce",e.PROMPT="prompt",e.SESSION_STATE="session_state",e.CLIENT_INFO="client_info",e.CODE="code",e.CODE_CHALLENGE="code_challenge",e.CODE_CHALLENGE_METHOD="code_challenge_method",e.CODE_VERIFIER="code_verifier",e.CLIENT_REQUEST_ID="client-request-id",e.X_CLIENT_SKU="x-client-SKU",e.X_CLIENT_VER="x-client-VER",e.X_CLIENT_OS="x-client-OS",e.X_CLIENT_CPU="x-client-CPU",e.POST_LOGOUT_URI="post_logout_redirect_uri",e.ID_TOKEN_HINT="id_token_hint",e.DEVICE_CODE="device_code",e.CLIENT_SECRET="client_secret",e.CLIENT_ASSERTION="client_assertion",e.CLIENT_ASSERTION_TYPE="client_assertion_type",e.TOKEN_TYPE="token_type",e.REQ_CNF="req_cnf",e.OBO_ASSERTION="assertion",e.REQUESTED_TOKEN_USE="requested_token_use",e.ON_BEHALF_OF="on_behalf_of",e.FOCI="foci"}(nv||(nv={})),function(e){e.ACCESS_TOKEN="access_token",e.XMS_CC="xms_cc"}(rv||(rv={}));var av,sv={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none"};!function(e){e.ACCOUNT="account",e.SID="sid",e.LOGIN_HINT="login_hint",e.ID_TOKEN="id_token",e.DOMAIN_HINT="domain_hint",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers",e.ACCOUNT_ID="accountIdentifier",e.HOMEACCOUNT_ID="homeAccountIdentifier"}(av||(av={}));var uv,cv,lv,hv,dv,fv,pv,vv,gv={PLAIN:"plain",S256:"S256"};!function(e){e.QUERY="query",e.FRAGMENT="fragment",e.FORM_POST="form_post"}(uv||(uv={})),function(e){e.IMPLICIT_GRANT="implicit",e.AUTHORIZATION_CODE_GRANT="authorization_code",e.CLIENT_CREDENTIALS_GRANT="client_credentials",e.RESOURCE_OWNER_PASSWORD_GRANT="password",e.REFRESH_TOKEN_GRANT="refresh_token",e.DEVICE_CODE_GRANT="device_code",e.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(cv||(cv={})),function(e){e.MSSTS_ACCOUNT_TYPE="MSSTS",e.ADFS_ACCOUNT_TYPE="ADFS",e.MSAV1_ACCOUNT_TYPE="MSA",e.GENERIC_ACCOUNT_TYPE="Generic"}(lv||(lv={})),function(e){e.CACHE_KEY_SEPARATOR="-",e.CLIENT_INFO_SEPARATOR="."}(hv||(hv={})),function(e){e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",e.REFRESH_TOKEN="RefreshToken"}(dv||(dv={})),function(e){e.ACCOUNT="Account",e.CREDENTIAL="Credential",e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.REFRESH_TOKEN="RefreshToken",e.APP_METADATA="AppMetadata",e.TEMPORARY="TempCache",e.TELEMETRY="Telemetry",e.UNDEFINED="Undefined",e.THROTTLING="Throttling"}(fv||(fv={})),function(e){e[e.ADFS=1001]="ADFS",e[e.MSA=1002]="MSA",e[e.MSSTS=1003]="MSSTS",e[e.GENERIC=1004]="GENERIC",e[e.ACCESS_TOKEN=2001]="ACCESS_TOKEN",e[e.REFRESH_TOKEN=2002]="REFRESH_TOKEN",e[e.ID_TOKEN=2003]="ID_TOKEN",e[e.APP_METADATA=3001]="APP_METADATA",e[e.UNDEFINED=9999]="UNDEFINED"}(pv||(pv={})),function(e){e.CONFIG="config",e.CACHE="cache",e.NETWORK="network"}(vv||(vv={}));var yv,mv,_v={SCHEMA_VERSION:2,MAX_HEADER_BYTES:4e3,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"};!function(e){e.POP="pop",e.BEARER="Bearer"}(yv||(yv={})),function(e){e.username="username",e.password="password"}(mv||(mv={}));var Cv,wv=function(e){function t(n,r,i){var o=this;return o=e.call(this,r?n+": "+r:n)||this,Object.setPrototypeOf(o,t.prototype),o.errorCode=n||"",o.errorMessage=r||"",o.subError=i||"",o.name="AuthError",o}return Qp(t,e),t.createUnexpectedError=function(e){return new t("unexpected_error","Unexpected error in authentication.: "+e)},t}(Error),kv={createNewGuid:function(){throw wv.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw wv.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw wv.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return Zp(this,void 0,void 0,(function(){return Jp(this,(function(e){throw wv.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")}))}))},getPublicKeyThumbprint:function(){return Zp(this,void 0,void 0,(function(){return Jp(this,(function(e){throw wv.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")}))}))},signJwt:function(){return Zp(this,void 0,void 0,(function(){return Jp(this,(function(e){throw wv.createUnexpectedError("Crypto interface - signJwt() has not been implemented")}))}))}},Ev=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.name="ClientAuthError",Object.setPrototypeOf(i,t.prototype),i}return Qp(t,e),t.createClientInfoDecodingError=function(e){return new t("client_info_decoding_error","The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause. Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t("client_info_empty_error","The client info was empty. Please review the trace to determine the root cause.")},t.createTokenParsingError=function(e){return new t("token_parsing_error","Token cannot be parsed. Please review stack trace to determine root cause. Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t("null_or_empty_token","The token is null or empty. Please review the trace to determine the root cause. Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t("endpoints_resolution_error","Error: could not resolve endpoints. Please check network and try again. Detail: "+e)},t.createNetworkError=function(e,n){return new t("network_error","Network request failed. Please check network trace to determine root cause. | Fetch client threw: "+n+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t("openid_config_error","Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints. Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t("hash_not_deserialized","The hash parameters could not be deserialized. Please review the trace to determine the root cause. Given Object: "+e)},t.createInvalidStateError=function(e,n){return new t("invalid_state","State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState(). Invalid State: "+e+", Root Err: "+n)},t.createStateMismatchError=function(){return new t("state_mismatch","State mismatch error. Please check your network. Continued requests may cause cache overflow.")},t.createStateNotFoundError=function(e){return new t("state_not_found","State not found:  "+e)},t.createNonceMismatchError=function(){return new t("nonce_mismatch","Nonce mismatch error. This may be caused by a race condition in concurrent requests.")},t.createNonceNotFoundError=function(e){return new t("nonce_not_found","nonce not found:  "+e)},t.createNoTokensFoundError=function(){return new t("no_tokens_found","No tokens were found for the given scopes, and no authorization code was passed to acquireToken. You must retrieve an authorization code before making a call to acquireToken().")},t.createMultipleMatchingTokensInCacheError=function(){return new t("multiple_matching_tokens","The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account..")},t.createMultipleMatchingAccountsInCacheError=function(){return new t("multiple_matching_accounts","The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account")},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t("multiple_matching_appMetadata","The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata")},t.createTokenRequestCannotBeMadeError=function(){return new t("request_cannot_be_made","Token request cannot be made without authorization code or refresh token.")},t.createAppendEmptyScopeToSetError=function(e){return new t("cannot_append_empty_scope","Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info. Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t("cannot_remove_empty_scope","Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info. Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t("cannot_append_scopeset","Cannot append ScopeSet due to error. Detail Error: "+e)},t.createEmptyInputScopeSetError=function(e){return new t("empty_input_scopeset","Empty input ScopeSet cannot be processed. Given ScopeSet: "+e)},t.createDeviceCodeCancelledError=function(){return new t("device_code_polling_cancelled","Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.")},t.createDeviceCodeExpiredError=function(){return new t("device_code_expired","Device code is expired.")},t.createNoAccountInSilentRequestError=function(){return new t("no_account_in_silent_request","Please pass an account object, silent flow is not supported without account information")},t.createNullOrUndefinedCacheRecord=function(){return new t("invalid_cache_record","Cache record object was null or undefined.")},t.createInvalidCacheEnvironmentError=function(){return new t("invalid_cache_environment","Invalid environment when attempting to create cache entry")},t.createNoAccountFoundError=function(){return new t("no_account_found","No account found in cache for given key.")},t.createCachePluginError=function(){return new t("no cache plugin set on CacheManager","ICachePlugin needs to be set before using readFromStorage or writeFromStorage")},t.createNoCryptoObjectError=function(e){return new t("no_crypto_object","No crypto object detected. This is required for the following operation: "+e)},t.createInvalidCacheTypeError=function(){return new t("invalid_cache_type","Invalid cache type")},t.createUnexpectedAccountTypeError=function(){return new t("unexpected_account_type","Unexpected account type.")},t.createUnexpectedCredentialTypeError=function(){return new t("unexpected_credential_type","Unexpected credential type.")},t.createInvalidAssertionError=function(){return new t("invalid_assertion","Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515")},t.createInvalidCredentialError=function(){return new t("invalid_client_credential","Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential")},t.createRefreshRequiredError=function(){return new t("token_refresh_required","Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.")},t.createUserTimeoutReachedError=function(){return new t("user_timeout_reached","User defined timeout for device code polling reached")},t.createTokenClaimsRequiredError=function(){return new t("token_claims_cnf_required_for_signedjwt","Cannot generate a POP jwt if the token_claims are not populated")},t.createNoAuthCodeInServerResponseError=function(){return new t("authorization_code_missing_from_server_response","Srver response does not contain an authorization code to proceed")},t}(wv),bv=function(){function e(){}return e.decodeAuthToken=function(t){if(e.isEmpty(t))throw Ev.createTokenNullOrEmptyError(t);var n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw Ev.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:n[1],JWSPayload:n[2],JWSSig:n[3]}},e.isEmpty=function(e){return void 0===e||!e||0===e.length},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.endsWith=function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length},e.queryStringToObject=function(e){var t,n=/\+/g,r=/([^&=]+)=([^&]*)/g,i=function(e){return decodeURIComponent(decodeURIComponent(e.replace(n," ")))},o={};for(t=r.exec(e);t;)o[i(t[1])]=i(t[2]),t=r.exec(e);return o},e.trimArrayEntries=function(e){return e.map((function(e){return e.trim()}))},e.removeEmptyStringsFromArray=function(t){return t.filter((function(t){return!e.isEmpty(t)}))},e.jsonParseHelper=function(e){try{return JSON.parse(e)}catch(t){return null}},e.matchPattern=function(e,t){return new RegExp(e.replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)},e}();!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose"}(Cv||(Cv={}));var Sv,Av=function(){function e(e,t,n){this.level=Cv.Info,this.localCallback=e.loggerCallback||function(){},this.piiLoggingEnabled=e.piiLoggingEnabled||!1,this.level=e.logLevel||Cv.Info,this.packageName=t||"",this.packageVersion=n||""}return e.prototype.clone=function(t,n){return new e({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level},t,n)},e.prototype.logMessage=function(e,t){if(!(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)){var n=(new Date).toUTCString(),r=bv.isEmpty(this.correlationId)?"["+n+"] : ":"["+n+"] : ["+this.correlationId+"]";this.executeCallback(t.logLevel,r+" : "+this.packageName+"@"+this.packageVersion+" : "+Cv[t.logLevel]+" - "+e,t.containsPii||!1)}},e.prototype.executeCallback=function(e,t,n){this.localCallback&&this.localCallback(e,t,n)},e.prototype.error=function(e,t){this.logMessage(e,{logLevel:Cv.Error,containsPii:!1,correlationId:t||""})},e.prototype.errorPii=function(e,t){this.logMessage(e,{logLevel:Cv.Error,containsPii:!0,correlationId:t||""})},e.prototype.warning=function(e,t){this.logMessage(e,{logLevel:Cv.Warning,containsPii:!1,correlationId:t||""})},e.prototype.warningPii=function(e,t){this.logMessage(e,{logLevel:Cv.Warning,containsPii:!0,correlationId:t||""})},e.prototype.info=function(e,t){this.logMessage(e,{logLevel:Cv.Info,containsPii:!1,correlationId:t||""})},e.prototype.infoPii=function(e,t){this.logMessage(e,{logLevel:Cv.Info,containsPii:!0,correlationId:t||""})},e.prototype.verbose=function(e,t){this.logMessage(e,{logLevel:Cv.Verbose,containsPii:!1,correlationId:t||""})},e.prototype.verbosePii=function(e,t){this.logMessage(e,{logLevel:Cv.Verbose,containsPii:!0,correlationId:t||""})},e.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},e}(),Tv=function(){function e(){}return e.prototype.generateAccountId=function(){return e.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},e.prototype.generateCredentialId=function(){return e.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},e.prototype.generateTarget=function(){return e.generateTargetForCacheKey(this.target)},e.prototype.generateCredentialKey=function(){return e.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId)},e.prototype.generateType=function(){switch(this.credentialType){case dv.ID_TOKEN:return pv.ID_TOKEN;case dv.ACCESS_TOKEN:return pv.ACCESS_TOKEN;case dv.REFRESH_TOKEN:return pv.REFRESH_TOKEN;default:throw Ev.createUnexpectedCredentialTypeError()}},e.getCredentialType=function(e){return-1!==e.indexOf(dv.ACCESS_TOKEN.toLowerCase())?-1!==e.indexOf(dv.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())?dv.ACCESS_TOKEN_WITH_AUTH_SCHEME:dv.ACCESS_TOKEN:-1!==e.indexOf(dv.ID_TOKEN.toLowerCase())?dv.ID_TOKEN:-1!==e.indexOf(dv.REFRESH_TOKEN.toLowerCase())?dv.REFRESH_TOKEN:"not_defined"},e.generateCredentialCacheKey=function(e,t,n,r,i,o,a){return[this.generateAccountIdForCacheKey(e,t),this.generateCredentialIdForCacheKey(n,r,i,a),this.generateTargetForCacheKey(o)].join(hv.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateAccountIdForCacheKey=function(e,t){return[e,t].join(hv.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateCredentialIdForCacheKey=function(e,t,n,r){return[e,e===dv.REFRESH_TOKEN&&r||t,n||""].join(hv.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateTargetForCacheKey=function(e){return(e||"").toLowerCase()},e}(),Rv=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.name="ClientConfigurationError",Object.setPrototypeOf(i,t.prototype),i}return Qp(t,e),t.createRedirectUriEmptyError=function(){return new t("redirect_uri_empty","A redirect URI is required for all calls, and none has been set.")},t.createPostLogoutRedirectUriEmptyError=function(){return new t("post_logout_uri_empty","A post logout redirect has not been set.")},t.createClaimsRequestParsingError=function(e){return new t("claims_request_parsing_error","Could not parse the given claims request object. Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t("authority_uri_insecure","Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options Given URI: "+e)},t.createUrlParseError=function(e){return new t("url_parse_error","URL could not be parsed into appropriate segments. Given Error: "+e)},t.createUrlEmptyError=function(){return new t("empty_url_error","URL was empty or null.")},t.createScopesNonArrayError=function(e){return new t("nonarray_input_scopes_error","Scopes cannot be passed as non-array. Given Scopes: "+e)},t.createEmptyScopesArrayError=function(e){return new t("empty_input_scopes_error","Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token. Given Scopes: "+e)},t.createClientIdSingleScopeError=function(e){return new t("clientid_input_scopes_error","Client ID can only be provided as a single scope. Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t("invalid_prompt_value","Supported prompt values are 'login', 'select_account', 'consent' and 'none'.  Please see here for valid configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t("invalid_claims","Given claims parameter must be a stringified JSON object.")},t.createEmptyLogoutRequestError=function(){return new t("logout_request_empty","The logout request was null or undefined.")},t.createEmptyTokenRequestError=function(){return new t("token_request_empty","Token request was empty and not found in cache.")},t.createInvalidCodeChallengeMethodError=function(){return new t("invalid_code_challenge_method",'code_challenge_method passed is invalid. Valid values are "plain" and "S256".')},t.createInvalidCodeChallengeParamsError=function(){return new t("pkce_params_missing","Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request")},t.createInvalidCloudDiscoveryMetadataError=function(){return new t("invalid_cloud_discovery_metadata","Invalid cloudDiscoveryMetadata provided. Must be a JSON object containing tenant_discovery_endpoint and metadata fields")},t.createInvalidAuthorityMetadataError=function(){return new t("invalid_authority_metadata","Invalid authorityMetadata provided. Must by a JSON object containing authorization_endpoint, token_endpoint, end_session_endpoint, issuer fields.")},t.createUntrustedAuthorityError=function(){return new t("untrusted_authority","The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.")},t}(Ev),Iv=function(){function e(e){var t=this,n=e?bv.trimArrayEntries($p(e)):[],r=n?bv.removeEmptyStringsFromArray(n):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach((function(e){return t.scopes.add(e)}))}return e.fromString=function(t){return new e((t=t||"").split(" "))},e.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw Rv.createEmptyScopesArrayError(e)},e.prototype.containsScope=function(t){var n=new e(this.printScopesLowerCase().split(" "));return!bv.isEmpty(t)&&n.scopes.has(t.toLowerCase())},e.prototype.containsScopeSet=function(e){var t=this;return!(!e||e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every((function(e){return t.containsScope(e)}))},e.prototype.containsOnlyOIDCScopes=function(){var e=this,t=0;return ov.forEach((function(n){e.containsScope(n)&&(t+=1)})),this.scopes.size===t},e.prototype.appendScope=function(e){bv.isEmpty(e)||this.scopes.add(e.trim())},e.prototype.appendScopes=function(e){var t=this;try{e.forEach((function(e){return t.appendScope(e)}))}catch(n){throw Ev.createAppendScopeSetError(n)}},e.prototype.removeScope=function(e){if(bv.isEmpty(e))throw Ev.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},e.prototype.removeOIDCScopes=function(){var e=this;ov.forEach((function(t){e.scopes.delete(t)}))},e.prototype.unionScopeSets=function(e){if(!e)throw Ev.createEmptyInputScopeSetError(e);var t=new Set;return e.scopes.forEach((function(e){return t.add(e.toLowerCase())})),this.scopes.forEach((function(e){return t.add(e.toLowerCase())})),t},e.prototype.intersectingScopeSets=function(e){if(!e)throw Ev.createEmptyInputScopeSetError(e);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n},e.prototype.getScopeCount=function(){return this.scopes.size},e.prototype.asArray=function(){var e=[];return this.scopes.forEach((function(t){return e.push(t)})),e},e.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):""},e.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},e}();function Dv(e,t){if(bv.isEmpty(e))throw Ev.createClientInfoEmptyError();try{var n=t.base64Decode(e);return JSON.parse(n)}catch(r){throw Ev.createClientInfoDecodingError(r)}}!function(e){e[e.Default=0]="Default",e[e.Adfs=1]="Adfs"}(Sv||(Sv={}));var Ov,xv=function(){function e(){}return e.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(hv.CACHE_KEY_SEPARATOR).toLowerCase()},e.prototype.generateAccountKey=function(){return e.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},e.prototype.generateType=function(){switch(this.authorityType){case lv.ADFS_ACCOUNT_TYPE:return pv.ADFS;case lv.MSAV1_ACCOUNT_TYPE:return pv.MSA;case lv.MSSTS_ACCOUNT_TYPE:return pv.MSSTS;case lv.GENERIC_ACCOUNT_TYPE:return pv.GENERIC;default:throw Ev.createUnexpectedAccountTypeError()}},e.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims}},e.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||"",e.tenantId||""].join(hv.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAccount=function(t,n,r,i,o,a,s){var u,c,l,h,d,f,p=new e;p.authorityType=lv.MSSTS_ACCOUNT_TYPE,p.clientInfo=t,p.homeAccountId=n;var v=r.getPreferredCache();if(bv.isEmpty(v))throw Ev.createInvalidCacheEnvironmentError();return p.environment=v,p.realm=(null===(u=null==i?void 0:i.claims)||void 0===u?void 0:u.tid)||"",p.oboAssertion=o,i&&(p.idTokenClaims=i.claims,p.localAccountId=(null===(c=null==i?void 0:i.claims)||void 0===c?void 0:c.oid)||(null===(l=null==i?void 0:i.claims)||void 0===l?void 0:l.sub)||"",p.username=(null===(h=null==i?void 0:i.claims)||void 0===h?void 0:h.preferred_username)||((null===(d=null==i?void 0:i.claims)||void 0===d?void 0:d.emails)?i.claims.emails[0]:""),p.name=null===(f=null==i?void 0:i.claims)||void 0===f?void 0:f.name),p.cloudGraphHostName=a,p.msGraphHost=s,p},e.createGenericAccount=function(t,n,r,i,o,a){var s,u,c,l,h=new e;h.authorityType=t.authorityType===Sv.Adfs?lv.ADFS_ACCOUNT_TYPE:lv.GENERIC_ACCOUNT_TYPE,h.homeAccountId=n,h.realm="",h.oboAssertion=i;var d=t.getPreferredCache();if(bv.isEmpty(d))throw Ev.createInvalidCacheEnvironmentError();return r&&(h.localAccountId=(null===(s=null==r?void 0:r.claims)||void 0===s?void 0:s.oid)||(null===(u=null==r?void 0:r.claims)||void 0===u?void 0:u.sub)||"",h.username=(null===(c=null==r?void 0:r.claims)||void 0===c?void 0:c.upn)||"",h.name=(null===(l=null==r?void 0:r.claims)||void 0===l?void 0:l.name)||"",h.idTokenClaims=null==r?void 0:r.claims),h.environment=d,h.cloudGraphHostName=o,h.msGraphHost=a,h},e.generateHomeAccountId=function(e,t,n,r,i){var o,a=(null===(o=null==i?void 0:i.claims)||void 0===o?void 0:o.sub)?i.claims.sub:"";if(t===Sv.Adfs)return a;if(e){var s=Dv(e,r);if(!bv.isEmpty(s.uid)&&!bv.isEmpty(s.utid))return""+s.uid+hv.CLIENT_INFO_SEPARATOR+s.utid}return n.verbose("No client info in response"),a},e.isAccountEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")},e.accountInfoIsEqual=function(e,t){return!(!e||!t)&&e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment},e}(),Pv=function(){function e(t,n){if(bv.isEmpty(t))throw Ev.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=e.extractTokenClaims(t,n)}return e.extractTokenClaims=function(e,t){var n=bv.decodeAuthToken(e);try{var r=t.base64Decode(n.JWSPayload);return JSON.parse(r)}catch(i){throw Ev.createTokenParsingError(i)}},e}(),Nv=function(){function e(e,t){this.clientId=e,this.cryptoImpl=t}return e.prototype.getAllAccounts=function(){var t=this,n=this.getAccountsFilteredBy(),r=Object.keys(n).map((function(e){return n[e]}));return r.length<1?[]:r.map((function(n){var r=e.toObject(new xv,n).getAccountInfo(),i=t.readIdTokenFromCache(t.clientId,r);return i&&!r.idTokenClaims&&(r.idTokenClaims=new Pv(i.secret,t.cryptoImpl).claims),r}))},e.prototype.saveCacheRecord=function(e){if(!e)throw Ev.createNullOrUndefinedCacheRecord();e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken&&this.saveAccessToken(e.accessToken),e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)},e.prototype.saveAccessToken=function(e){var t=this,n=this.getCredentialsFilteredBy({clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm}),r=Iv.fromString(e.target),i=Object.keys(n.accessTokens).map((function(e){return n.accessTokens[e]}));i&&i.forEach((function(e){Iv.fromString(e.target).intersectingScopeSets(r)&&t.removeCredential(e)})),this.setAccessTokenCredential(e)},e.prototype.getAccountsFilteredBy=function(e){return this.getAccountsFilteredByInternal(e?e.homeAccountId:"",e?e.environment:"",e?e.realm:"")},e.prototype.getAccountsFilteredByInternal=function(e,t,n){var r=this,i=this.getKeys(),o={};return i.forEach((function(i){var a=r.getAccount(i);a&&(e&&!r.matchHomeAccountId(a,e)||t&&!r.matchEnvironment(a,t)||n&&!r.matchRealm(a,n)||(o[i]=a))})),o},e.prototype.getCredentialsFilteredBy=function(e){return this.getCredentialsFilteredByInternal(e.homeAccountId,e.environment,e.credentialType,e.clientId,e.familyId,e.realm,e.target,e.oboAssertion)},e.prototype.getCredentialsFilteredByInternal=function(e,t,n,r,i,o,a,s){var u=this,c=this.getKeys(),l={idTokens:{},accessTokens:{},refreshTokens:{}};return c.forEach((function(c){var h=Tv.getCredentialType(c);if("not_defined"!==h){var d=u.getSpecificCredential(c,h);if(d&&(!s||u.matchOboAssertion(d,s))&&(!e||u.matchHomeAccountId(d,e))&&(!t||u.matchEnvironment(d,t))&&(!o||u.matchRealm(d,o))&&(!n||u.matchCredentialType(d,n))&&(!r||u.matchClientId(d,r))&&(!i||u.matchFamilyId(d,i))&&(!a||u.matchTarget(d,a)))switch(h){case dv.ID_TOKEN:l.idTokens[c]=d;break;case dv.ACCESS_TOKEN:case dv.ACCESS_TOKEN_WITH_AUTH_SCHEME:l.accessTokens[c]=d;break;case dv.REFRESH_TOKEN:l.refreshTokens[c]=d}}})),l},e.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},e.prototype.getAppMetadataFilteredByInternal=function(e,t){var n=this,r=this.getKeys(),i={};return r.forEach((function(r){if(n.isAppMetadata(r)){var o=n.getAppMetadata(r);o&&(e&&!n.matchEnvironment(o,e)||t&&!n.matchClientId(o,t)||(i[r]=o))}})),i},e.prototype.getAuthorityMetadataByAlias=function(e){var t=this,n=this.getAuthorityMetadataKeys(),r=null;return n.forEach((function(n){if(t.isAuthorityMetadata(n)&&-1!==n.indexOf(t.clientId)){var i=t.getAuthorityMetadata(n);i&&-1!==i.aliases.indexOf(e)&&(r=i)}})),r},e.prototype.removeAllAccounts=function(){var e=this;return this.getKeys().forEach((function(t){e.getAccount(t)&&e.removeAccount(t)})),!0},e.prototype.removeAccount=function(e){var t=this.getAccount(e);if(!t)throw Ev.createNoAccountFoundError();return this.removeAccountContext(t)&&this.removeItem(e,fv.ACCOUNT)},e.prototype.removeAccountContext=function(e){var t=this,n=this.getKeys(),r=e.generateAccountId();return n.forEach((function(e){var n=Tv.getCredentialType(e);if("not_defined"!==n){var i=t.getSpecificCredential(e,n);i&&r===i.generateAccountId()&&t.removeCredential(i)}})),!0},e.prototype.removeCredential=function(e){var t=e.generateCredentialKey();return this.removeItem(t,fv.CREDENTIAL)},e.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach((function(t){e.isAppMetadata(t)&&e.removeItem(t,fv.APP_METADATA)})),!0},e.prototype.readCacheRecord=function(e,t,n,r,i){var o=this.readAccountFromCache(e),a=this.readIdTokenFromCache(t,e),s=this.readAccessTokenFromCache(t,e,n,i),u=this.readRefreshTokenFromCache(t,e,!1),c=this.readAppMetadataFromCache(r,t);return o&&a&&(o.idTokenClaims=new Pv(a.secret,this.cryptoImpl).claims),{account:o,idToken:a,accessToken:s,refreshToken:u,appMetadata:c}},e.prototype.readAccountFromCache=function(e){var t=xv.generateAccountCacheKey(e);return this.getAccount(t)},e.prototype.readIdTokenFromCache=function(e,t){var n=this.getCredentialsFilteredBy({homeAccountId:t.homeAccountId,environment:t.environment,credentialType:dv.ID_TOKEN,clientId:e,realm:t.tenantId}),r=Object.keys(n.idTokens).map((function(e){return n.idTokens[e]})),i=r.length;if(i<1)return null;if(i>1)throw Ev.createMultipleMatchingTokensInCacheError();return r[0]},e.prototype.readAccessTokenFromCache=function(e,t,n,r){var i={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:r===yv.POP?dv.ACCESS_TOKEN_WITH_AUTH_SCHEME:dv.ACCESS_TOKEN,clientId:e,realm:t.tenantId,target:n.printScopesLowerCase()},o=this.getCredentialsFilteredBy(i),a=Object.keys(o.accessTokens).map((function(e){return o.accessTokens[e]})),s=a.length;if(s<1)return null;if(s>1)throw Ev.createMultipleMatchingTokensInCacheError();return a[0]},e.prototype.readRefreshTokenFromCache=function(e,t,n){var r=this.getCredentialsFilteredBy({homeAccountId:t.homeAccountId,environment:t.environment,credentialType:dv.REFRESH_TOKEN,clientId:e,familyId:n?"1":void 0}),i=Object.keys(r.refreshTokens).map((function(e){return r.refreshTokens[e]}));return i.length<1?null:i[0]},e.prototype.readAppMetadataFromCache=function(e,t){var n=this.getAppMetadataFilteredBy({environment:e,clientId:t}),r=Object.keys(n).map((function(e){return n[e]})),i=r.length;if(i<1)return null;if(i>1)throw Ev.createMultipleMatchingAppMetadataInCacheError();return r[0]},e.prototype.isAppMetadataFOCI=function(e,t){var n=this.readAppMetadataFromCache(e,t);return!(!n||"1"!==n.familyId)},e.prototype.matchHomeAccountId=function(e,t){return!(!e.homeAccountId||t!==e.homeAccountId)},e.prototype.matchOboAssertion=function(e,t){return!(!e.oboAssertion||t!==e.oboAssertion)},e.prototype.matchEnvironment=function(e,t){var n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)},e.prototype.matchCredentialType=function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()},e.prototype.matchClientId=function(e,t){return!(!e.clientId||t!==e.clientId)},e.prototype.matchFamilyId=function(e,t){return!(!e.familyId||t!==e.familyId)},e.prototype.matchRealm=function(e,t){return!(!e.realm||t!==e.realm)},e.prototype.matchTarget=function(e,t){if(e.credentialType!==dv.ACCESS_TOKEN&&e.credentialType!==dv.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;var n=Iv.fromString(e.target),r=Iv.fromString(t);return r.containsOnlyOIDCScopes()?r.removeScope("offline_access"):r.removeOIDCScopes(),n.containsScopeSet(r)},e.prototype.isAppMetadata=function(e){return-1!==e.indexOf("appmetadata")},e.prototype.isAuthorityMetadata=function(e){return-1!==e.indexOf("authority-metadata")},e.prototype.generateAuthorityMetadataCacheKey=function(e){return"authority-metadata-"+this.clientId+"-"+e},e.prototype.getSpecificCredential=function(e,t){switch(t){case dv.ID_TOKEN:return this.getIdTokenCredential(e);case dv.ACCESS_TOKEN:case dv.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(e);case dv.REFRESH_TOKEN:return this.getRefreshTokenCredential(e);default:return null}},e.toObject=function(e,t){for(var n in t)e[n]=t[n];return e},e}(),Fv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qp(t,e),t.prototype.setAccount=function(){throw wv.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw wv.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw wv.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw wv.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw wv.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw wv.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw wv.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw wv.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw wv.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw wv.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw wv.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw wv.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw wv.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw wv.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw wv.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw wv.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw wv.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw wv.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw wv.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw wv.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){throw wv.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")},t}(Nv),Mv={tokenRenewalOffsetSeconds:300},Uv={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:Cv.Info},Lv={sendGetRequestAsync:function(){return Zp(this,void 0,void 0,(function(){return Jp(this,(function(e){throw wv.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")}))}))},sendPostRequestAsync:function(){return Zp(this,void 0,void 0,(function(){return Jp(this,(function(e){throw wv.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")}))}))}},Hv={sku:"msal.js.common",version:"4.2.0",cpu:"",os:""},Vv={clientSecret:"",clientAssertion:void 0},Bv=function(e){function t(n,r,i){var o=e.call(this,n,r,i)||this;return o.name="ServerError",Object.setPrototypeOf(o,t.prototype),o}return Qp(t,e),t}(wv),jv=function(){function e(){}return e.generateThrottlingStorageKey=function(e){return"throttling."+JSON.stringify(e)},e.preProcess=function(t,n){var r,i=e.generateThrottlingStorageKey(n),o=t.getThrottlingCache(i);if(o){if(o.throttleTime<Date.now())return void t.removeItem(i,fv.THROTTLING);throw new Bv((null===(r=o.errorCodes)||void 0===r?void 0:r.join(" "))||"",o.errorMessage,o.subError)}},e.postProcess=function(t,n,r){if(e.checkResponseStatus(r)||e.checkResponseForRetryAfter(r)){var i={throttleTime:e.calculateThrottleTime(parseInt(r.headers[Xp.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache(e.generateThrottlingStorageKey(n),i)}},e.checkResponseStatus=function(e){return 429===e.status||e.status>=500&&e.status<600},e.checkResponseForRetryAfter=function(e){return!!e.headers&&e.headers.hasOwnProperty(Xp.RETRY_AFTER)&&(e.status<200||e.status>=300)},e.calculateThrottleTime=function(e){e<=0&&(e=0);var t=Date.now()/1e3;return Math.floor(1e3*Math.min(t+(e||60),t+3600))},e.removeThrottle=function(e,t,n,r,i){var o=this.generateThrottlingStorageKey({clientId:t,authority:n,scopes:r,homeAccountIdentifier:i});return e.removeItem(o,fv.THROTTLING)},e}(),qv=function(){function e(e,t){this.networkClient=e,this.cacheManager=t}return e.prototype.sendPostRequest=function(e,t,n){return Zp(this,void 0,void 0,(function(){var r,i;return Jp(this,(function(o){switch(o.label){case 0:jv.preProcess(this.cacheManager,e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(t,n)];case 2:return r=o.sent(),[3,4];case 3:throw(i=o.sent())instanceof wv?i:Ev.createNetworkError(t,i);case 4:return jv.postProcess(this.cacheManager,e,r),[2,r]}}))}))},e}(),Gv=function(){function e(e){var t,n,r,i,o,a,s,u,c,l,h,d,f;this.config=(i=(t=e).systemOptions,o=t.loggerOptions,a=t.storageInterface,s=t.networkInterface,u=t.cryptoInterface,c=t.clientCredentials,l=t.libraryInfo,h=t.serverTelemetryManager,d=t.persistencePlugin,f=t.serializableCache,{authOptions:(n=r=t.authOptions,Yp({clientCapabilities:[]},n)),systemOptions:Yp(Yp({},Mv),i),loggerOptions:Yp(Yp({},Uv),o),storageInterface:a||new Fv(r.clientId,kv),networkInterface:s||Lv,cryptoInterface:u||kv,clientCredentials:c||Vv,libraryInfo:Yp(Yp({},Hv),l),serverTelemetryManager:h||null,persistencePlugin:d||null,serializableCache:f||null}),this.logger=new Av(this.config.loggerOptions,"@azure/msal-common","4.2.0"),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new qv(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority}return e.prototype.createDefaultTokenRequestHeaders=function(){var e=this.createDefaultLibraryHeaders();return e[Xp.CONTENT_TYPE]="application/x-www-form-urlencoded;charset=utf-8",e[Xp.X_MS_LIB_CAPABILITY]=Xp.X_MS_LIB_CAPABILITY_VALUE,this.serverTelemetryManager&&(e[Xp.X_CLIENT_CURR_TELEM]=this.serverTelemetryManager.generateCurrentRequestHeaderValue(),e[Xp.X_CLIENT_LAST_TELEM]=this.serverTelemetryManager.generateLastRequestHeaderValue()),e},e.prototype.createDefaultLibraryHeaders=function(){var e={};return e[nv.X_CLIENT_SKU]=this.config.libraryInfo.sku,e[nv.X_CLIENT_VER]=this.config.libraryInfo.version,e[nv.X_CLIENT_OS]=this.config.libraryInfo.os,e[nv.X_CLIENT_CPU]=this.config.libraryInfo.cpu,e},e.prototype.executePostToTokenEndpoint=function(e,t,n,r){return Zp(this,void 0,void 0,(function(){var i;return Jp(this,(function(o){switch(o.label){case 0:return[4,this.networkManager.sendPostRequest(r,e,{body:t,headers:n})];case 1:return i=o.sent(),this.config.serverTelemetryManager&&i.status<500&&429!==i.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,i]}}))}))},e.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw Ev.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},e}(),Kv=function(){function e(){}return e.validateRedirectUri=function(e){if(bv.isEmpty(e))throw Rv.createRedirectUriEmptyError()},e.validatePrompt=function(e){if([sv.LOGIN,sv.SELECT_ACCOUNT,sv.CONSENT,sv.NONE].indexOf(e)<0)throw Rv.createInvalidPromptError(e)},e.validateClaims=function(e){try{JSON.parse(e)}catch(t){throw Rv.createInvalidClaimsRequestError()}},e.validateCodeChallengeParams=function(e,t){if(bv.isEmpty(e)||bv.isEmpty(t))throw Rv.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(t)},e.validateCodeChallengeMethod=function(e){if([gv.PLAIN,gv.S256].indexOf(e)<0)throw Rv.createInvalidCodeChallengeMethodError()},e.sanitizeEQParams=function(e,t){return e?(t.forEach((function(t,n){e[n]&&delete e[n]})),e):{}},e}(),zv=function(){function e(){this.parameters=new Map}return e.prototype.addResponseTypeCode=function(){this.parameters.set(nv.RESPONSE_TYPE,encodeURIComponent("code"))},e.prototype.addResponseMode=function(e){this.parameters.set(nv.RESPONSE_MODE,encodeURIComponent(e||uv.QUERY))},e.prototype.addScopes=function(e,t){void 0===t&&(t=!0);var n=t?$p(e||[],iv):e||[],r=new Iv(n);this.parameters.set(nv.SCOPE,encodeURIComponent(r.printScopes()))},e.prototype.addClientId=function(e){this.parameters.set(nv.CLIENT_ID,encodeURIComponent(e))},e.prototype.addRedirectUri=function(e){Kv.validateRedirectUri(e),this.parameters.set(nv.REDIRECT_URI,encodeURIComponent(e))},e.prototype.addPostLogoutRedirectUri=function(e){Kv.validateRedirectUri(e),this.parameters.set(nv.POST_LOGOUT_URI,encodeURIComponent(e))},e.prototype.addIdTokenHint=function(e){this.parameters.set(nv.ID_TOKEN_HINT,encodeURIComponent(e))},e.prototype.addDomainHint=function(e){this.parameters.set(av.DOMAIN_HINT,encodeURIComponent(e))},e.prototype.addLoginHint=function(e){this.parameters.set(av.LOGIN_HINT,encodeURIComponent(e))},e.prototype.addSid=function(e){this.parameters.set(av.SID,encodeURIComponent(e))},e.prototype.addClaims=function(e,t){var n=this.addClientCapabilitiesToClaims(e,t);Kv.validateClaims(n),this.parameters.set(nv.CLAIMS,encodeURIComponent(n))},e.prototype.addCorrelationId=function(e){this.parameters.set(nv.CLIENT_REQUEST_ID,encodeURIComponent(e))},e.prototype.addLibraryInfo=function(e){this.parameters.set(nv.X_CLIENT_SKU,e.sku),this.parameters.set(nv.X_CLIENT_VER,e.version),this.parameters.set(nv.X_CLIENT_OS,e.os),this.parameters.set(nv.X_CLIENT_CPU,e.cpu)},e.prototype.addPrompt=function(e){Kv.validatePrompt(e),this.parameters.set(""+nv.PROMPT,encodeURIComponent(e))},e.prototype.addState=function(e){bv.isEmpty(e)||this.parameters.set(nv.STATE,encodeURIComponent(e))},e.prototype.addNonce=function(e){this.parameters.set(nv.NONCE,encodeURIComponent(e))},e.prototype.addCodeChallengeParams=function(e,t){if(Kv.validateCodeChallengeParams(e,t),!e||!t)throw Rv.createInvalidCodeChallengeParamsError();this.parameters.set(nv.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(nv.CODE_CHALLENGE_METHOD,encodeURIComponent(t))},e.prototype.addAuthorizationCode=function(e){this.parameters.set(nv.CODE,encodeURIComponent(e))},e.prototype.addDeviceCode=function(e){this.parameters.set(nv.DEVICE_CODE,encodeURIComponent(e))},e.prototype.addRefreshToken=function(e){this.parameters.set(nv.REFRESH_TOKEN,encodeURIComponent(e))},e.prototype.addCodeVerifier=function(e){this.parameters.set(nv.CODE_VERIFIER,encodeURIComponent(e))},e.prototype.addClientSecret=function(e){this.parameters.set(nv.CLIENT_SECRET,encodeURIComponent(e))},e.prototype.addClientAssertion=function(e){this.parameters.set(nv.CLIENT_ASSERTION,encodeURIComponent(e))},e.prototype.addClientAssertionType=function(e){this.parameters.set(nv.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},e.prototype.addOboAssertion=function(e){this.parameters.set(nv.OBO_ASSERTION,encodeURIComponent(e))},e.prototype.addRequestTokenUse=function(e){this.parameters.set(nv.REQUESTED_TOKEN_USE,encodeURIComponent(e))},e.prototype.addGrantType=function(e){this.parameters.set(nv.GRANT_TYPE,encodeURIComponent(e))},e.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},e.prototype.addExtraQueryParameters=function(e){var t=this;Kv.sanitizeEQParams(e,this.parameters),Object.keys(e).forEach((function(n){t.parameters.set(n,e[n])}))},e.prototype.addClientCapabilitiesToClaims=function(e,t){var n;if(e)try{n=JSON.parse(e)}catch(r){throw Rv.createInvalidClaimsRequestError()}else n={};return t&&t.length>0&&(n.hasOwnProperty(rv.ACCESS_TOKEN)||(n[rv.ACCESS_TOKEN]={}),n[rv.ACCESS_TOKEN][rv.XMS_CC]={values:t}),JSON.stringify(n)},e.prototype.addUsername=function(e){this.parameters.set(mv.username,e)},e.prototype.addPassword=function(e){this.parameters.set(mv.password,e)},e.prototype.addPopToken=function(e){bv.isEmpty(e)||(this.parameters.set(nv.TOKEN_TYPE,yv.POP),this.parameters.set(nv.REQ_CNF,encodeURIComponent(e)))},e.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach((function(t,n){e.push(n+"="+t)})),e.join("&")},e}(),Wv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qp(t,e),t.createIdTokenEntity=function(e,n,r,i,o,a){var s=new t;return s.credentialType=dv.ID_TOKEN,s.homeAccountId=e,s.environment=n,s.clientId=i,s.secret=r,s.realm=o,s.oboAssertion=a,s},t.isIdTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===dv.ID_TOKEN},t}(Tv),Qv=function(){function e(){}return e.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},e.isTokenExpired=function(t,n){var r=Number(t)||0;return e.nowSeconds()+n>r},e}(),Yv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qp(t,e),t.createAccessTokenEntity=function(e,n,r,i,o,a,s,u,c,l,h,d){var f,p=new t;p.homeAccountId=e,p.credentialType=dv.ACCESS_TOKEN,p.secret=r;var v=Qv.nowSeconds();if(p.cachedAt=v.toString(),p.expiresOn=s.toString(),p.extendedExpiresOn=u.toString(),l&&(p.refreshOn=l.toString()),p.environment=n,p.clientId=i,p.realm=o,p.target=a,p.oboAssertion=d,p.tokenType=bv.isEmpty(h)?yv.BEARER:h,p.tokenType===yv.POP){p.credentialType=dv.ACCESS_TOKEN_WITH_AUTH_SCHEME;var g=Pv.extractTokenClaims(r,c);if(!(null===(f=null==g?void 0:g.cnf)||void 0===f?void 0:f.kid))throw Ev.createTokenClaimsRequiredError();p.keyId=g.cnf.kid}return p},t.isAccessTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===dv.ACCESS_TOKEN||e.credentialType===dv.ACCESS_TOKEN_WITH_AUTH_SCHEME)},t}(Tv),Zv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qp(t,e),t.createRefreshTokenEntity=function(e,n,r,i,o,a){var s=new t;return s.clientId=i,s.credentialType=dv.REFRESH_TOKEN,s.environment=n,s.homeAccountId=e,s.secret=r,s.oboAssertion=a,o&&(s.familyId=o),s},t.isRefreshTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===dv.REFRESH_TOKEN},t}(Tv),Jv=["interaction_required","consent_required","login_required"],$v=["message_only","additional_action","basic_action","user_password_expired","consent_required"],Xv=function(e){function t(n,r,i){var o=e.call(this,n,r,i)||this;return o.name="InteractionRequiredAuthError",Object.setPrototypeOf(o,t.prototype),o}return Qp(t,e),t.isInteractionRequiredError=function(e,t,n){var r=!!e&&Jv.indexOf(e)>-1,i=!!n&&$v.indexOf(n)>-1,o=!!t&&Jv.some((function(e){return t.indexOf(e)>-1}));return r||o||i},t}(Bv),eg=function(e,t,n,r,i){this.account=e||null,this.idToken=t||null,this.accessToken=n||null,this.refreshToken=r||null,this.appMetadata=i||null},tg=function(){function e(){}return e.setRequestState=function(t,n,r){var i=e.generateLibraryState(t,r);return bv.isEmpty(n)?i:i+"|"+n},e.generateLibraryState=function(e,t){if(!e)throw Ev.createNoCryptoObjectError("generateLibraryState");var n={id:e.createNewGuid()};t&&(n.meta=t);var r=JSON.stringify(n);return e.base64Encode(r)},e.parseRequestState=function(e,t){if(!e)throw Ev.createNoCryptoObjectError("parseRequestState");if(bv.isEmpty(t))throw Ev.createInvalidStateError(t,"Null, undefined or empty state");try{var n=decodeURIComponent(t).split("|"),r=n[0],i=n.length>1?n.slice(1).join("|"):"",o=e.base64Decode(r),a=JSON.parse(o);return{userRequestState:bv.isEmpty(i)?"":i,libraryState:a}}catch(s){throw Ev.createInvalidStateError(t,s)}},e}(),ng=function(){function e(t){if(this._urlString=t,bv.isEmpty(this._urlString))throw Rv.createUrlEmptyError();bv.isEmpty(this.getHash())&&(this._urlString=e.canonicalizeUri(t))}return Object.defineProperty(e.prototype,"urlString",{get:function(){return this._urlString},enumerable:!0,configurable:!0}),e.canonicalizeUri=function(e){return e&&(e=e.toLowerCase(),bv.endsWith(e,"?")?e=e.slice(0,-1):bv.endsWith(e,"?/")&&(e=e.slice(0,-2)),bv.endsWith(e,"/")||(e+="/")),e},e.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(t){throw Rv.createUrlParseError(t)}if(!e.HostNameAndPort||!e.PathSegments)throw Rv.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Rv.createInsecureAuthorityUriError(this.urlString)},e.prototype.urlRemoveQueryStringParameter=function(e){var t=new RegExp("(\\&"+e+"=)[^&]+");return this._urlString=this.urlString.replace(t,""),t=new RegExp("("+e+"=)[^&]+&"),this._urlString=this.urlString.replace(t,""),t=new RegExp("("+e+"=)[^&]+"),this._urlString=this.urlString.replace(t,""),this.urlString},e.removeHashFromUrl=function(t){return e.canonicalizeUri(t.split("#")[0])},e.prototype.replaceTenantPath=function(t){var n=this.getUrlComponents(),r=n.PathSegments;return!t||0===r.length||r[0]!==tv.COMMON&&r[0]!==tv.ORGANIZATIONS||(r[0]=t),e.constructAuthorityUriFromObject(n)},e.prototype.getHash=function(){return e.parseHash(this.urlString)},e.prototype.getUrlComponents=function(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Rv.createUrlParseError("Given url string: "+this.urlString);var n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},r=n.AbsolutePath.split("/");return r=r.filter((function(e){return e&&e.length>0})),n.PathSegments=r,!bv.isEmpty(n.QueryString)&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n},e.getDomainFromUrl=function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw Rv.createUrlParseError("Given url string: "+e);return n[2]},e.getAbsoluteUrl=function(t,n){if("/"===t[0]){var r=new e(n).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+t}return t},e.parseHash=function(e){var t=e.indexOf("#"),n=e.indexOf("#/");return n>-1?e.substring(n+2):t>-1?e.substring(t+1):""},e.constructAuthorityUriFromObject=function(t){return new e(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},e.getDeserializedHash=function(t){if(bv.isEmpty(t))return{};var n=e.parseHash(t),r=bv.queryStringToObject(bv.isEmpty(n)?t:n);if(!r)throw Ev.createHashNotDeserializedError(JSON.stringify(r));return r},e.hashContainsKnownProperties=function(t){if(bv.isEmpty(t))return!1;var n=e.getDeserializedHash(t);return!!(n.code||n.error_description||n.error||n.state)},e}();!function(e){e.SW="sw",e.UHW="uhw"}(Ov||(Ov={}));var rg,ig=function(){function e(e){this.cryptoUtils=e}return e.prototype.generateCnf=function(e){return Zp(this,void 0,void 0,(function(){var t;return Jp(this,(function(n){switch(n.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(e)];case 1:return t=n.sent(),[2,this.cryptoUtils.base64Encode(JSON.stringify({kid:t,xms_ksl:Ov.SW}))]}}))}))},e.prototype.signPopToken=function(e,t){var n;return Zp(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Jp(this,(function(c){switch(c.label){case 0:if(r=Pv.extractTokenClaims(e,this.cryptoUtils),i=t.resourceRequestMethod,a=t.shrClaims,s=(o=t.resourceRequestUri)?new ng(o):void 0,u=null==s?void 0:s.getUrlComponents(),!(null===(n=null==r?void 0:r.cnf)||void 0===n?void 0:n.kid))throw Ev.createTokenClaimsRequiredError();return[4,this.cryptoUtils.signJwt({at:e,ts:""+Qv.nowSeconds(),m:null==i?void 0:i.toUpperCase(),u:null==u?void 0:u.HostNameAndPort,nonce:this.cryptoUtils.createNewGuid(),p:null==u?void 0:u.AbsolutePath,q:(null==u?void 0:u.QueryString)?[[],u.QueryString]:void 0,client_claims:a||void 0},r.cnf.kid)];case 1:return[2,c.sent()]}}))}))},e}(),og=function(){function e(){}return e.prototype.generateAppMetadataKey=function(){return e.generateAppMetadataCacheKey(this.environment,this.clientId)},e.generateAppMetadataCacheKey=function(e,t){return["appmetadata",e,t].join(hv.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAppMetadataEntity=function(t,n,r){var i=new e;return i.clientId=t,i.environment=n,r&&(i.familyId=r),i},e.isAppMetadataEntity=function(e,t){return!!t&&0===e.indexOf("appmetadata")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")},e}(),ag=function(){function e(e,t){this.cache=e,this.hasChanged=t}return Object.defineProperty(e.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!0,configurable:!0}),e}(),sg=function(){function e(e,t,n,r,i,o){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=i,this.persistencePlugin=o}return e.prototype.validateServerAuthorizationCodeResponse=function(e,t,n){if(!e.state||!t)throw Ev.createStateNotFoundError(e.state?"Cached State":"Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(t))throw Ev.createStateMismatchError();if(e.error||e.error_description||e.suberror){if(Xv.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new Xv(e.error||"",e.error_description,e.suberror);throw new Bv(e.error||"",e.error_description,e.suberror)}e.client_info&&Dv(e.client_info,n)},e.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if(Xv.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new Xv(e.error,e.error_description,e.suberror);throw new Bv(e.error,e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id)}},e.prototype.handleServerTokenResponse=function(t,n,r,i,o,a,s){return Zp(this,void 0,void 0,(function(){var u,c,l,h,d;return Jp(this,(function(f){switch(f.label){case 0:if(t.id_token&&(u=new Pv(t.id_token||"",this.cryptoObj),o&&!bv.isEmpty(o.nonce)&&u.claims.nonce!==o.nonce))throw Ev.createNonceMismatchError();this.homeAccountIdentifier=xv.generateHomeAccountId(t.client_info||"",n.authorityType,this.logger,this.cryptoObj,u),o&&o.state&&(c=tg.parseRequestState(this.cryptoObj,o.state)),l=this.generateCacheRecord(t,n,r,u,i.scopes,a,o),f.label=1;case 1:return f.trys.push([1,,4,7]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new ag(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(h)]):[3,3];case 2:f.sent(),f.label=3;case 3:return s&&l.account&&(d=l.account.generateAccountKey(),!this.cacheStorage.getAccount(d))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,e.generateAuthenticationResult(this.cryptoObj,n,l,!1,i,u,c)]):(this.cacheStorage.saveCacheRecord(l),[3,7]);case 4:return this.persistencePlugin&&this.serializableCache&&h?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(h)]):[3,6];case 5:f.sent(),f.label=6;case 6:return[7];case 7:return[2,e.generateAuthenticationResult(this.cryptoObj,n,l,!1,i,u,c)]}}))}))},e.prototype.generateCacheRecord=function(e,t,n,r,i,o,a){var s,u,c=t.getPreferredCache();if(bv.isEmpty(c))throw Ev.createInvalidCacheEnvironmentError();!bv.isEmpty(e.id_token)&&r&&(s=Wv.createIdTokenEntity(this.homeAccountIdentifier,c,e.id_token||"",this.clientId,r.claims.tid||"",o),u=this.generateAccountEntity(e,r,t,o,a));var l=null;if(!bv.isEmpty(e.access_token)){var h=e.scope?Iv.fromString(e.scope):new Iv(i||[]),d=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,f=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,p=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,v=n+d,g=v+f,y=p&&p>0?n+p:void 0;l=Yv.createAccessTokenEntity(this.homeAccountIdentifier,c,e.access_token||"",this.clientId,r?r.claims.tid||"":t.tenant,h.printScopes(),v,g,this.cryptoObj,y,e.token_type,o)}var m=null;bv.isEmpty(e.refresh_token)||(m=Zv.createRefreshTokenEntity(this.homeAccountIdentifier,c,e.refresh_token||"",this.clientId,e.foci,o));var _=null;return bv.isEmpty(e.foci)||(_=og.createAppMetadataEntity(this.clientId,c,e.foci)),new eg(u,s,l,m,_)},e.prototype.generateAccountEntity=function(e,t,n,r,i){var o=i?i.cloud_graph_host_name:"",a=i?i.msgraph_host:"";if(n.authorityType===Sv.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),xv.createGenericAccount(n,this.homeAccountIdentifier,t,r,o,a);if(bv.isEmpty(e.client_info)&&"AAD"===n.protocolMode)throw Ev.createClientInfoEmptyError();return e.client_info?xv.createAccount(e.client_info,this.homeAccountIdentifier,n,t,r,o,a):xv.createGenericAccount(n,this.homeAccountIdentifier,t,r,o,a)},e.generateAuthenticationResult=function(e,t,n,r,i,o,a){var s,u,c;return Zp(this,void 0,void 0,(function(){var l,h,d,f,p;return Jp(this,(function(v){switch(v.label){case 0:return l="",h=[],d=null,p="",n.accessToken?n.accessToken.tokenType!==yv.POP?[3,2]:[4,new ig(e).signPopToken(n.accessToken.secret,i)]:[3,4];case 1:return l=v.sent(),[3,3];case 2:l=n.accessToken.secret,v.label=3;case 3:h=Iv.fromString(n.accessToken.target).asArray(),d=new Date(1e3*Number(n.accessToken.expiresOn)),f=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),v.label=4;case 4:return n.appMetadata&&(p="1"===n.appMetadata.familyId?"1":""),[2,{authority:t.canonicalAuthority,uniqueId:(null==o?void 0:o.claims.oid)||(null==o?void 0:o.claims.sub)||"",tenantId:(null==o?void 0:o.claims.tid)||"",scopes:h,account:n.account?n.account.getAccountInfo():null,idToken:o?o.rawToken:"",idTokenClaims:o?o.claims:{},accessToken:l,fromCache:r,expiresOn:d,extExpiresOn:f,familyId:p,tokenType:(null===(s=n.accessToken)||void 0===s?void 0:s.tokenType)||"",state:a?a.userRequestState:"",cloudGraphHostName:(null===(u=n.account)||void 0===u?void 0:u.cloudGraphHostName)||"",msGraphHost:(null===(c=n.account)||void 0===c?void 0:c.msGraphHost)||""}]}}))}))},e}(),ug=function(e){function t(t){return e.call(this,t)||this}return Qp(t,e),t.prototype.getAuthCodeUrl=function(e){return Zp(this,void 0,void 0,(function(){var t;return Jp(this,(function(n){return t=this.createAuthCodeUrlQueryString(e),[2,this.authority.authorizationEndpoint+"?"+t]}))}))},t.prototype.acquireToken=function(e,t){return Zp(this,void 0,void 0,(function(){var n,r,i;return Jp(this,(function(o){switch(o.label){case 0:if(this.logger.info("in acquireToken call"),!e||bv.isEmpty(e.code))throw Ev.createTokenRequestCannotBeMadeError();return n=Qv.nowSeconds(),[4,this.executeTokenRequest(this.authority,e)];case 1:return r=o.sent(),(i=new sg(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(r.body),[4,i.handleServerTokenResponse(r.body,this.authority,n,e,t)];case 2:return[2,o.sent()]}}))}))},t.prototype.handleFragmentResponse=function(e,t){var n=new sg(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),r=new ng(e),i=ng.getDeserializedHash(r.getHash());if(n.validateServerAuthorizationCodeResponse(i,t,this.cryptoUtils),!i.code)throw Ev.createNoAuthCodeInServerResponseError();return Yp(Yp({},i),{code:i.code})},t.prototype.getLogoutUri=function(e){if(!e)throw Rv.createEmptyLogoutRequestError();e.account?this.cacheManager.removeAccount(xv.generateAccountCacheKey(e.account)):this.cacheManager.clear();var t=this.createLogoutUrlQueryString(e);return bv.isEmpty(t)?this.authority.endSessionEndpoint:this.authority.endSessionEndpoint+"?"+t},t.prototype.executeTokenRequest=function(e,t){return Zp(this,void 0,void 0,(function(){var n,r,i,o,a;return Jp(this,(function(s){switch(s.label){case 0:return n={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes},[4,this.createTokenRequestBody(t)];case 1:return r=s.sent(),i=this.createTokenQueryParameters(t),o=this.createDefaultTokenRequestHeaders(),a=bv.isEmpty(i)?e.tokenEndpoint:e.tokenEndpoint+"?"+i,[2,this.executePostToTokenEndpoint(a,r,o,n)]}}))}))},t.prototype.createTokenQueryParameters=function(e){var t=new zv;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},t.prototype.createTokenRequestBody=function(e){return Zp(this,void 0,void 0,(function(){var t,n,r,i;return Jp(this,(function(o){switch(o.label){case 0:return(t=new zv).addClientId(this.config.authOptions.clientId),t.addRedirectUri(e.redirectUri),t.addScopes(e.scopes),t.addAuthorizationCode(e.code),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(t.addClientAssertion((n=this.config.clientCredentials.clientAssertion).assertion),t.addClientAssertionType(n.assertionType)),t.addGrantType(cv.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme!==yv.POP?[3,2]:[4,new ig(this.cryptoUtils).generateCnf(e)];case 1:r=o.sent(),t.addPopToken(r),o.label=2;case 2:return i=e.correlationId||this.config.cryptoInterface.createNewGuid(),t.addCorrelationId(i),(!bv.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),[2,t.createQueryString()]}}))}))},t.prototype.createAuthCodeUrlQueryString=function(e){var t=new zv;t.addClientId(this.config.authOptions.clientId);var n=$p(e.scopes||[],e.extraScopesToConsent||[]);t.addScopes(n),t.addRedirectUri(e.redirectUri);var r=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(r),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==sv.SELECT_ACCOUNT)if(e.sid&&e.prompt===sv.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){var i=this.extractAccountSid(e.account);i&&e.prompt===sv.NONE?(this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(i)):e.loginHint?(this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint)):e.account.username&&(this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username))}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(!bv.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()},t.prototype.createLogoutUrlQueryString=function(e){var t=new zv;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),t.createQueryString()},t.prototype.extractAccountSid=function(e){return e.idTokenClaims&&e.idTokenClaims.sid||null},t}(Gv),cg=(function(e){function t(t){return e.call(this,t)||this}Qp(t,e),t.prototype.acquireToken=function(e){return Zp(this,void 0,void 0,(function(){var t,n,r,i;return Jp(this,(function(o){switch(o.label){case 0:return[4,this.getDeviceCode(e)];case 1:return t=o.sent(),e.deviceCodeCallback(t),n=Qv.nowSeconds(),[4,this.acquireTokenWithDeviceCode(e,t)];case 2:return r=o.sent(),(i=new sg(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(r),[4,i.handleServerTokenResponse(r,this.authority,n,e)];case 3:return[2,o.sent()]}}))}))},t.prototype.getDeviceCode=function(e){return Zp(this,void 0,void 0,(function(){var t,n;return Jp(this,(function(r){return t=this.createQueryString(e),n=this.createDefaultTokenRequestHeaders(),[2,this.executePostRequestToDeviceCodeEndpoint(this.authority.deviceCodeEndpoint,t,n,{clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes})]}))}))},t.prototype.executePostRequestToDeviceCodeEndpoint=function(e,t,n,r){return Zp(this,void 0,void 0,(function(){var i;return Jp(this,(function(o){switch(o.label){case 0:return[4,this.networkManager.sendPostRequest(r,e,{body:t,headers:n})];case 1:return[2,{userCode:(i=o.sent().body).user_code,deviceCode:i.device_code,verificationUri:i.verification_uri,expiresIn:i.expires_in,interval:i.interval,message:i.message}]}}))}))},t.prototype.createQueryString=function(e){var t=new zv;return t.addScopes(e.scopes),t.addClientId(this.config.authOptions.clientId),(!bv.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()},t.prototype.acquireTokenWithDeviceCode=function(e,t){return Zp(this,void 0,void 0,(function(){var n,r,i,o,a,s=this;return Jp(this,(function(u){return n=this.createTokenRequestBody(e,t),r=this.createDefaultTokenRequestHeaders(),i=e.timeout?Qv.nowSeconds()+e.timeout:void 0,o=Qv.nowSeconds()+t.expiresIn,a=1e3*t.interval,[2,new Promise((function(t,u){var c=setInterval((function(){return Zp(s,void 0,void 0,(function(){var a,s;return Jp(this,(function(l){switch(l.label){case 0:return l.trys.push([0,6,,7]),e.cancel?(this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),clearInterval(c),u(Ev.createDeviceCodeCancelledError()),[3,5]):[3,1];case 1:return i&&i<o&&Qv.nowSeconds()>i?(this.logger.error("User defined timeout for device code polling reached. The timeout was set for "+i),clearInterval(c),u(Ev.createUserTimeoutReachedError()),[3,5]):[3,2];case 2:return Qv.nowSeconds()>o?(i&&this.logger.verbose("User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for "+i),this.logger.error("Device code expired. Expiration time of device code was "+o),clearInterval(c),u(Ev.createDeviceCodeExpiredError()),[3,5]):[3,3];case 3:return[4,this.executePostToTokenEndpoint(this.authority.tokenEndpoint,n,r,{clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes})];case 4:(a=l.sent()).body&&"authorization_pending"===a.body.error?this.logger.info(a.body.error_description||"no_error_description"):(clearInterval(c),t(a.body)),l.label=5;case 5:return[3,7];case 6:return s=l.sent(),clearInterval(c),u(s),[3,7];case 7:return[2]}}))}))}),a)}))]}))}))},t.prototype.createTokenRequestBody=function(e,t){var n=new zv;n.addScopes(e.scopes),n.addClientId(this.config.authOptions.clientId),n.addGrantType(cv.DEVICE_CODE_GRANT),n.addDeviceCode(t.deviceCode);var r=e.correlationId||this.config.cryptoInterface.createNewGuid();return n.addCorrelationId(r),n.addClientInfo(),(!bv.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),n.createQueryString()}}(Gv),function(e){function t(t){return e.call(this,t)||this}return Qp(t,e),t.prototype.acquireToken=function(e){return Zp(this,void 0,void 0,(function(){var t,n,r;return Jp(this,(function(i){switch(i.label){case 0:return t=Qv.nowSeconds(),[4,this.executeTokenRequest(e,this.authority)];case 1:return n=i.sent(),(r=new sg(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(n.body),[2,r.handleServerTokenResponse(n.body,this.authority,t,e,void 0,void 0,!0)]}}))}))},t.prototype.acquireTokenByRefreshToken=function(e){return Zp(this,void 0,void 0,(function(){var t;return Jp(this,(function(n){if(!e)throw Rv.createEmptyTokenRequestError();if(!e.account)throw Ev.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(r){if(t=r instanceof Bv&&"invalid_grant"===r.errorCode&&"client_mismatch"===r.subError,r instanceof Ev&&"no_tokens_found"===r.errorCode||t)return[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw r}return[2,this.acquireTokenWithCachedRefreshToken(e,!1)]}))}))},t.prototype.acquireTokenWithCachedRefreshToken=function(e,t){return Zp(this,void 0,void 0,(function(){var n,r;return Jp(this,(function(i){if(!(n=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,e.account,t)))throw Ev.createNoTokensFoundError();return r=Yp(Yp({},e),{refreshToken:n.secret,authenticationScheme:e.authenticationScheme||yv.BEARER}),[2,this.acquireToken(r)]}))}))},t.prototype.executeTokenRequest=function(e,t){return Zp(this,void 0,void 0,(function(){var n,r,i,o,a;return Jp(this,(function(s){switch(s.label){case 0:return[4,this.createTokenRequestBody(e)];case 1:return n=s.sent(),r=this.createTokenQueryParameters(e),i=this.createDefaultTokenRequestHeaders(),o={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes},a=bv.isEmpty(r)?t.tokenEndpoint:t.tokenEndpoint+"?"+r,[2,this.executePostToTokenEndpoint(a,n,i,o)]}}))}))},t.prototype.createTokenQueryParameters=function(e){var t=new zv;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},t.prototype.createTokenRequestBody=function(e){return Zp(this,void 0,void 0,(function(){var t,n,r,i,o,a;return Jp(this,(function(s){switch(s.label){case 0:return(t=new zv).addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes),t.addGrantType(cv.REFRESH_TOKEN_GRANT),t.addClientInfo(),n=e.correlationId||this.config.cryptoInterface.createNewGuid(),t.addCorrelationId(n),t.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(t.addClientAssertion((r=this.config.clientCredentials.clientAssertion).assertion),t.addClientAssertionType(r.assertionType)),e.authenticationScheme!==yv.POP?[3,2]:(i=new ig(this.cryptoUtils),a=(o=t).addPopToken,[4,i.generateCnf(e)]);case 1:a.apply(o,[s.sent()]),s.label=2;case 2:return(!bv.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),[2,t.createQueryString()]}}))}))},t}(Gv)),lg=(function(e){function t(t){return e.call(this,t)||this}Qp(t,e),t.prototype.acquireToken=function(e){return Zp(this,void 0,void 0,(function(){var t;return Jp(this,(function(n){switch(n.label){case 0:return this.scopeSet=new Iv(e.scopes||[]),e.skipCache?[4,this.executeTokenRequest(e,this.authority)]:[3,2];case 1:return[2,n.sent()];case 2:return[4,this.getCachedAuthenticationResult(e)];case 3:return(t=n.sent())?[2,t]:[3,4];case 4:return[4,this.executeTokenRequest(e,this.authority)];case 5:return[2,n.sent()]}}))}))},t.prototype.getCachedAuthenticationResult=function(e){return Zp(this,void 0,void 0,(function(){var t;return Jp(this,(function(n){switch(n.label){case 0:return!(t=this.readAccessTokenFromCache())||Qv.isTokenExpired(t.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds)?[2,null]:[4,sg.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:null,idToken:null,accessToken:t,refreshToken:null,appMetadata:null},!0,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.readAccessTokenFromCache=function(){var e={homeAccountId:"",environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:dv.ACCESS_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant,target:this.scopeSet.printScopesLowerCase()},t=this.cacheManager.getCredentialsFilteredBy(e),n=Object.keys(t.accessTokens).map((function(e){return t.accessTokens[e]}));if(n.length<1)return null;if(n.length>1)throw Ev.createMultipleMatchingTokensInCacheError();return n[0]},t.prototype.executeTokenRequest=function(e,t){return Zp(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Jp(this,(function(u){switch(u.label){case 0:return n=this.createTokenRequestBody(e),r=this.createDefaultTokenRequestHeaders(),i={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes},o=Qv.nowSeconds(),[4,this.executePostToTokenEndpoint(t.tokenEndpoint,n,r,i)];case 1:return a=u.sent(),(s=new sg(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(a.body),[4,s.handleServerTokenResponse(a.body,this.authority,o,e)];case 2:return[2,u.sent()]}}))}))},t.prototype.createTokenRequestBody=function(e){var t=new zv;t.addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes,!1),t.addGrantType(cv.CLIENT_CREDENTIALS_GRANT);var n=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(n),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){var r=this.config.clientCredentials.clientAssertion;t.addClientAssertion(r.assertion),t.addClientAssertionType(r.assertionType)}return(!bv.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}}(Gv),function(e){function t(t){return e.call(this,t)||this}Qp(t,e),t.prototype.acquireToken=function(e){return Zp(this,void 0,void 0,(function(){var t;return Jp(this,(function(n){switch(n.label){case 0:return this.scopeSet=new Iv(e.scopes||[]),e.skipCache?[4,this.executeTokenRequest(e,this.authority)]:[3,2];case 1:return[2,n.sent()];case 2:return[4,this.getCachedAuthenticationResult(e)];case 3:return(t=n.sent())?[2,t]:[3,4];case 4:return[4,this.executeTokenRequest(e,this.authority)];case 5:return[2,n.sent()]}}))}))},t.prototype.getCachedAuthenticationResult=function(e){return Zp(this,void 0,void 0,(function(){var t,n,r,i;return Jp(this,(function(o){switch(o.label){case 0:return!(t=this.readAccessTokenFromCache(e))||Qv.isTokenExpired(t.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds)?[2,null]:(n=this.readIdTokenFromCache(e),i=null,n&&(r=new Pv(n.secret,this.config.cryptoInterface),i=this.readAccountFromCache({homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:"",localAccountId:(r.claims.oid?r.claims.oid:r.claims.sub)||""})),[4,sg.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:i,accessToken:t,idToken:n,refreshToken:null,appMetadata:null},!0,e,r)]);case 1:return[2,o.sent()]}}))}))},t.prototype.readAccessTokenFromCache=function(e){var t={environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:dv.ACCESS_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant,target:this.scopeSet.printScopesLowerCase(),oboAssertion:e.oboAssertion},n=this.cacheManager.getCredentialsFilteredBy(t),r=Object.keys(n.accessTokens).map((function(e){return n.accessTokens[e]})),i=r.length;if(i<1)return null;if(i>1)throw Ev.createMultipleMatchingTokensInCacheError();return r[0]},t.prototype.readIdTokenFromCache=function(e){var t=this.cacheManager.getCredentialsFilteredBy({environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:dv.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant,oboAssertion:e.oboAssertion}),n=Object.keys(t.idTokens).map((function(e){return t.idTokens[e]}));return n.length<1?null:n[0]},t.prototype.readAccountFromCache=function(e){return this.cacheManager.readAccountFromCache(e)},t.prototype.executeTokenRequest=function(e,t){return Zp(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Jp(this,(function(u){switch(u.label){case 0:return n=this.createTokenRequestBody(e),r=this.createDefaultTokenRequestHeaders(),i={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes},o=Qv.nowSeconds(),[4,this.executePostToTokenEndpoint(t.tokenEndpoint,n,r,i)];case 1:return a=u.sent(),(s=new sg(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(a.body),[4,s.handleServerTokenResponse(a.body,this.authority,o,e)];case 2:return[2,u.sent()]}}))}))},t.prototype.createTokenRequestBody=function(e){var t=new zv;t.addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes),t.addGrantType(cv.JWT_BEARER),t.addClientInfo();var n=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(n),t.addRequestTokenUse(nv.ON_BEHALF_OF),t.addOboAssertion(e.oboAssertion),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){var r=this.config.clientCredentials.clientAssertion;t.addClientAssertion(r.assertion),t.addClientAssertionType(r.assertionType)}return t.createQueryString()}}(Gv),function(e){function t(t){return e.call(this,t)||this}return Qp(t,e),t.prototype.acquireToken=function(e){return Zp(this,void 0,void 0,(function(){var t;return Jp(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,n.sent()];case 2:if((t=n.sent())instanceof Ev&&"token_refresh_required"===t.errorCode)return[2,new cg(this.config).acquireTokenByRefreshToken(e)];throw t;case 3:return[2]}}))}))},t.prototype.acquireCachedToken=function(e){return Zp(this,void 0,void 0,(function(){var t,n,r;return Jp(this,(function(i){switch(i.label){case 0:if(!e)throw Rv.createEmptyTokenRequestError();if(!e.account)throw Ev.createNoAccountInSilentRequestError();if(t=new Iv(e.scopes||[]),n=e.authority||this.authority.getPreferredCache(),r=this.cacheManager.readCacheRecord(e.account,this.config.authOptions.clientId,t,n,e.authenticationScheme||yv.BEARER),e.forceRefresh||e.claims||!r.accessToken||Qv.isTokenExpired(r.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds)||r.accessToken.refreshOn&&Qv.isTokenExpired(r.accessToken.refreshOn,0))throw Ev.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(r,e)];case 1:return[2,i.sent()]}}))}))},t.prototype.generateResultFromCacheRecord=function(e,t){return Zp(this,void 0,void 0,(function(){var n;return Jp(this,(function(r){switch(r.label){case 0:return e.idToken&&(n=new Pv(e.idToken.secret,this.config.cryptoInterface)),[4,sg.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)];case 1:return[2,r.sent()]}}))}))},t}(Gv));function hg(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("end_session_endpoint")&&e.hasOwnProperty("issuer")}!function(e){function t(t){return e.call(this,t)||this}Qp(t,e),t.prototype.acquireToken=function(e){return Zp(this,void 0,void 0,(function(){var t,n,r;return Jp(this,(function(i){switch(i.label){case 0:return this.logger.info("in acquireToken call"),t=Qv.nowSeconds(),[4,this.executeTokenRequest(this.authority,e)];case 1:return n=i.sent(),(r=new sg(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(n.body),[2,r.handleServerTokenResponse(n.body,this.authority,t,e)]}}))}))},t.prototype.executeTokenRequest=function(e,t){return Zp(this,void 0,void 0,(function(){var n,r,i;return Jp(this,(function(o){return n={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes},r=this.createTokenRequestBody(t),i=this.createDefaultTokenRequestHeaders(),[2,this.executePostToTokenEndpoint(e.tokenEndpoint,r,i,n)]}))}))},t.prototype.createTokenRequestBody=function(e){var t=new zv;t.addClientId(this.config.authOptions.clientId),t.addUsername(e.username),t.addPassword(e.password),t.addScopes(e.scopes),t.addGrantType(cv.RESOURCE_OWNER_PASSWORD_GRANT),t.addClientInfo();var n=e.correlationId||this.config.cryptoInterface.createNewGuid();return t.addCorrelationId(n),(!bv.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}}(Gv),function(e){e.AAD="AAD",e.OIDC="OIDC"}(rg||(rg={}));var dg,fg,pg,vg,gg,yg,mg=function(){function e(){this.expiresAt=Qv.nowSeconds()+86400}return e.prototype.updateCloudDiscoveryMetadata=function(e,t){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=t},e.prototype.updateEndpointMetadata=function(e,t){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=t},e.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},e.prototype.resetExpiresAt=function(){this.expiresAt=Qv.nowSeconds()+86400},e.prototype.isExpired=function(){return this.expiresAt<=Qv.nowSeconds()},e.isAuthorityMetadataEntity=function(e,t){return!!t&&0===e.indexOf("authority-metadata")&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("end_session_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")},e}(),_g=function(){function e(e,t,n,r){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r}return Object.defineProperty(e.prototype,"authorityType",{get:function(){var e=this.canonicalAuthorityUrlComponents.PathSegments;return e.length&&"adfs"===e[0].toLowerCase()?Sv.Adfs:Sv.Default},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new ng(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(e)}throw Ev.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(e)}throw Ev.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(e)}throw Ev.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(e)}throw Ev.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.issuer);return this.replaceTenant(e)}throw Ev.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!0,configurable:!0}),e.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},e.prototype.replacePath=function(e){var t=e,n=new ng(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((function(e,r){var i=n[r];e!==i&&(t=t.replace("/"+i+"/","/"+e+"/"))})),t},Object.defineProperty(e.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===Sv.Adfs||this.protocolMode===rg.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!0,configurable:!0}),e.prototype.discoveryComplete=function(){return!!this.metadata},e.prototype.resolveEndpointsAsync=function(){return Zp(this,void 0,void 0,(function(){var e,t,n,r;return Jp(this,(function(i){switch(i.label){case 0:return(e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(e=new mg).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(e)];case 1:return t=i.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network),[4,this.updateEndpointMetadata(e)];case 2:return n=i.sent(),t!==vv.CACHE&&n!==vv.CACHE&&(e.resetExpiresAt(),e.updateCanonicalAuthority(this.canonicalAuthority)),r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache),this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e,[2]}}))}))},e.prototype.updateEndpointMetadata=function(e){return Zp(this,void 0,void 0,(function(){var t;return Jp(this,(function(n){switch(n.label){case 0:return(t=this.getEndpointMetadataFromConfig())?(e.updateEndpointMetadata(t,!1),[2,vv.CONFIG]):this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!e.isExpired()?[2,vv.CACHE]:[4,this.getEndpointMetadataFromNetwork()];case 1:if(t=n.sent())return e.updateEndpointMetadata(t,!0),[2,vv.NETWORK];throw Ev.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}}))}))},e.prototype.isAuthoritySameType=function(e){return new ng(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},e.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw Rv.createInvalidAuthorityMetadataError()}return null},e.prototype.getEndpointMetadataFromNetwork=function(){return Zp(this,void 0,void 0,(function(){var e;return Jp(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint)];case 1:return[2,hg((e=t.sent()).body)?e.body:null];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))},e.prototype.updateCloudDiscoveryMetadata=function(e){return Zp(this,void 0,void 0,(function(){var t;return Jp(this,(function(n){switch(n.label){case 0:return(t=this.getCloudDiscoveryMetadataFromConfig())?(e.updateCloudDiscoveryMetadata(t,!1),[2,vv.CONFIG]):this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!e.isExpired()?[2,vv.CACHE]:[4,this.getCloudDiscoveryMetadataFromNetwork()];case 1:if(t=n.sent())return e.updateCloudDiscoveryMetadata(t,!0),[2,vv.NETWORK];throw Rv.createUntrustedAuthorityError()}}))}))},e.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=e.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(n)return n}catch(r){throw Rv.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},e.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return Zp(this,void 0,void 0,(function(){var t,n,r,i;return Jp(this,(function(o){switch(o.label){case 0:t="https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint="+this.canonicalAuthority+"oauth2/v2.0/authorize",n=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(t)];case 2:return r=o.sent(),i=function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body)?r.body.metadata:[],n=e.getCloudDiscoveryMetadataFromNetworkResponse(i,this.hostnameAndPort),[3,4];case 3:return o.sent(),[2,null];case 4:return n||(n=e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,n]}}))}))},e.prototype.isInKnownAuthorities=function(){var e=this;return this.authorityOptions.knownAuthorities.filter((function(t){return ng.getDomainFromUrl(t).toLowerCase()===e.hostnameAndPort})).length>0},e.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},e.getCloudDiscoveryMetadataFromNetworkResponse=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.aliases.indexOf(t)>-1)return r}return null},e.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw Ev.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},e.prototype.isAlias=function(e){return this.metadata.aliases.indexOf(e)>-1},e}(),Cg=function(){function e(){}return e.createDiscoveredInstance=function(t,n,r,i){return Zp(this,void 0,void 0,(function(){var o,a;return Jp(this,(function(s){switch(s.label){case 0:o=e.createInstance(t,n,r,i),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,o.resolveEndpointsAsync()];case 2:return s.sent(),[2,o];case 3:throw a=s.sent(),Ev.createEndpointDiscoveryIncompleteError(a);case 4:return[2]}}))}))},e.createInstance=function(e,t,n,r){if(bv.isEmpty(e))throw Rv.createUrlEmptyError();return new _g(e,t,n,r)},e}(),wg=function(){function e(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return e.isServerTelemetryEntity=function(e,t){var n=0===e.indexOf(_v.CACHE_KEY),r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r},e}(),kg=function(){function e(){}return e.isThrottlingEntity=function(e,t){var n=!1;e&&(n=0===e.indexOf("throttling"));var r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r},e}(),Eg={sendGetRequestAsync:function(){return Promise.reject(wv.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(wv.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},bg=function(){function e(e,t){this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.forceRefresh=e.forceRefresh||!1,this.wrapperSKU=e.wrapperSKU||"",this.wrapperVer=e.wrapperVer||"",this.telemetryCacheKey=_v.CACHE_KEY+hv.CACHE_KEY_SEPARATOR+e.clientId}return e.prototype.generateCurrentRequestHeaderValue=function(){var e=""+this.apiId+_v.VALUE_SEPARATOR+(this.forceRefresh?1:0),t=[this.wrapperSKU,this.wrapperVer].join(_v.VALUE_SEPARATOR);return[_v.SCHEMA_VERSION,e,t].join(_v.CATEGORY_SEPARATOR)},e.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),n=e.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*n).join(_v.VALUE_SEPARATOR),i=t.errors.slice(0,n).join(_v.VALUE_SEPARATOR),o=t.errors.length,a=[o,n<o?_v.OVERFLOW_TRUE:_v.OVERFLOW_FALSE].join(_v.VALUE_SEPARATOR);return[_v.SCHEMA_VERSION,t.cacheHits,r,i,a].join(_v.CATEGORY_SEPARATOR)},e.prototype.cacheFailedRequest=function(e){var t=this.getLastRequests();t.failedRequests.push(this.apiId,this.correlationId),bv.isEmpty(e.subError)?bv.isEmpty(e.errorCode)?e&&e.toString()?t.errors.push(e.toString()):t.errors.push(_v.UNKNOWN_ERROR):t.errors.push(e.errorCode):t.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)},e.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},e.prototype.getLastRequests=function(){var e=new wg;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},e.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),n=e.maxErrorsToSend(t);if(n===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var r=new wg;r.failedRequests=t.failedRequests.slice(2*n),r.errors=t.errors.slice(n),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}},e.maxErrorsToSend=function(e){var t,n=0,r=0,i=e.errors.length;for(t=0;t<i;t++){var o=e.failedRequests[2*t+1]||"",a=e.errors[t]||"";if(!((r+=(e.failedRequests[2*t]||"").toString().length+o.toString().length+a.length+3)<_v.MAX_HEADER_BYTES))break;n+=1}return n},e}();!function(e){e.LocalStorage="localStorage",e.SessionStorage="sessionStorage",e.MemoryStorage="memoryStorage"}(dg||(dg={})),function(e){e.GET="GET",e.POST="POST"}(fg||(fg={})),function(e){e.AUTHORITY="authority",e.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",e.SESSION_STATE="session.state",e.REQUEST_STATE="request.state",e.NONCE_IDTOKEN="nonce.id_token",e.ORIGIN_URI="request.origin",e.RENEW_STATUS="token.renew.status",e.URL_HASH="urlHash",e.REQUEST_PARAMS="request.params",e.SCOPES="scopes",e.INTERACTION_STATUS_KEY="interaction.status"}(pg||(pg={})),function(e){e[e.acquireTokenRedirect=861]="acquireTokenRedirect",e[e.acquireTokenPopup=862]="acquireTokenPopup",e[e.ssoSilent=863]="ssoSilent",e[e.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",e[e.handleRedirectPromise=865]="handleRedirectPromise",e[e.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",e[e.logout=961]="logout",e[e.logoutPopup=962]="logoutPopup"}(vg||(vg={})),function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent"}(gg||(gg={})),function(e){e.Startup="startup",e.Login="login",e.Logout="logout",e.AcquireToken="acquireToken",e.SsoSilent="ssoSilent",e.HandleRedirect="handleRedirect",e.None="none"}(yg||(yg={}));var Sg,Ag={scopes:iv};!function(e){e.React="@azure/msal-react",e.Angular="@azure/msal-angular"}(Sg||(Sg={}));var Tg,Rg=function(){function e(){}return e.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},e}(),Ig=function(){function e(e){this.cryptoObj=e}return e.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,Rg.decimalToHex(e[0])+Rg.decimalToHex(e[1])+Rg.decimalToHex(e[2])+Rg.decimalToHex(e[3])+"-"+Rg.decimalToHex(e[4])+Rg.decimalToHex(e[5])+"-"+Rg.decimalToHex(e[6])+Rg.decimalToHex(e[7])+"-"+Rg.decimalToHex(e[8])+Rg.decimalToHex(e[9])+"-"+Rg.decimalToHex(e[10])+Rg.decimalToHex(e[11])+Rg.decimalToHex(e[12])+Rg.decimalToHex(e[13])+Rg.decimalToHex(e[14])+Rg.decimalToHex(e[15])}catch(a){for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",n="0123456789abcdef",r=0,i="",o=0;o<36;o++)"-"!==t[o]&&"4"!==t[o]&&(r=16*Math.random()|0),"x"===t[o]?i+=n[r]:"y"===t[o]?(r&=3,i+=n[r|=8]):i+=t[o];return i}},e.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},e}(),Dg=function(){function e(){}return e.stringToUtf8Arr=function(e){for(var t,n=0,r=e.length,i=0;i<r;i++)n+=(t=e.charCodeAt(i))<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;for(var o=new Uint8Array(n),a=0,s=0;a<n;s++)(t=e.charCodeAt(s))<128?o[a++]=t:t<2048?(o[a++]=192+(t>>>6),o[a++]=128+(63&t)):t<65536?(o[a++]=224+(t>>>12),o[a++]=128+(t>>>6&63),o[a++]=128+(63&t)):t<2097152?(o[a++]=240+(t>>>18),o[a++]=128+(t>>>12&63),o[a++]=128+(t>>>6&63),o[a++]=128+(63&t)):t<67108864?(o[a++]=248+(t>>>24),o[a++]=128+(t>>>18&63),o[a++]=128+(t>>>12&63),o[a++]=128+(t>>>6&63),o[a++]=128+(63&t)):(o[a++]=252+(t>>>30),o[a++]=128+(t>>>24&63),o[a++]=128+(t>>>18&63),o[a++]=128+(t>>>12&63),o[a++]=128+(t>>>6&63),o[a++]=128+(63&t));return o},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return t},e.utf8ArrToString=function(e){for(var t="",n=void 0,r=e.length,i=0;i<r;i++)n=e[i],t+=String.fromCharCode(n>251&&n<254&&i+5<r?1073741824*(n-252)+(e[++i]-128<<24)+(e[++i]-128<<18)+(e[++i]-128<<12)+(e[++i]-128<<6)+e[++i]-128:n>247&&n<252&&i+4<r?(n-248<<24)+(e[++i]-128<<18)+(e[++i]-128<<12)+(e[++i]-128<<6)+e[++i]-128:n>239&&n<248&&i+3<r?(n-240<<18)+(e[++i]-128<<12)+(e[++i]-128<<6)+e[++i]-128:n>223&&n<240&&i+2<r?(n-224<<12)+(e[++i]-128<<6)+e[++i]-128:n>191&&n<224&&i+1<r?(n-192<<6)+e[++i]-128:n);return t},e}(),Og=function(){function e(){}return e.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))},e.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype.encode=function(e){var t=Dg.stringToUtf8Arr(e);return this.base64EncArr(t)},e.prototype.base64EncArr=function(e){for(var t=(3-e.length%3)%3,n="",r=void 0,i=e.length,o=0,a=0;a<i;a++)o|=e[a]<<(16>>>(r=a%3)&24),2!==r&&e.length-a!=1||(n+=String.fromCharCode(this.uint6ToB64(o>>>18&63),this.uint6ToB64(o>>>12&63),this.uint6ToB64(o>>>6&63),this.uint6ToB64(63&o)),o=0);return 0===t?n:n.substring(0,n.length-t)+(1===t?"=":"==")},e.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65},e}(),xg=function(){function e(){}return e.prototype.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}var n=this.base64DecToArr(t);return Dg.utf8ArrToString(n)},e.prototype.base64DecToArr=function(e,t){for(var n=e.replace(/[^A-Za-z0-9\+\/]/g,""),r=n.length,i=t?Math.ceil((3*r+1>>>2)/t)*t:3*r+1>>>2,o=new Uint8Array(i),a=void 0,s=void 0,u=0,c=0,l=0;l<r;l++)if(s=3&l,u|=this.b64ToUint6(n.charCodeAt(l))<<18-6*s,3===s||r-l==1){for(a=0;a<3&&c<i;a++,c++)o[c]=u>>>(16>>>a&24)&255;u=0}return o},e.prototype.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},e}(),Pg=function(e){function t(n,r){var i=e.call(this,n,r)||this;return Object.setPrototypeOf(i,t.prototype),i.name="BrowserAuthError",i}return Bp(t,e),t.createPkceNotGeneratedError=function(e){return new t("pkce_not_created","The PKCE code challenge and verifier could not be generated. Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t("crypto_nonexistent","The crypto object or function is not available. Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t("http_method_not_implemented","The HTTP method given has not been implemented in this library. Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t("empty_navigate_uri","Navigation URI is empty. Please check stack trace for more info.")},t.createEmptyHashError=function(e){return new t("hash_empty_error","Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t("no_state_in_hash","Hash does not contain state. Please verify that the request originated from msal.")},t.createHashDoesNotContainKnownPropertiesError=function(){return new t("hash_does_not_contain_known_properties","Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.")},t.createUnableToParseStateError=function(){return new t("unable_to_parse_state","Unable to parse state. Please verify that the request originated from msal.")},t.createStateInteractionTypeMismatchError=function(){return new t("state_interaction_type_mismatch","Hash contains state but the interaction type does not match the caller.")},t.createInteractionInProgressError=function(){return new t("interaction_in_progress","Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors.")},t.createPopupWindowError=function(e){var n="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.";return new t("popup_window_error",n=bv.isEmpty(e)?n:n+" Details: "+e)},t.createEmptyWindowCreatedError=function(){return new t("empty_window_error","window.open returned null or undefined window object.")},t.createUserCancelledError=function(){return new t("user_cancelled","User cancelled the flow.")},t.createMonitorPopupTimeoutError=function(){return new t("monitor_window_timeout","Token acquisition in popup failed due to timeout.")},t.createMonitorIframeTimeoutError=function(){return new t("monitor_window_timeout","Token acquisition in iframe failed due to timeout.")},t.createRedirectInIframeError=function(e){return new t("redirect_in_iframe","Code flow is not supported inside an iframe. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs. (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t("block_iframe_reload","Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors")},t.createBlockAcquireTokenInPopupsError=function(){return new t("block_nested_popups","Request was blocked inside a popup because MSAL detected it was running in a popup.")},t.createIframeClosedPrematurelyError=function(){return new t("iframe_closed_prematurely","The iframe being monitored was closed prematurely.")},t.createSilentSSOInsufficientInfoError=function(){return new t("silent_sso_error","Silent SSO could not be completed - insufficient information was provided. Please provide either a loginHint or sid.")},t.createNoAccountError=function(){return new t("no_account_error","No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.")},t.createSilentPromptValueError=function(e){return new t("silent_prompt_value_error","The value given for the prompt value is not valid for silent requests - must be set to 'none'. Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t("unable_to_parse_token_request_cache_error","The cached token request could not be parsed.")},t.createNoTokenRequestCacheError=function(){return new t("no_token_request_cache_error","No token request in found in cache.")},t.createAuthRequestNotSetError=function(){return new t("auth_request_not_set_error","Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler")},t.createNoCachedAuthorityError=function(){return new t("no_cached_authority_error","No cached authority found.")},t.createInvalidCacheTypeError=function(){return new t("invalid_cache_type","Invalid cache type")},t.createNonBrowserEnvironmentError=function(){return new t("non_browser_environment","Login and token requests are not supported in non-browser environments.")},t.createDatabaseNotOpenError=function(){return new t("database_not_open","Database is not open!")},t.createNoNetworkConnectivityError=function(){return new t("no_network_connectivity","No network connectivity. Check your internet connection.")},t.createPostRequestFailedError=function(e,n){return new t("post_request_failed","Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA' | Network client threw: "+e+" | Attempted to reach: "+n.split("?")[0])},t.createGetRequestFailedError=function(e,n){return new t("get_request_failed","Network request failed. Please check the network trace to determine root cause. | Network client threw: "+e+" | Attempted to reach: "+n.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t("failed_to_parse_response","Failed to parse network response. Check network trace. | Attempted to reach: "+e.split("?")[0])},t}(wv),Ng=function(){function e(e){this.base64Encode=new Og,this.cryptoObj=e}return e.prototype.generateCodes=function(){return qp(this,void 0,void 0,(function(){var e,t;return Gp(this,(function(n){switch(n.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return t=n.sent(),[2,{verifier:e,challenge:t}]}}))}))},e.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(32);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(t){throw Pg.createPkceNotGeneratedError(t)}},e.prototype.generateCodeChallengeFromVerifier=function(e){return qp(this,void 0,void 0,(function(){var t,n;return Gp(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return t=r.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(t))];case 2:throw n=r.sent(),Pg.createPkceNotGeneratedError(n);case 3:return[2]}}))}))},e}(),Fg=new Uint8Array([1,0,1]),Mg=function(){function e(){if(!this.hasCryptoAPI())throw Pg.createCryptoNotAvailableError("Browser crypto or msCrypto object not available.");this._keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:Fg}}return e.prototype.sha256Digest=function(e){return qp(this,void 0,void 0,(function(){var t;return Gp(this,(function(n){return t=Dg.stringToUtf8Arr(e),[2,this.hasIECrypto()?this.getMSCryptoDigest("SHA-256",t):this.getSubtleCryptoDigest("SHA-256",t)]}))}))},e.prototype.getRandomValues=function(e){var t=window.msCrypto||window.crypto;if(!t.getRandomValues)throw Pg.createCryptoNotAvailableError("getRandomValues does not exist.");t.getRandomValues(e)},e.prototype.generateKeyPair=function(e,t){return qp(this,void 0,void 0,(function(){return Gp(this,(function(n){return[2,this.hasIECrypto()?this.msCryptoGenerateKey(e,t):window.crypto.subtle.generateKey(this._keygenAlgorithmOptions,e,t)]}))}))},e.prototype.exportJwk=function(e){return qp(this,void 0,void 0,(function(){return Gp(this,(function(t){return[2,this.hasIECrypto()?this.msCryptoExportJwk(e):window.crypto.subtle.exportKey("jwk",e)]}))}))},e.prototype.importJwk=function(t,n,r){return qp(this,void 0,void 0,(function(){var i,o;return Gp(this,(function(a){return i=e.getJwkString(t),o=Dg.stringToArrayBuffer(i),[2,this.hasIECrypto()?this.msCryptoImportKey(o,n,r):window.crypto.subtle.importKey("jwk",t,this._keygenAlgorithmOptions,n,r)]}))}))},e.prototype.sign=function(e,t){return qp(this,void 0,void 0,(function(){return Gp(this,(function(n){return[2,this.hasIECrypto()?this.msCryptoSign(e,t):window.crypto.subtle.sign(this._keygenAlgorithmOptions,e,t)]}))}))},e.prototype.hasCryptoAPI=function(){return this.hasIECrypto()||this.hasBrowserCrypto()},e.prototype.hasIECrypto=function(){return"msCrypto"in window},e.prototype.hasBrowserCrypto=function(){return"crypto"in window},e.prototype.getSubtleCryptoDigest=function(e,t){return qp(this,void 0,void 0,(function(){return Gp(this,(function(n){return[2,window.crypto.subtle.digest(e,t)]}))}))},e.prototype.getMSCryptoDigest=function(e,t){return qp(this,void 0,void 0,(function(){return Gp(this,(function(n){return[2,new Promise((function(n,r){var i=window.msCrypto.subtle.digest(e,t.buffer);i.addEventListener("complete",(function(e){n(e.target.result)})),i.addEventListener("error",(function(e){r(e)}))}))]}))}))},e.prototype.msCryptoGenerateKey=function(e,t){return qp(this,void 0,void 0,(function(){var n=this;return Gp(this,(function(r){return[2,new Promise((function(r,i){var o=window.msCrypto.subtle.generateKey(n._keygenAlgorithmOptions,e,t);o.addEventListener("complete",(function(e){r(e.target.result)})),o.addEventListener("error",(function(e){i(e)}))}))]}))}))},e.prototype.msCryptoExportJwk=function(e){return qp(this,void 0,void 0,(function(){return Gp(this,(function(t){return[2,new Promise((function(t,n){var r=window.msCrypto.subtle.exportKey("jwk",e);r.addEventListener("complete",(function(e){var r=Dg.utf8ArrToString(new Uint8Array(e.target.result)).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"").split(" ").join("").replace("\0","");try{t(JSON.parse(r))}catch(e){n(e)}})),r.addEventListener("error",(function(e){n(e)}))}))]}))}))},e.prototype.msCryptoImportKey=function(e,t,n){return qp(this,void 0,void 0,(function(){var r=this;return Gp(this,(function(i){return[2,new Promise((function(i,o){var a=window.msCrypto.subtle.importKey("jwk",e,r._keygenAlgorithmOptions,t,n);a.addEventListener("complete",(function(e){i(e.target.result)})),a.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.msCryptoSign=function(e,t){return qp(this,void 0,void 0,(function(){var n=this;return Gp(this,(function(r){return[2,new Promise((function(r,i){var o=window.msCrypto.subtle.sign(n._keygenAlgorithmOptions,e,t);o.addEventListener("complete",(function(e){r(e.target.result)})),o.addEventListener("error",(function(e){i(e)}))}))]}))}))},e.getJwkString=function(e){return JSON.stringify(e,Object.keys(e).sort())},e}(),Ug=function(){function e(e,t,n){this.dbName=e,this.tableName=t,this.version=n,this.dbOpen=!1}return e.prototype.open=function(){return qp(this,void 0,void 0,(function(){var e=this;return Gp(this,(function(t){return[2,new Promise((function(t,n){var r=window.indexedDB.open(e.dbName,e.version);r.addEventListener("upgradeneeded",(function(t){t.target.result.createObjectStore(e.tableName)})),r.addEventListener("success",(function(n){e.db=n.target.result,e.dbOpen=!0,t()})),r.addEventListener("error",(function(e){return n(e)}))}))]}))}))},e.prototype.get=function(e){return qp(this,void 0,void 0,(function(){var t=this;return Gp(this,(function(n){switch(n.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:n.sent(),n.label=2;case 2:return[2,new Promise((function(n,r){if(!t.db)return r(Pg.createDatabaseNotOpenError());var i=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);i.addEventListener("success",(function(e){n(e.target.result)})),i.addEventListener("error",(function(e){return r(e)}))}))]}}))}))},e.prototype.put=function(e,t){return qp(this,void 0,void 0,(function(){var n=this;return Gp(this,(function(r){switch(r.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:r.sent(),r.label=2;case 2:return[2,new Promise((function(r,i){if(!n.db)return i(Pg.createDatabaseNotOpenError());var o=n.db.transaction([n.tableName],"readwrite").objectStore(n.tableName).put(t,e);o.addEventListener("success",(function(e){r(e.target.result)})),o.addEventListener("error",(function(e){return i(e)}))}))]}}))}))},e}(),Lg=function(){function e(){this.browserCrypto=new Mg,this.b64Encode=new Og,this.b64Decode=new xg,this.guidGenerator=new Ig(this.browserCrypto),this.pkceGenerator=new Ng(this.browserCrypto),this.cache=new Ug(e.DB_NAME,e.TABLE_NAME,e.DB_VERSION)}return e.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},e.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},e.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},e.prototype.generatePkceCodes=function(){return qp(this,void 0,void 0,(function(){return Gp(this,(function(e){return[2,this.pkceGenerator.generateCodes()]}))}))},e.prototype.getPublicKeyThumbprint=function(t){return qp(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Gp(this,(function(c){switch(c.label){case 0:return[4,this.browserCrypto.generateKeyPair(e.EXTRACTABLE,e.POP_KEY_USAGES)];case 1:return n=c.sent(),[4,this.browserCrypto.exportJwk(n.publicKey)];case 2:return r=c.sent(),i=Mg.getJwkString({e:r.e,kty:r.kty,n:r.n}),[4,this.browserCrypto.sha256Digest(i)];case 3:return o=c.sent(),a=this.b64Encode.urlEncodeArr(new Uint8Array(o)),[4,this.browserCrypto.exportJwk(n.privateKey)];case 4:return s=c.sent(),[4,this.browserCrypto.importJwk(s,!1,["sign"])];case 5:return u=c.sent(),this.cache.put(a,{privateKey:u,publicKey:n.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),[2,a]}}))}))},e.prototype.signJwt=function(e,t){return qp(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Gp(this,(function(h){switch(h.label){case 0:return[4,this.cache.get(t)];case 1:return n=h.sent(),[4,this.browserCrypto.exportJwk(n.publicKey)];case 2:return r=h.sent(),i=Mg.getJwkString(r),o=this.b64Encode.urlEncode(JSON.stringify({alg:r.alg,type:"jwk"})),e.cnf={jwk:JSON.parse(i)},a=this.b64Encode.urlEncode(JSON.stringify(e)),u=Dg.stringToArrayBuffer(s=o+"."+a),[4,this.browserCrypto.sign(n.privateKey,u)];case 3:return c=h.sent(),l=this.b64Encode.urlEncodeArr(new Uint8Array(c)),[2,s+"."+l]}}))}))},e.POP_KEY_USAGES=["sign","verify"],e.EXTRACTABLE=!0,e.DB_VERSION=1,e.TABLE_NAME=(e.DB_NAME="msal.db")+".keys",e}(),Hg=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.name="BrowserConfigurationAuthError",Object.setPrototypeOf(i,t.prototype),i}return Bp(t,e),t.createRedirectUriEmptyError=function(){return new t("redirect_uri_empty","A redirect URI is required for all calls, and none has been set.")},t.createPostLogoutRedirectUriEmptyError=function(){return new t("post_logout_uri_empty","A post logout redirect has not been set.")},t.createStorageNotSupportedError=function(e){return new t("storage_not_supported","Given storage configuration option was not supported. Given Location: "+e)},t.createInvalidCallbackObjectError=function(e){return new t("invalid_callback_object","The object passed for the callback was invalid. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics. Given value for callback function: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t("no_redirect_callbacks","No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.")},t.createStubPcaInstanceCalledError=function(){return new t("stubbed_public_client_application_called","Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors")},t.createInMemoryRedirectUnavailableError=function(){return new t("in_mem_redirect_unavailable","Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true.")},t}(wv),Vg=function(){function e(e){this.validateWindowStorage(e),this.windowStorage=window[e]}return e.prototype.validateWindowStorage=function(e){if(e!==dg.LocalStorage&&e!==dg.SessionStorage)throw Hg.createStorageNotSupportedError(e);if(!window[e])throw Hg.createStorageNotSupportedError(e)},e.prototype.getItem=function(e){return this.windowStorage.getItem(e)},e.prototype.setItem=function(e,t){this.windowStorage.setItem(e,t)},e.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},e.prototype.getKeys=function(){return Object.keys(this.windowStorage)},e.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},e}(),Bg=function(){function e(){this.cache=new Map}return e.prototype.getItem=function(e){return this.cache.get(e)||null},e.prototype.setItem=function(e,t){this.cache.set(e,t)},e.prototype.removeItem=function(e){this.cache.delete(e)},e.prototype.getKeys=function(){var e=[];return this.cache.forEach((function(t,n){e.push(n)})),e},e.prototype.containsKey=function(e){return this.cache.has(e)},e.prototype.clear=function(){this.cache.clear()},e}(),jg=function(){function e(){}return e.extractBrowserRequestState=function(e,t){if(bv.isEmpty(t))return null;try{return tg.parseRequestState(e,t).libraryState.meta}catch(n){throw Ev.createInvalidStateError(t,n)}},e.parseServerResponseFromHash=function(e){if(!e)return{};var t=new ng(e);return ng.getDeserializedHash(t.getHash())},e}(),qg=function(e){function t(t,n,r,i){var o=e.call(this,t,r)||this;return o.COOKIE_LIFE_MULTIPLIER=864e5,o.cacheConfig=n,o.logger=i,o.internalStorage=new Bg,o.browserStorage=o.setupBrowserStorage(o.cacheConfig.cacheLocation),o.temporaryCacheStorage=o.setupTemporaryCacheStorage(o.cacheConfig.cacheLocation),o.migrateCacheEntries(),o}return Bp(t,e),t.prototype.setupBrowserStorage=function(e){switch(e){case dg.LocalStorage:case dg.SessionStorage:try{return new Vg(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=dg.MemoryStorage,new Bg},t.prototype.setupTemporaryCacheStorage=function(e){switch(e){case dg.LocalStorage:case dg.SessionStorage:try{return new Vg(dg.SessionStorage)}catch(t){return this.logger.verbose(t),this.internalStorage}case dg.MemoryStorage:default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,t="msal."+ev.CLIENT_INFO,n="msal."+ev.ERROR,r="msal."+ev.ERROR_DESC,i=[this.browserStorage.getItem("msal."+ev.ID_TOKEN),this.browserStorage.getItem(t),this.browserStorage.getItem(n),this.browserStorage.getItem(r)];[ev.ID_TOKEN,ev.CLIENT_INFO,ev.ERROR,ev.ERROR_DESC].forEach((function(t,n){return e.migrateCacheEntry(t,i[n])}))},t.prototype.migrateCacheEntry=function(e,t){t&&this.setTemporaryCache(e,t,!0)},t.prototype.validateAndParseJson=function(e){try{var t=JSON.parse(e);return t&&"object"==typeof t?t:null}catch(n){return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,t){this.browserStorage.setItem(e,t)},t.prototype.getAccount=function(e){var t=this.getItem(e);if(!t)return null;var n=this.validateAndParseJson(t);return n&&xv.isAccountEntity(n)?Nv.toObject(new xv,n):null},t.prototype.setAccount=function(e){this.logger.verbose("BrowserCacheManager.setAccount called");var t=e.generateAccountKey();this.setItem(t,JSON.stringify(e))},t.prototype.getIdTokenCredential=function(e){this.logger.verbose("BrowserCacheManager.getIdTokenCredential called");var t=this.getItem(e);if(!t)return null;var n=this.validateAndParseJson(t);return n&&Wv.isIdTokenEntity(n)?(this.logger.verbose("BrowserCacheManager.getIdTokenCredential: cache hit"),Nv.toObject(new Wv,n)):null},t.prototype.setIdTokenCredential=function(e){this.logger.verbose("BrowserCacheManager.setIdTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getAccessTokenCredential=function(e){this.logger.verbose("BrowserCacheManager.getAccessTokenCredential called");var t=this.getItem(e);if(!t)return null;var n=this.validateAndParseJson(t);return n&&Yv.isAccessTokenEntity(n)?(this.logger.verbose("BrowserCacheManager.getAccessTokenCredential: cache hit"),Nv.toObject(new Yv,n)):null},t.prototype.setAccessTokenCredential=function(e){this.logger.verbose("BrowserCacheManager.setAccessTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getRefreshTokenCredential=function(e){this.logger.verbose("BrowserCacheManager.getRefreshTokenCredential called");var t=this.getItem(e);if(!t)return null;var n=this.validateAndParseJson(t);return n&&Zv.isRefreshTokenEntity(n)?(this.logger.verbose("BrowserCacheManager.getRefreshTokenCredential: cache hit"),Nv.toObject(new Zv,n)):null},t.prototype.setRefreshTokenCredential=function(e){this.logger.verbose("BrowserCacheManager.setRefreshTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getAppMetadata=function(e){this.logger.verbose("BrowserCacheManager.getAppMetadata called");var t=this.getItem(e);if(!t)return null;var n=this.validateAndParseJson(t);return n&&og.isAppMetadataEntity(e,n)?(this.logger.verbose("BrowserCacheManager.getAppMetadata: cache hit"),Nv.toObject(new og,n)):null},t.prototype.setAppMetadata=function(e){this.logger.verbose("BrowserCacheManager.setAppMetadata called");var t=e.generateAppMetadataKey();this.setItem(t,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){this.logger.verbose("BrowserCacheManager.getServerTelemetry called");var t=this.getItem(e);if(!t)return null;var n=this.validateAndParseJson(t);return n&&wg.isServerTelemetryEntity(e,n)?(this.logger.verbose("BrowserCacheManager.getServerTelemetry: cache hit"),Nv.toObject(new wg,n)):null},t.prototype.setServerTelemetry=function(e,t){this.logger.verbose("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))},t.prototype.getAuthorityMetadata=function(e){this.logger.verbose("BrowserCacheManager.getAuthorityMetadata called");var t=this.internalStorage.getItem(e);if(!t)return null;var n=this.validateAndParseJson(t);return n&&mg.isAuthorityMetadataEntity(e,n)?(this.logger.verbose("BrowserCacheManager.getAuthorityMetadata: cache hit"),Nv.toObject(new mg,n)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter((function(t){return e.isAuthorityMetadata(t)}))},t.prototype.setAuthorityMetadata=function(e,t){this.logger.verbose("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))},t.prototype.getThrottlingCache=function(e){this.logger.verbose("BrowserCacheManager.getThrottlingCache called");var t=this.getItem(e);if(!t)return null;var n=this.validateAndParseJson(t);return n&&kg.isThrottlingEntity(e,n)?(this.logger.verbose("BrowserCacheManager.getThrottlingCache: cache hit"),Nv.toObject(new kg,n)):null},t.prototype.setThrottlingCache=function(e,t){this.logger.verbose("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))},t.prototype.getTemporaryCache=function(e,t){this.logger.verbose("BrowserCacheManager.getTemporaryCache called");var n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){this.logger.verbose("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies");var r=this.getItemCookie(n);if(r)return r}return this.temporaryCacheStorage.getItem(n)||null},t.prototype.setTemporaryCache=function(e,t,n){var r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.verbose("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(r,t))},t.prototype.removeItem=function(e){return this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.verbose("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e)),!0},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return zp(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){var e=this;this.removeAllAccounts(),this.removeAppMetadata(),this.getKeys().forEach((function(t){!e.browserStorage.containsKey(t)&&!e.temporaryCacheStorage.containsKey(t)||-1===t.indexOf("msal")&&-1===t.indexOf(e.clientId)||e.removeItem(t)})),this.internalStorage.clear()},t.prototype.setItemCookie=function(e,t,n){var r=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;";n&&(r+="expires="+this.getCookieExpirationTime(n)+";"),this.cacheConfig.secureCookies&&(r+="Secure;"),document.cookie=r},t.prototype.getItemCookie=function(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return""},t.prototype.clearMsalCookies=function(){var e=this,t="msal."+this.clientId;document.cookie.split(";").forEach((function(n){for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t)){var r=n.split("=")[0];e.clearItemCookie(r)}}))},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,"",-1)},t.prototype.getCookieExpirationTime=function(e){var t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):bv.startsWith(e,"msal")||bv.startsWith(e,ev.ADAL_ID_TOKEN)?e:"msal."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var t=tg.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(pg.AUTHORITY+"."+t)},t.prototype.generateNonceKey=function(e){var t=tg.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(pg.NONCE_IDTOKEN+"."+t)},t.prototype.generateStateKey=function(e){var t=tg.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(pg.REQUEST_STATE+"."+t)},t.prototype.getCachedAuthority=function(e){var t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;var r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)},t.prototype.updateCacheEntries=function(e,t,n){this.logger.verbose("BrowserCacheManager.updateCacheEntries called");var r=this.generateStateKey(e);this.setTemporaryCache(r,e,!1);var i=this.generateNonceKey(e);this.setTemporaryCache(i,t,!1);var o=this.generateAuthorityKey(e);this.setTemporaryCache(o,n,!1)},t.prototype.resetRequestCache=function(e){var t=this;this.logger.verbose("BrowserCacheManager.resetRequestCache called"),bv.isEmpty(e)||this.getKeys().forEach((function(n){-1!==n.indexOf(e)&&t.removeItem(n)})),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(pg.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(pg.ORIGIN_URI)),this.removeItem(this.generateCacheKey(pg.URL_HASH)),this.removeItem(this.generateCacheKey(pg.INTERACTION_STATUS_KEY))},t.prototype.cleanRequestByState=function(e){if(this.logger.verbose("BrowserCacheManager.cleanRequestByState called"),e){var t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.info("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+n),this.resetRequestCache(n||"")}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var t=this;this.logger.verbose("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach((function(n){if(-1!==n.indexOf(pg.REQUEST_STATE)){var r=t.temporaryCacheStorage.getItem(n);if(r){var i=jg.extractBrowserRequestState(t.cryptoImpl,r);i&&i.interactionType===e&&(t.logger.info("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+r),t.resetRequestCache(r))}}})),this.clearMsalCookies()},t.prototype.cacheCodeRequest=function(e,t){this.logger.verbose("BrowserCacheManager.cacheCodeRequest called");var n=t.base64Encode(JSON.stringify(e));this.setTemporaryCache(pg.REQUEST_PARAMS,n,!0)},t.prototype.getCachedRequest=function(e,t){this.logger.verbose("BrowserCacheManager.getCachedRequest called");var n=this.getTemporaryCache(pg.REQUEST_PARAMS,!0);if(!n)throw Pg.createNoTokenRequestCacheError();var r=this.validateAndParseJson(t.base64Decode(n));if(!r)throw Pg.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(pg.REQUEST_PARAMS)),bv.isEmpty(r.authority)){var i=this.generateAuthorityKey(e),o=this.getTemporaryCache(i);if(!o)throw Pg.createNoCachedAuthorityError();r.authority=o}return r},t}(Nv),Gg=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return qp(this,void 0,void 0,(function(){var n,r,i;return Gp(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch(e,{method:fg.GET,headers:this.getFetchHeaders(t)})];case 1:return n=o.sent(),[3,3];case 2:throw r=o.sent(),window.navigator.onLine?Pg.createGetRequestFailedError(r,e):Pg.createNoNetworkConnectivityError();case 3:return o.trys.push([3,5,,6]),i={headers:this.getHeaderDict(n.headers)},[4,n.json()];case 4:return[2,(i.body=o.sent(),i.status=n.status,i)];case 5:throw o.sent(),Pg.createFailedToParseNetworkResponseError(e);case 6:return[2]}}))}))},e.prototype.sendPostRequestAsync=function(e,t){return qp(this,void 0,void 0,(function(){var n,r,i,o;return Gp(this,(function(a){switch(a.label){case 0:n=t&&t.body||"",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(e,{method:fg.POST,headers:this.getFetchHeaders(t),body:n})];case 2:return r=a.sent(),[3,4];case 3:throw i=a.sent(),window.navigator.onLine?Pg.createPostRequestFailedError(i,e):Pg.createNoNetworkConnectivityError();case 4:return a.trys.push([4,6,,7]),o={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 5:return[2,(o.body=a.sent(),o.status=r.status,o)];case 6:throw a.sent(),Pg.createFailedToParseNetworkResponseError(e);case 7:return[2]}}))}))},e.prototype.getFetchHeaders=function(e){var t=new Headers;if(!e||!e.headers)return t;var n=e.headers;return Object.keys(n).forEach((function(e){t.append(e,n[e])})),t},e.prototype.getHeaderDict=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t},e}(),Kg=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return qp(this,void 0,void 0,(function(){return Gp(this,(function(n){return[2,this.sendRequestAsync(e,fg.GET,t)]}))}))},e.prototype.sendPostRequestAsync=function(e,t){return qp(this,void 0,void 0,(function(){return Gp(this,(function(n){return[2,this.sendRequestAsync(e,fg.POST,t)]}))}))},e.prototype.sendRequestAsync=function(e,t,n){var r=this;return new Promise((function(i,o){var a=new XMLHttpRequest;if(a.open(t,e,!0),r.setXhrHeaders(a,n),a.onload=function(){(a.status<200||a.status>=300)&&o(t===fg.POST?Pg.createPostRequestFailedError("Failed with status "+a.status,e):Pg.createGetRequestFailedError("Failed with status "+a.status,e));try{var n=JSON.parse(a.responseText),s={headers:r.getHeaderDict(a),body:n,status:a.status};i(s)}catch(u){o(Pg.createFailedToParseNetworkResponseError(e))}},a.onerror=function(){window.navigator.onLine?o(t===fg.POST?Pg.createPostRequestFailedError("Failed with status "+a.status,e):Pg.createGetRequestFailedError("Failed with status "+a.status,e)):o(Pg.createNoNetworkConnectivityError())},t===fg.POST&&n&&n.body)a.send(n.body);else{if(t!==fg.GET)throw Pg.createHttpMethodNotImplementedError(t);a.send()}}))},e.prototype.setXhrHeaders=function(e,t){if(t&&t.headers){var n=t.headers;Object.keys(n).forEach((function(t){e.setRequestHeader(t,n[t])}))}},e.prototype.getHeaderDict=function(e){var t=e.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};return t.forEach((function(e){var t=e.split(": "),r=t.shift(),i=t.join(": ");r&&i&&(n[r]=i)})),n},e}(),zg=function(){function e(){}return e.clearHash=function(){"function"==typeof history.replaceState?history.replaceState(null,"",""+window.location.pathname+window.location.search):window.location.hash=""},e.replaceHash=function(e){var t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""},e.isInIframe=function(){return window.parent!==window},e.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},e.getHomepage=function(){var e=new ng(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},e.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new Gg:new Kg},e.blockReloadInHiddenIframes=function(){if(ng.hashContainsKnownProperties(window.location.hash)&&e.isInIframe())throw Pg.createBlockReloadInHiddenIframeError()},e.blockRedirectInIframe=function(t,n){var r=e.isInIframe();if(t===gg.Redirect&&r&&!n)throw Pg.createRedirectInIframeError(r)},e.blockAcquireTokenInPopups=function(){if(window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf("msal."))throw Pg.createBlockAcquireTokenInPopupsError()},e.blockNonBrowserEnvironment=function(e){if(!e)throw Pg.createNonBrowserEnvironmentError()},e.detectIEOrEdge=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),r=e.indexOf("Edge/");return t>0||n>0||r>0},e}(),Wg=function(){function e(){}return e.prototype.navigateInternal=function(t,n){return e.defaultNavigateWindow(t,n)},e.prototype.navigateExternal=function(t,n){return e.defaultNavigateWindow(t,n)},e.defaultNavigateWindow=function(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((function(e){setTimeout((function(){e(!0)}),t.timeout)}))},e}(),Qg=function(){function e(e,t,n){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n}return e.prototype.handleCodeResponse=function(e,t,n,r){return qp(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Gp(this,(function(l){switch(l.label){case 0:if(bv.isEmpty(e))throw Pg.createEmptyHashError(e);if(i=this.browserStorage.generateStateKey(t),!(o=this.browserStorage.getTemporaryCache(i)))throw Ev.createStateNotFoundError("Cached State");return a=this.authModule.handleFragmentResponse(e,o),s=this.browserStorage.generateNonceKey(o),u=this.browserStorage.getTemporaryCache(s),this.authCodeRequest.code=a.code,a.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(a.cloud_instance_host_name,n,r)]:[3,2];case 1:l.sent(),l.label=2;case 2:return a.nonce=u||void 0,a.state=o,[4,this.authModule.acquireToken(this.authCodeRequest,a)];case 3:return c=l.sent(),this.browserStorage.cleanRequestByState(t),[2,c]}}))}))},e.prototype.updateTokenEndpointAuthority=function(e,t,n){return qp(this,void 0,void 0,(function(){var r;return Gp(this,(function(i){switch(i.label){case 0:return[4,Cg.createDiscoveredInstance("https://"+e+"/"+t.tenant+"/",n,this.browserStorage,t.options)];case 1:return r=i.sent(),this.authModule.updateAuthority(r),[2]}}))}))},e}(),Yg=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r)||this;return o.browserCrypto=i,o}return Bp(t,e),t.prototype.initiateAuthRequest=function(e,t){return qp(this,void 0,void 0,(function(){var n;return Gp(this,(function(r){switch(r.label){case 0:return this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest called"),bv.isEmpty(e)?[3,7]:(t.redirectStartPage&&(this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set to true, caching start page"),this.browserStorage.setTemporaryCache(pg.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(pg.INTERACTION_STATUS_KEY,"interaction_in_progress",!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.authModule.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to:"+e),n={apiId:vg.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1},"function"!=typeof t.onRedirectNavigate?[3,4]:(this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===t.onRedirectNavigate(e)?[3,2]:(this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,t.navigationClient.navigateExternal(e,n)])));case 1:return r.sent(),[2];case 2:return this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.authModule.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,t.navigationClient.navigateExternal(e,n)];case 5:return r.sent(),[2];case 6:return[3,8];case 7:throw this.authModule.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Pg.createEmptyNavigationUriError();case 8:return[2]}}))}))},t.prototype.handleCodeResponse=function(e,t,n,r,i){return qp(this,void 0,void 0,(function(){var o,a,s,u,c,l;return Gp(this,(function(h){switch(h.label){case 0:if(this.authModule.logger.verbose("RedirectHandler.handleCodeResponse called"),bv.isEmpty(e))throw Pg.createEmptyHashError(e);if(this.browserStorage.removeItem(this.browserStorage.generateCacheKey(pg.INTERACTION_STATUS_KEY)),o=this.browserStorage.generateStateKey(t),!(a=this.browserStorage.getTemporaryCache(o)))throw Ev.createStateNotFoundError("Cached State");return s=this.authModule.handleFragmentResponse(e,a),u=this.browserStorage.generateNonceKey(a),c=this.browserStorage.getTemporaryCache(u),this.authCodeRequest.code=s.code,s.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(s.cloud_instance_host_name,n,r)]:[3,2];case 1:h.sent(),h.label=2;case 2:return s.nonce=c||void 0,s.state=a,i&&jv.removeThrottle(this.browserStorage,i,this.authCodeRequest.authority,this.authCodeRequest.scopes),[4,this.authModule.acquireToken(this.authCodeRequest,s)];case 3:return l=h.sent(),this.browserStorage.cleanRequestByState(t),[2,l]}}))}))},t}(Qg),Zg=function(){function e(e,t){this.browserStorage=e,this.logger=t,this.unloadWindow=this.unloadWindow.bind(this)}return e.prototype.openPopup=function(t,n,r){try{var i=void 0;if(r?(i=r,this.logger.verbosePii("Navigating popup window to: "+t),i.location.assign(t)):void 0===r&&(this.logger.verbosePii("Opening popup window to: "+t),i=e.openSizedPopup(t,n)),!i)throw Pg.createEmptyWindowCreatedError();return i.focus&&i.focus(),this.currentWindow=i,window.addEventListener("beforeunload",this.unloadWindow),i}catch(o){throw this.logger.error("error opening popup "+o.message),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(pg.INTERACTION_STATUS_KEY)),Pg.createPopupWindowError(o.toString())}},e.openSizedPopup=function(e,t){var n=window.screenLeft?window.screenLeft:window.screenX,r=window.screenTop?window.screenTop:window.screenY,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=Math.max(0,i/2-241.5+n),s=Math.max(0,o/2-300+r);return window.open(e,t,"width=483, height=600, top="+s+", left="+a+", scrollbars=yes")},e.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(gg.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},e.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(pg.INTERACTION_STATUS_KEY))},e.prototype.monitorPopupForSameOrigin=function(e){var t=this;return new Promise((function(n,r){var i=setInterval((function(){if(e.closed)return t.cleanPopup(),clearInterval(i),void r(Pg.createUserCancelledError());var o="";try{o=e.location.href}catch(a){}bv.isEmpty(o)||"about:blank"===o||(clearInterval(i),n())}),50)}))},e.generatePopupName=function(e,t){return"msal."+e+"."+t.scopes.join("-")+"."+t.authority+"."+t.correlationId},e.generateLogoutPopupName=function(e,t){return"msal."+e+"."+(t.account&&t.account.homeAccountId)+"."+t.correlationId},e}(),Jg=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.popupUtils=new Zg(n,t.logger),i}return Bp(t,e),t.prototype.initiateAuthRequest=function(e,t){if(bv.isEmpty(e))throw this.authModule.logger.error("Navigate url is empty"),Pg.createEmptyNavigationUriError();return this.browserStorage.setTemporaryCache(pg.INTERACTION_STATUS_KEY,"interaction_in_progress",!0),this.authModule.logger.infoPii("Navigate to:"+e),this.popupUtils.openPopup(e,t.popupName,t.popup)},t.prototype.monitorPopupForHash=function(e){var t=this;return this.popupUtils.monitorPopupForSameOrigin(e).then((function(){var n=e.location.hash;if(t.popupUtils.cleanPopup(e),!n)throw Pg.createEmptyHashError(e.location.href);if(ng.hashContainsKnownProperties(n))return n;throw Pg.createHashDoesNotContainKnownPropertiesError()}))},t}(Qg),$g=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r)||this;return o.navigateFrameWait=i,o}return Bp(t,e),t.prototype.initiateAuthRequest=function(e){return qp(this,void 0,void 0,(function(){var t;return Gp(this,(function(n){switch(n.label){case 0:if(bv.isEmpty(e))throw this.authModule.logger.info("Navigate url is empty"),Pg.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(e)]:[3,2];case 1:return t=n.sent(),[3,3];case 2:t=this.loadFrameSync(e),n.label=3;case 3:return[2,t]}}))}))},t.prototype.monitorIframeForHash=function(e,t){var n=this;return new Promise((function(r,i){t<6e3&&n.authModule.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+t+"ms) than the default (6000ms). This may result in timeouts.");var o=window.performance.now()+t,a=setInterval((function(){if(window.performance.now()>o)return n.removeHiddenIframe(e),clearInterval(a),void i(Pg.createMonitorIframeTimeoutError());var t="",s=e.contentWindow;try{t=s?s.location.href:""}catch(c){}if(!bv.isEmpty(t)){var u=s?s.location.hash:"";return ng.hashContainsKnownProperties(u)?(n.removeHiddenIframe(e),clearInterval(a),void r(u)):void 0}}),50)}))},t.prototype.loadFrame=function(e){var t=this;return new Promise((function(n,r){var i=t.createHiddenIframe();setTimeout((function(){i?(i.src=e,n(i)):r("Unable to load iframe")}),t.navigateFrameWait)}))},t.prototype.loadFrameSync=function(e){var t=this.createHiddenIframe();return t.src=e,t},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(Qg);!function(e){e.LOGIN_START="msal:loginStart",e.LOGIN_SUCCESS="msal:loginSuccess",e.LOGIN_FAILURE="msal:loginFailure",e.ACQUIRE_TOKEN_START="msal:acquireTokenStart",e.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",e.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",e.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",e.SSO_SILENT_START="msal:ssoSilentStart",e.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",e.SSO_SILENT_FAILURE="msal:ssoSilentFailure",e.HANDLE_REDIRECT_START="msal:handleRedirectStart",e.HANDLE_REDIRECT_END="msal:handleRedirectEnd",e.POPUP_OPENED="msal:popupOpened",e.LOGOUT_START="msal:logoutStart",e.LOGOUT_SUCCESS="msal:logoutSuccess",e.LOGOUT_FAILURE="msal:logoutFailure",e.LOGOUT_END="msal:logoutEnd"}(Tg||(Tg={}));var Xg=function(e){function t(t){return e.call(this,t)||this}return Bp(t,e),t.prototype.loginRedirect=function(e){return qp(this,void 0,void 0,(function(){return Gp(this,(function(t){return this.logger.verbose("loginRedirect called"),[2,this.acquireTokenRedirect(e||Ag)]}))}))},t.prototype.loginPopup=function(e){return this.logger.verbose("loginPopup called"),this.acquireTokenPopup(e||Ag)},t.prototype.acquireTokenSilent=function(e){return qp(this,void 0,void 0,(function(){var t,n,r,i,o,a;return Gp(this,(function(s){switch(s.label){case 0:if(this.preflightBrowserEnvironmentCheck(gg.Silent),this.logger.verbose("acquireTokenSilent called"),!(t=e.account||this.getActiveAccount()))throw Pg.createNoAccountError();n=jp(jp(jp({},e),this.initializeBaseRequest(e)),{account:t,forceRefresh:e.forceRefresh||!1}),this.emitEvent(Tg.ACQUIRE_TOKEN_START,gg.Silent,e),s.label=1;case 1:return s.trys.push([1,4,,9]),r=this.initializeServerTelemetryManager(vg.acquireTokenSilent_silentFlow,n.correlationId),[4,this.createSilentFlowClient(r,n.authority)];case 2:return[4,s.sent().acquireCachedToken(n)];case 3:return i=s.sent(),this.emitEvent(Tg.ACQUIRE_TOKEN_SUCCESS,gg.Silent,i),[2,i];case 4:s.sent(),s.label=5;case 5:return s.trys.push([5,7,,8]),[4,this.acquireTokenByRefreshToken(n)];case 6:return o=s.sent(),this.emitEvent(Tg.ACQUIRE_TOKEN_SUCCESS,gg.Silent,o),[2,o];case 7:throw a=s.sent(),this.emitEvent(Tg.ACQUIRE_TOKEN_FAILURE,gg.Silent,null,a),a;case 8:return[3,9];case 9:return[2]}}))}))},t}(function(){function e(e){var t,n,r,i,o,a,s,u,c;if(this.isBrowserEnvironment="undefined"!=typeof window,this.config=(n=this.isBrowserEnvironment,r=(t=e).auth,i=t.cache,o=t.system,a={clientId:"",authority:"https://login.microsoftonline.com/common/",knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:"",postLogoutRedirectUri:"",navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:rg.AAD},s={cacheLocation:dg.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},u={loggerCallback:function(){},logLevel:Cv.Info,piiLoggingEnabled:!1},c=jp(jp({},Mv),{loggerOptions:u,networkClient:n?zg.getBrowserNetworkClient():Eg,navigationClient:new Wg,loadFrameTimeout:0,windowHashTimeout:o&&o.loadFrameTimeout||6e4,iframeHashTimeout:o&&o.loadFrameTimeout||6e3,navigateFrameWait:n&&zg.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1}),{auth:jp(jp({},a),r),cache:jp(jp({},s),i),system:jp(jp({},c),o)}),this.activeLocalAccountId=null,this.eventCallbacks=new Map,this.logger=new Av(this.config.system.loggerOptions,"@azure/msal-browser","2.14.0"),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,!this.isBrowserEnvironment)return this.browserStorage=new qg(this.config.auth.clientId,{cacheLocation:dg.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},kv,this.logger),void(this.browserCrypto=kv);this.browserCrypto=new Lg,this.browserStorage=new qg(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger)}return e.prototype.handleRedirectPromise=function(e){return qp(this,void 0,void 0,(function(){var t,n,r,i=this;return Gp(this,(function(o){return this.emitEvent(Tg.HANDLE_REDIRECT_START,gg.Redirect),this.logger.verbose("handleRedirectPromise called"),t=this.getAllAccounts(),this.isBrowserEnvironment?(void 0===(r=this.redirectResponse.get(n=e||""))?(this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),r=this.handleRedirectResponse(e).then((function(e){return e&&(t.length<i.getAllAccounts().length?(i.emitEvent(Tg.LOGIN_SUCCESS,gg.Redirect,e),i.logger.verbose("handleRedirectResponse returned result, login success")):(i.emitEvent(Tg.ACQUIRE_TOKEN_SUCCESS,gg.Redirect,e),i.logger.verbose("handleRedirectResponse returned result, acquire token success"))),i.emitEvent(Tg.HANDLE_REDIRECT_END,gg.Redirect),e})).catch((function(e){throw i.emitEvent(t.length>0?Tg.ACQUIRE_TOKEN_FAILURE:Tg.LOGIN_FAILURE,gg.Redirect,null,e),i.emitEvent(Tg.HANDLE_REDIRECT_END,gg.Redirect),e})),this.redirectResponse.set(n,r)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,r]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])}))}))},e.prototype.handleRedirectResponse=function(e){return qp(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c;return Gp(this,(function(l){switch(l.label){case 0:if(!this.interactionInProgress())return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(t=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(gg.Redirect),[2,null];try{n=this.validateAndExtractStateFromHash(t,gg.Redirect),zg.clearHash(),this.logger.verbose("State extracted from hash")}catch(h){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+h),this.browserStorage.cleanRequestByInteractionType(gg.Redirect),[2,null]}return r=this.browserStorage.getTemporaryCache(pg.ORIGIN_URI,!0)||"",i=ng.removeHashFromUrl(r),o=ng.removeHashFromUrl(window.location.href),i===o&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(t,n)]):[3,2];case 1:return a=l.sent(),r.indexOf("#")>-1&&zg.replaceHash(r),[2,a];case 2:return this.config.auth.navigateToLoginRequestUrl?[3,3]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(t,n)]);case 3:return zg.isInIframe()?[3,8]:(this.browserStorage.setTemporaryCache(pg.URL_HASH,t,!0),s={apiId:vg.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},u=!0,r&&"null"!==r?[3,5]:(c=zg.getHomepage(),this.browserStorage.setTemporaryCache(pg.ORIGIN_URI,c,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(c,s)]));case 4:return u=l.sent(),[3,7];case 5:return this.logger.verbose("Navigating to loginRequestUrl: "+r),[4,this.navigationClient.navigateInternal(r,s)];case 6:u=l.sent(),l.label=7;case 7:if(!u)return[2,this.handleHash(t,n)];l.label=8;case 8:return[2,null]}}))}))},e.prototype.getRedirectResponseHash=function(e){this.logger.verbose("getRedirectResponseHash called");var t=ng.hashContainsKnownProperties(e),n=this.browserStorage.getTemporaryCache(pg.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(pg.URL_HASH)),t?(this.logger.verbose("Hash contains known properties, returning response hash"),e):(this.logger.verbose("Hash does not contain known properties, returning cached hash"),n)},e.prototype.validateAndExtractStateFromHash=function(e,t){this.logger.verbose("validateAndExtractStateFromHash called");var n=ng.getDeserializedHash(e);if(!n.state)throw Pg.createHashDoesNotContainStateError();var r=jg.extractBrowserRequestState(this.browserCrypto,n.state);if(!r)throw Pg.createUnableToParseStateError();if(r.interactionType!==t)throw Pg.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash"),n.state},e.prototype.handleHash=function(e,t){return qp(this,void 0,void 0,(function(){var n,r,i,o,a;return Gp(this,(function(s){switch(s.label){case 0:this.logger.verbose("handleHash called"),n=this.browserStorage.getCachedRequest(t,this.browserCrypto),r=this.initializeServerTelemetryManager(vg.handleRedirectPromise,n.correlationId),s.label=1;case 1:if(s.trys.push([1,4,,5]),!(i=this.browserStorage.getCachedAuthority(t)))throw Pg.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(r,i)];case 2:return o=s.sent(),[4,new Yg(o,this.browserStorage,n,this.browserCrypto).handleCodeResponse(e,t,o.authority,this.networkClient,this.config.auth.clientId)];case 3:return[2,s.sent()];case 4:throw a=s.sent(),r.cacheFailedRequest(a),this.browserStorage.cleanRequestByInteractionType(gg.Redirect),a;case 5:return[2]}}))}))},e.prototype.acquireTokenRedirect=function(e){return qp(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c;return Gp(this,(function(l){switch(l.label){case 0:this.preflightBrowserEnvironmentCheck(gg.Redirect),this.logger.verbose("acquireTokenRedirect called"),t=this.getAllAccounts().length>0,this.emitEvent(t?Tg.ACQUIRE_TOKEN_START:Tg.LOGIN_START,gg.Redirect,e),n=this.preflightInteractiveRequest(e,gg.Redirect),r=this.initializeServerTelemetryManager(vg.acquireTokenRedirect,n.correlationId),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,this.initializeAuthorizationCodeRequest(n)];case 2:return i=l.sent(),[4,this.createAuthCodeClient(r,n.authority)];case 3:return o=l.sent(),a=new Yg(o,this.browserStorage,i,this.browserCrypto),[4,o.getAuthCodeUrl(n)];case 4:return s=l.sent(),u=this.getRedirectStartPage(e.redirectStartPage),[2,a.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:u,onRedirectNavigate:e.onRedirectNavigate})];case 5:throw c=l.sent(),this.emitEvent(t?Tg.ACQUIRE_TOKEN_FAILURE:Tg.LOGIN_FAILURE,gg.Redirect,null,c),r.cacheFailedRequest(c),this.browserStorage.cleanRequestByState(n.state),c;case 6:return[2]}}))}))},e.prototype.acquireTokenPopup=function(e){var t;try{this.preflightBrowserEnvironmentCheck(gg.Popup),this.logger.verbose("acquireTokenPopup called"),t=this.preflightInteractiveRequest(e,gg.Popup)}catch(i){return Promise.reject(i)}var n=Zg.generatePopupName(this.config.auth.clientId,t);if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(t,n);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var r=Zg.openSizedPopup("about:blank",n);return this.acquireTokenPopupAsync(t,n,r)},e.prototype.acquireTokenPopupAsync=function(e,t,n){return qp(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,d,f,p;return Gp(this,(function(v){switch(v.label){case 0:this.logger.verbose("acquireTokenPopupAsync called"),r=this.getAllAccounts(),this.emitEvent(r.length>0?Tg.ACQUIRE_TOKEN_START:Tg.LOGIN_START,gg.Popup,e),i=this.initializeServerTelemetryManager(vg.acquireTokenPopup,e.correlationId),v.label=1;case 1:return v.trys.push([1,7,,8]),[4,this.initializeAuthorizationCodeRequest(e)];case 2:return o=v.sent(),[4,this.createAuthCodeClient(i,e.authority)];case 3:return[4,(a=v.sent()).getAuthCodeUrl(e)];case 4:return s=v.sent(),u=new Jg(a,this.browserStorage,o),c=u.initiateAuthRequest(s,{popup:n,popupName:t}),this.emitEvent(Tg.POPUP_OPENED,gg.Popup,{popupWindow:c},null),[4,u.monitorPopupForHash(c)];case 5:return l=v.sent(),h=this.validateAndExtractStateFromHash(l,gg.Popup),jv.removeThrottle(this.browserStorage,this.config.auth.clientId,o.authority,o.scopes),[4,u.handleCodeResponse(l,h,a.authority,this.networkClient)];case 6:return d=v.sent(),f=r.length<this.getAllAccounts().length,this.emitEvent(f?Tg.LOGIN_SUCCESS:Tg.ACQUIRE_TOKEN_SUCCESS,gg.Popup,d),[2,d];case 7:throw p=v.sent(),this.emitEvent(r.length>0?Tg.ACQUIRE_TOKEN_FAILURE:Tg.LOGIN_FAILURE,gg.Popup,null,p),i.cacheFailedRequest(p),this.browserStorage.cleanRequestByState(e.state),p;case 8:return[2]}}))}))},e.prototype.ssoSilent=function(e){return qp(this,void 0,void 0,(function(){var t,n;return Gp(this,(function(r){switch(r.label){case 0:this.preflightBrowserEnvironmentCheck(gg.Silent),this.logger.verbose("ssoSilent called"),this.emitEvent(Tg.SSO_SILENT_START,gg.Silent,e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.acquireTokenByIframe(e,vg.ssoSilent)];case 2:return t=r.sent(),this.emitEvent(Tg.SSO_SILENT_SUCCESS,gg.Silent,t),[2,t];case 3:throw n=r.sent(),this.emitEvent(Tg.SSO_SILENT_FAILURE,gg.Silent,null,n),n;case 4:return[2]}}))}))},e.prototype.acquireTokenByIframe=function(e,t){return qp(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Gp(this,(function(u){switch(u.label){case 0:if(this.logger.verbose("acquireTokenByIframe called"),bv.isEmpty(e.loginHint)&&bv.isEmpty(e.sid)&&(!e.account||bv.isEmpty(e.account.username)))throw Pg.createSilentSSOInsufficientInfoError();if(e.prompt&&e.prompt!==sv.NONE)throw Pg.createSilentPromptValueError(e.prompt);n=this.initializeAuthorizationRequest(jp(jp({},e),{prompt:sv.NONE}),gg.Silent),r=this.initializeServerTelemetryManager(t,n.correlationId),u.label=1;case 1:return u.trys.push([1,6,,7]),[4,this.initializeAuthorizationCodeRequest(n)];case 2:return i=u.sent(),[4,this.createAuthCodeClient(r,n.authority)];case 3:return[4,(o=u.sent()).getAuthCodeUrl(n)];case 4:return a=u.sent(),[4,this.silentTokenHelper(a,i,o)];case 5:return[2,u.sent()];case 6:throw s=u.sent(),r.cacheFailedRequest(s),this.browserStorage.cleanRequestByState(n.state),s;case 7:return[2]}}))}))},e.prototype.acquireTokenByRefreshToken=function(e){return qp(this,void 0,void 0,(function(){var t,n,r,i,o;return Gp(this,(function(a){switch(a.label){case 0:this.emitEvent(Tg.ACQUIRE_TOKEN_NETWORK_START,gg.Silent,e),zg.blockReloadInHiddenIframes(),t=jp(jp({},e),this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(vg.acquireTokenSilent_silentFlow,t.correlationId),a.label=1;case 1:return a.trys.push([1,4,,7]),[4,this.createRefreshTokenClient(n,t.authority)];case 2:return[4,a.sent().acquireTokenByRefreshToken(t)];case 3:return[2,a.sent()];case 4:return r=a.sent(),n.cacheFailedRequest(r),i=r instanceof Xv,o="invalid_grant"===r.errorCode,r instanceof Bv&&o&&!i?(this.logger.verbose("Refresh token expired or invalid, attempting acquire token by iframe"),[4,this.acquireTokenByIframe(e,vg.acquireTokenSilent_authCode)]):[3,6];case 5:return[2,a.sent()];case 6:throw r;case 7:return[2]}}))}))},e.prototype.silentTokenHelper=function(e,t,n){return qp(this,void 0,void 0,(function(){var r,i,o,a;return Gp(this,(function(s){switch(s.label){case 0:return[4,(r=new $g(n,this.browserStorage,t,this.config.system.navigateFrameWait)).initiateAuthRequest(e)];case 1:return i=s.sent(),[4,r.monitorIframeForHash(i,this.config.system.iframeHashTimeout)];case 2:return o=s.sent(),a=this.validateAndExtractStateFromHash(o,gg.Silent),[2,r.handleCodeResponse(o,a,n.authority,this.networkClient)]}}))}))},e.prototype.logout=function(e){return qp(this,void 0,void 0,(function(){return Gp(this,(function(t){return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead."),[2,this.logoutRedirect(e)]}))}))},e.prototype.logoutRedirect=function(e){return qp(this,void 0,void 0,(function(){var t,n,r,i,o,a;return Gp(this,(function(s){switch(s.label){case 0:this.preflightBrowserEnvironmentCheck(gg.Redirect),this.logger.verbose("logoutRedirect called"),t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(vg.logout,t.correlationId),s.label=1;case 1:return s.trys.push([1,9,,10]),this.emitEvent(Tg.LOGOUT_START,gg.Redirect,e),[4,this.createAuthCodeClient(n,e&&e.authority)];case 2:return r=s.sent(),i=r.getLogoutUri(t),t.account&&!xv.accountInfoIsEqual(t.account,this.getActiveAccount())||(this.logger.verbose("Setting active account to null"),this.setActiveAccount(null)),o={apiId:vg.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.emitEvent(Tg.LOGOUT_SUCCESS,gg.Redirect,t),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(i)?[3,4]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),[4,this.navigationClient.navigateExternal(i,o)]):[3,6];case 3:return s.sent(),[2];case 4:this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),s.label=5;case 5:return[3,8];case 6:return[4,this.navigationClient.navigateExternal(i,o)];case 7:return s.sent(),[2];case 8:return[3,10];case 9:throw a=s.sent(),n.cacheFailedRequest(a),this.emitEvent(Tg.LOGOUT_FAILURE,gg.Redirect,null,a),a;case 10:return this.emitEvent(Tg.LOGOUT_END,gg.Redirect),[2]}}))}))},e.prototype.logoutPopup=function(e){var t;try{this.preflightBrowserEnvironmentCheck(gg.Popup),this.logger.verbose("logoutPopup called"),t=this.initializeLogoutRequest(e)}catch(i){return Promise.reject(i)}var n,r=Zg.generateLogoutPopupName(this.config.auth.clientId,t);return this.config.system.asyncPopups?this.logger.verbose("asyncPopups set to true"):(this.logger.verbose("asyncPopup set to false, opening popup"),n=Zg.openSizedPopup("about:blank",r)),this.logoutPopupAsync(t,r,e&&e.authority,n,e&&e.mainWindowRedirectUri)},e.prototype.logoutPopupAsync=function(e,t,n,r,i){return qp(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,d,f;return Gp(this,(function(p){switch(p.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.emitEvent(Tg.LOGOUT_START,gg.Popup,e),o=this.initializeServerTelemetryManager(vg.logoutPopup,e.correlationId),p.label=1;case 1:return p.trys.push([1,7,,8]),this.browserStorage.setTemporaryCache(pg.INTERACTION_STATUS_KEY,"interaction_in_progress",!0),[4,this.createAuthCodeClient(o,n)];case 2:a=p.sent(),s=a.getLogoutUri(e),e.account&&!xv.accountInfoIsEqual(e.account,this.getActiveAccount())||(this.logger.verbose("Setting active account to null"),this.setActiveAccount(null)),this.emitEvent(Tg.LOGOUT_SUCCESS,gg.Popup,e),u=new Zg(this.browserStorage,this.logger),c=u.openPopup(s,t,r),this.emitEvent(Tg.POPUP_OPENED,gg.Popup,{popupWindow:c},null),p.label=3;case 3:return p.trys.push([3,5,,6]),[4,u.monitorPopupForSameOrigin(c)];case 4:return p.sent(),this.logger.verbose("Popup successfully redirected to postLogoutRedirectUri"),[3,6];case 5:return l=p.sent(),this.logger.verbose("Error occurred while monitoring popup for same origin. Session on server may remain active. Error: "+l),[3,6];case 6:return u.cleanPopup(c),i?(h={apiId:vg.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},d=ng.getAbsoluteUrl(i,zg.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecing main window to: "+d),this.navigationClient.navigateInternal(d,h)):this.logger.verbose("No main window navigation requested"),[3,8];case 7:throw f=p.sent(),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(pg.INTERACTION_STATUS_KEY)),this.emitEvent(Tg.LOGOUT_FAILURE,gg.Popup,null,f),o.cacheFailedRequest(f),f;case 8:return this.emitEvent(Tg.LOGOUT_END,gg.Popup),[2]}}))}))},e.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},e.prototype.getAccountByUsername=function(e){var t=this.getAllAccounts();return!bv.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+e),t.filter((function(t){return t.username.toLowerCase()===e.toLowerCase()}))[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},e.prototype.getAccountByHomeId=function(e){var t=this.getAllAccounts();return!bv.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+e),t.filter((function(t){return t.homeAccountId===e}))[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},e.prototype.getAccountByLocalId=function(e){var t=this.getAllAccounts();return!bv.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+e),t.filter((function(t){return t.localAccountId===e}))[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},e.prototype.setActiveAccount=function(e){e?(this.logger.verbose("setActiveAccount: Active account set"),this.activeLocalAccountId=e.localAccountId):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.activeLocalAccountId=null)},e.prototype.getActiveAccount=function(){return this.activeLocalAccountId?this.getAccountByLocalId(this.activeLocalAccountId):(this.logger.verbose("getActiveAccount: No active account"),null)},e.prototype.getRedirectUri=function(e){this.logger.verbose("getRedirectUri called");var t=e||this.config.auth.redirectUri||zg.getCurrentUri();return ng.getAbsoluteUrl(t,zg.getCurrentUri())},e.prototype.getRedirectStartPage=function(e){this.logger.verbose("getRedirectStartPage called");var t=e||window.location.href;return ng.getAbsoluteUrl(t,zg.getCurrentUri())},e.prototype.getDiscoveredAuthority=function(e){return qp(this,void 0,void 0,(function(){var t;return Gp(this,(function(n){switch(n.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),t={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},e?(this.logger.verbose("Creating discovered authority with request authority"),[4,Cg.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,t)]):[3,2];case 1:return[2,n.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,Cg.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,t)];case 3:return[2,n.sent()]}}))}))},e.prototype.interactionInProgress=function(){return"interaction_in_progress"===this.browserStorage.getTemporaryCache(pg.INTERACTION_STATUS_KEY,!0)},e.prototype.createAuthCodeClient=function(e,t){return qp(this,void 0,void 0,(function(){var n;return Gp(this,(function(r){switch(r.label){case 0:return this.logger.verbose("createAuthCodeClient called"),[4,this.getClientConfiguration(e,t)];case 1:return n=r.sent(),[2,new ug(n)]}}))}))},e.prototype.createSilentFlowClient=function(e,t){return qp(this,void 0,void 0,(function(){var n;return Gp(this,(function(r){switch(r.label){case 0:return this.logger.verbose("createSilentFlowClient called"),[4,this.getClientConfiguration(e,t)];case 1:return n=r.sent(),[2,new lg(n)]}}))}))},e.prototype.createRefreshTokenClient=function(e,t){return qp(this,void 0,void 0,(function(){var n;return Gp(this,(function(r){switch(r.label){case 0:return this.logger.verbose("createRefreshTokenClient called"),[4,this.getClientConfiguration(e,t)];case 1:return n=r.sent(),[2,new cg(n)]}}))}))},e.prototype.getClientConfiguration=function(e,t){return qp(this,void 0,void 0,(function(){var n;return Gp(this,(function(r){switch(r.label){case 0:return this.logger.verbose("getClientConfiguration called"),[4,this.getDiscoveredAuthority(t)];case 1:return n=r.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:n,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:"msal.js.browser",version:"2.14.0",cpu:"",os:""}}]}}))}))},e.prototype.preflightInteractiveRequest=function(e,t){if(this.logger.verbose("preflightInteractiveRequest called, validating app environment"),zg.blockReloadInHiddenIframes(),this.interactionInProgress())throw Pg.createInteractionInProgressError();return this.initializeAuthorizationRequest(e,t)},e.prototype.preflightBrowserEnvironmentCheck=function(e){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),zg.blockNonBrowserEnvironment(this.isBrowserEnvironment),zg.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),zg.blockReloadInHiddenIframes(),zg.blockAcquireTokenInPopups(),e===gg.Redirect&&this.config.cache.cacheLocation===dg.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw Hg.createInMemoryRedirectUnavailableError()},e.prototype.initializeBaseRequest=function(e){this.logger.verbose("Initializing BaseAuthRequest");var t=e.authority||this.config.auth.authority,n=zp(e&&e.scopes||[]),r=e&&e.correlationId||this.browserCrypto.createNewGuid();return e.authenticationScheme?this.logger.verbose('Authentication Scheme set to "'+e.authenticationScheme+'" as configured in Auth request'):(e.authenticationScheme=yv.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request')),jp(jp({},e),{correlationId:r,authority:t,scopes:n})},e.prototype.initializeServerTelemetryManager=function(e,t,n){return this.logger.verbose("initializeServerTelemetryManager called"),new bg({clientId:this.config.auth.clientId,correlationId:t,apiId:e,forceRefresh:n||!1,wrapperSKU:this.wrapperSKU,wrapperVer:this.wrapperVer},this.browserStorage)},e.prototype.initializeAuthorizationRequest=function(e,t){this.logger.verbose("initializeAuthorizationRequest called");var n=this.getRedirectUri(e.redirectUri),r=tg.setRequestState(this.browserCrypto,e&&e.state||"",{interactionType:t}),i=jp(jp({},this.initializeBaseRequest(e)),{redirectUri:n,state:r,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:uv.FRAGMENT}),o=e.account||this.getActiveAccount();if(o&&(this.logger.verbose("Setting validated request account"),this.logger.verbosePii("Setting validated request account: "+o),i.account=o),bv.isEmpty(i.loginHint)){var a=this.browserStorage.getTemporaryCache(ev.ADAL_ID_TOKEN);if(a){var s=new Pv(a,this.browserCrypto);this.browserStorage.removeItem(ev.ADAL_ID_TOKEN),s.claims&&s.claims.upn&&(this.logger.verbose("No SSO params used and ADAL token retrieved, setting ADAL upn as loginHint"),i.loginHint=s.claims.upn)}}return this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority),i},e.prototype.initializeAuthorizationCodeRequest=function(e){return qp(this,void 0,void 0,(function(){var t,n;return Gp(this,(function(r){switch(r.label){case 0:return[4,this.browserCrypto.generatePkceCodes()];case 1:return t=r.sent(),n=jp(jp({},e),{redirectUri:e.redirectUri,code:"",codeVerifier:t.verifier}),e.codeChallenge=t.challenge,e.codeChallengeMethod="S256",[2,n]}}))}))},e.prototype.initializeLogoutRequest=function(e){if(this.logger.verbose("initializeLogoutRequest called"),this.interactionInProgress())throw Pg.createInteractionInProgressError();var t=jp({correlationId:this.browserCrypto.createNewGuid()},e);return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not settibng post logout redirect uri"):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request"),t.postLogoutRedirectUri=ng.getAbsoluteUrl(e.postLogoutRedirectUri,zg.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect"):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri"),t.postLogoutRedirectUri=ng.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,zg.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page"),t.postLogoutRedirectUri=ng.getAbsoluteUrl(zg.getCurrentUri(),zg.getCurrentUri())),t},e.prototype.emitEvent=function(e,t,n,r){var i=this;if(this.isBrowserEnvironment){var o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach((function(t,n){i.logger.verbose("Emitting event to callback "+n+": "+e),t.apply(null,[o])}))}},e.prototype.addEventCallback=function(e){if(this.isBrowserEnvironment){var t=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(t,e),this.logger.verbose("Event callback registered with id: "+t),t}return null},e.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},e.prototype.getLogger=function(){return this.logger},e.prototype.setLogger=function(e){this.logger=e},e.prototype.initializeWrapperLibrary=function(e,t){this.wrapperSKU=e,this.wrapperVer=t},e.prototype.setNavigationClient=function(e){this.navigationClient=e},e}()),ey=function(){function e(){}return e.getInteractionStatusFromEvent=function(e){switch(e.eventType){case Tg.LOGIN_START:return yg.Login;case Tg.SSO_SILENT_START:return yg.SsoSilent;case Tg.ACQUIRE_TOKEN_START:if(e.interactionType===gg.Redirect||e.interactionType===gg.Popup)return yg.AcquireToken;break;case Tg.HANDLE_REDIRECT_START:return yg.HandleRedirect;case Tg.LOGOUT_START:return yg.Logout;case Tg.LOGIN_SUCCESS:case Tg.SSO_SILENT_SUCCESS:case Tg.HANDLE_REDIRECT_END:case Tg.LOGIN_FAILURE:case Tg.SSO_SILENT_FAILURE:case Tg.LOGOUT_END:return yg.None;case Tg.ACQUIRE_TOKEN_SUCCESS:case Tg.ACQUIRE_TOKEN_FAILURE:if(e.interactionType===gg.Redirect||e.interactionType===gg.Popup)return yg.None}return null},e}(),ty=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(R);function ny(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return D(r)?(t.pop(),j(t,r)):Q(t)}var ry=new k((function(e){return e.complete()}));function iy(e){return e?function(e){return new k((function(t){return e.schedule((function(){return t.complete()}))}))}(e):ry}function oy(e,t){return G(e,t,1)}function ay(e){return function(t){var n=new sy(e),r=t.lift(n);return n.caught=r}}var sy=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new uy(e,this.selector,this.caught))}}]),e}(),uy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new O(this,void 0,void 0);this.add(r);var i=U(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(L);function cy(e,t){return"function"==typeof t?function(n){return n.pipe(cy((function(n,r){return q(e(n,r)).pipe(H((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new ly(e))}}var ly=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new hy(e,this.project))}}]),e}(),hy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new O(this,t,n),o=this.destination;o.add(i),this.innerSubscription=U(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(L),dy=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),fy={},py=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new vy(e,this.resultSelector))}}]),e}(),vy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(fy),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(U(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===fy?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(L);function gy(e){return new k((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?q(n):iy()).subscribe(t)}))}function yy(){return W(1)}function my(e,t){return function(n){return n.lift(new _y(e,t))}}var _y=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Cy(e,this.predicate,this.thisArg))}}]),e}(),Cy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(v),wy=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function ky(e){return function(t){return 0===e?iy():t.lift(new Ey(e))}}var Ey=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new wy}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new by(e,this.total))}}]),e}(),by=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(v);function Sy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ry;return function(t){return t.lift(new Ay(e))}}var Ay=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ty(e,this.errorFactory))}}]),e}(),Ty=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(v);function Ry(){return new dy}function Iy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Dy(e))}}var Dy=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Oy(e,this.defaultValue))}}]),e}(),Oy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(v);function xy(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?my((function(t,n){return e(t,n,r)})):m,ky(1),n?Iy(t):Sy((function(){return new dy})))}}function Py(e){return function(t){return 0===e?iy():t.lift(new Ny(e))}}var Ny=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new wy}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Fy(e,this.total))}}]),e}(),Fy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(v);function My(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?my((function(t,n){return e(t,n,r)})):m,Py(1),n?Iy(t):Sy((function(){return new dy})))}}var Uy=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ly(e,this.predicate,this.thisArg,this.source))}}]),e}(),Ly=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(v);function Hy(){return yy()(ny.apply(void 0,arguments))}function Vy(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new By(e,t,n))}}var By=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new jy(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),jy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(v);function qy(){}function Gy(e,t,n){return function(r){return r.lift(new zy(e,t,n))}}var Ky,zy=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Wy(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),Wy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e))._tapNext=qy,s._tapError=qy,s._tapComplete=qy,s._tapError=o||qy,s._tapComplete=a||qy,r(i)?(s._context=_assertThisInitialized(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||qy,s._tapError=i.error||qy,s._tapComplete=i.complete||qy),s}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(v),Qy=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yy(e,this.callback))}}]),e}(),Yy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new d(r)),i}return n}(v),Zy=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Jy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Zy),$y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Zy),Xy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Zy),em=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Zy),tm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zy),nm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zy),rm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Zy),im=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zy),om=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zy),am=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),sm=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),um=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),cm=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),lm=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),hm=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),dm=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),fm=((Ky=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Ky)},Ky.\u0275cmp=ht({type:Ky,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&ka(0,"router-outlet")},directives:function(){return[bC]},encapsulation:2}),Ky),pm=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function vm(e){return new pm(e)}function gm(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function ym(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var mm=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function _m(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];Cm(r,wm(t,r))}}function Cm(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&_m(e.children,t)}function wm(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function km(e){var t=e.children&&e.children.map(km),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=fm),n}function Em(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!bm(e[n=r[o]],t[n]))return!1;return!0}function bm(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function Sm(e){return Array.prototype.concat.apply([],e)}function Am(e){return e.length>0?e[e.length-1]:null}function Tm(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Rm(e){return Sa(e)?e:ba(e)?q(Promise.resolve(e)):ny(e)}function Im(e,t,n){return n?function(e,t){return Em(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Pm(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return bm(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Pm(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Pm(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Pm(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var Dm=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return Um.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=vm(this.queryParams)),this._queryParamMap}}]),e}(),Om=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Tm(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Lm(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),xm=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return Gm(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=vm(this.parameters)),this._parameterMap}}]),e}();function Pm(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Nm(e,t){var n=[];return Tm(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),Tm(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var Fm=function e(){_classCallCheck(this,e)},Mm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Ym(e);return new Dm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return Lm(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return Tm(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Nm(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Lm(t),"/(").concat(o.join("//"),")")}(e.root,!0)),(n=e.queryParams,r=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(Vm(e),"=").concat(Vm(t))})).join("&"):"".concat(Vm(e),"=").concat(Vm(t))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Um=new Mm;function Lm(e){return e.segments.map((function(e){return Gm(e)})).join("/")}function Hm(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vm(e){return Hm(e).replace(/%3B/gi,";")}function Bm(e){return Hm(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jm(e){return decodeURIComponent(e)}function qm(e){return jm(e.replace(/\+/g,"%20"))}function Gm(e){return"".concat(Bm(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Bm(e),"=").concat(Bm(t[e]))})).join("")));var t}var Km=/^[^\/()?;=#]+/;function zm(e){var t=e.match(Km);return t?t[0]:""}var Wm=/^[^=?&#]+/,Qm=/^[^?&#]+/,Ym=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Om([],{}):new Om([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Om(e,t)),n}},{key:"parseSegment",value:function(){var e=zm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new xm(jm(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=zm(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=zm(this.remaining);r&&(n=r,this.capture(n))}e[jm(t)]=jm(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Wm);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Qm);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=qm(t),o=qm(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=zm(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Om([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Zm=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Jm(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Jm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=$m(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return $m(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function Jm(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Jm(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function $m(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=$m(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Xm=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function e_(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var t_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,s_(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Zm);function n_(e,t){var n=function(e,t){var n=new o_([],{},{},"",{},"primary",t,null,e.root,-1,{});return new a_("",new Xm(n,[]))}(e,t),r=new ty([new xm("",{})]),i=new ty({}),o=new ty({}),a=new ty({}),s=new ty(""),u=new r_(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new t_(new Xm(u,[]),n)}var r_=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(H((function(e){return vm(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H((function(e){return vm(e)})))),this._queryParamMap}}]),e}();function i_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var o_=function(){function e(t,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=vm(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=vm(this.queryParams)),this._queryParamMap}}]),e}(),a_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,s_(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return u_(this._root)}}]),n}(Zm);function s_(e,t){t.value._routerState=e,t.children.forEach((function(t){return s_(e,t)}))}function u_(e){var t=e.children.length>0?" { ".concat(e.children.map(u_).join(", ")," } "):"";return"".concat(e.value).concat(t)}function c_(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Em(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Em(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Em(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Em(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function l_(e,t){var n,r;return Em(e.params,t.params)&&Pm(n=e.url,r=t.url)&&n.every((function(e,t){return Em(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||l_(e.parent,t.parent))}function h_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function d_(e,t,n,r,i){var o={};return r&&Tm(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new Dm(n.root===e?t:function e(t,n,r){var i={};return Tm(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Om(t.segments,i)}(n.root,e,t),o,i)}var f_=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&h_(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Am(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),p_=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function v_(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:"".concat(e)}function g_(e,t,n){if(e||(e=new Om([],{})),0===e.segments.length&&e.hasChildren())return y_(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=v_(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!w_(s,u,a))return o;r+=2}else{if(!w_(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Om(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Om(e.segments.slice(r.pathIndex),e.children),y_(o,0,i)}return r.match&&0===i.length?new Om(e.segments,{}):r.match&&!e.hasChildren()?m_(e,t,n):r.match?y_(e,0,i):m_(e,t,n)}function y_(e,t,n){if(0===n.length)return new Om(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Tm(r,(function(n,r){null!==n&&(i[r]=g_(e.children[r],t,n))})),Tm(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Om(e.segments,i)}function m_(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=__(n[i].outlets);return new Om(r,o)}if(0===i&&h_(n[0]))r.push(new xm(e.segments[t].path,n[0])),i++;else{var a=v_(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&h_(s)?(r.push(new xm(a,C_(s))),i+=2):(r.push(new xm(a,{})),i++)}}return new Om(r,{})}function __(e){var t={};return Tm(e,(function(e,n){null!==e&&(t[n]=m_(new Om([],{}),0,e))})),t}function C_(e){var t={};return Tm(e,(function(e,n){return t[n]="".concat(e)})),t}function w_(e,t,n){return e==n.path&&Em(t,n.parameters)}var k_=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),c_(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=e_(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Tm(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=e_(e),o=e.value.component?r.children:t;Tm(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=e_(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new hm(e.value.snapshot))})),e.children.length&&this.forwardEvent(new cm(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(c_(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),E_(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function E_(e){c_(e.value),e.children.forEach(E_)}function b_(e){return"function"==typeof e}function S_(e){return e instanceof Dm}var A_=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},T_=function e(t){_classCallCheck(this,e),this.urlTree=t};function R_(e){return new k((function(t){return t.error(new A_(e))}))}function I_(e){return new k((function(t){return t.error(new T_(e))}))}function D_(e){return new k((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var O_=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Xe)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(H((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(ay((function(t){if(t instanceof T_)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof A_)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(H((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(ay((function(e){if(e instanceof A_)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Om([],{primary:e}):e;return new Dm(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(H((function(e){return new Om([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return ny({});var o=[],a=[],s={};return Tm(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(H((function(e){return s[i]=e})));"primary"===i?o.push(l):a.push(l)})),ny.apply(null,o.concat(a)).pipe(yy(),xy(),H((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return ny.apply(void 0,_toConsumableArray(n)).pipe(H((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(ay((function(e){if(e instanceof A_)return ny(null);throw e})))})),yy(),My((function(e){return!!e})),ay((function(e,n){if(e instanceof dy||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return ny(new Om([],{}));throw new A_(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return F_(r)!==o?R_(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):R_(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?I_(o):this.lineralizeSegments(n,o).pipe(G((function(n){var o=new Om(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=x_(t,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return R_(t);var d=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?I_(d):this.lineralizeSegments(r,d).pipe(G((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(H((function(e){return n._loadedConfig=e,new Om(r,{})}))):ny(new Om(r,{}));var o=x_(t,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return R_(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(G((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return N_(e,t,n)&&"primary"!==F_(n)}))}(e,n,r)?{segmentGroup:P_(new Om(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==F_(o)&&(n[F_(o)]=new Om([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Om(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return N_(e,t,n)}))}(e,n,r)?{segmentGroup:P_(new Om(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;N_(e,t,s)&&!r[F_(s)]&&(o[F_(s)]=new Om([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(H((function(e){return new Om(s,e)}))):0===r.length&&0===u.length?ny(new Om(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(H((function(e){return new Om(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?ny(new mm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ny(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?q(i).pipe(H((function(r){var i,o=e.get(r);if(function(e){return e&&b_(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!b_(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Rm(i)}))).pipe(yy(),(r=function(e){return!0===e},function(e){return e.lift(new Uy(r,void 0,e))})):ny(!0)}(e.injector,t,n).pipe(G((function(n){return n?r.configLoader.load(e.injector,t).pipe(H((function(e){return t._loadedConfig=e,e}))):function(e){return new k((function(t){return t.error(gm("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):ny(new mm([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ny(n);if(r.numberOfChildren>1||!r.children.primary)return D_(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Dm(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Tm(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Tm(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new Om(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function x_(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||ym)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function P_(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Om(e.segments.concat(t.segments),t.children)}return e}function N_(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function F_(e){return e.outlet||"primary"}var M_=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},U_=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function L_(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function H_(e,t,n){var r=e_(e),i=e.value;Tm(r,(function(e,r){H_(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new U_(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var V_=Symbol("INITIAL_VALUE");function B_(){return cy((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return D(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),Q(t,i).lift(new py(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Py(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return D(r)?(t.pop(),function(e){return Hy(t,e,r)}):function(e){return Hy(t,e)}}(V_))})))).pipe(Vy((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==V_)return e;if(r===V_&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||S_(r))return r}return e}),e)}),V_),my((function(e){return e!==V_})),H((function(e){return S_(e)?e:!0===e})),Py(1))}))}function j_(e,t){return null!==e&&t&&t(new lm(e)),ny(!0)}function q_(e,t){return null!==e&&t&&t(new um(e)),ny(!0)}function G_(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?ny(r.map((function(r){return gy((function(){var i,o=L_(r,t,n);if(function(e){return e&&b_(e.canActivate)}(o))i=Rm(o.canActivate(t,e));else{if(!b_(o))throw new Error("Invalid CanActivate guard");i=Rm(o(t,e))}return i.pipe(My())}))}))).pipe(B_()):ny(!0)}function K_(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return gy((function(){return ny(t.guards.map((function(i){var o,a=L_(i,t.node,n);if(function(e){return e&&b_(e.canActivateChild)}(a))o=Rm(a.canActivateChild(r,e));else{if(!b_(a))throw new Error("Invalid CanActivateChild guard");o=Rm(a(r,e))}return o.pipe(My())}))).pipe(B_())}))}));return ny(i).pipe(B_())}var z_=function e(){_classCallCheck(this,e)},W_=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=Z_(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new o_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Xm(n,t),i=new a_(this.url,r);return this.inheritParamsAndData(i._root),ny(i)}catch(o){return new k((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=i_(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Nm(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(s){if(!(s instanceof z_))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new z_}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new z_;if((e.outlet||"primary")!==r)throw new z_;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Am(n).parameters:{};i=new o_(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,X_(e),r,e.component,e,Q_(t),Y_(t)+n.length,eC(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new z_;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||ym)(n,e,t);if(!r)throw new z_;var i={};Tm(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new o_(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,X_(e),r,e.component,e,Q_(t),Y_(t)+o.length,eC(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=Z_(t,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,d=l.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(c,h);return[new Xm(i,f)]}if(0===c.length&&0===d.length)return[new Xm(i,[])];var p=this.processSegment(c,h,d,"primary");return[new Xm(i,p)]}}]),e}();function Q_(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Y_(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Z_(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return J_(e,t,n)&&"primary"!==$_(n)}))}(e,n,r)){var o=new Om(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==$_(s)){var u=new Om([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[$_(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(e,t,r,new Om(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return J_(e,t,n)}))}(e,n,r)){var a=new Om(e.segments,function(e,t,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(J_(e,n,c)&&!i[$_(c)]){var l=new Om([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[$_(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Om(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function J_(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function $_(e){return e.outlet||"primary"}function X_(e){return e.data||{}}function eC(e){return e.resolve||{}}function tC(e,t,n,r){var i=L_(e,t,r);return Rm(i.resolve?i.resolve(t,n):i(t,n))}function nC(e){return function(t){return t.pipe(cy((function(t){var n=e(t);return n?q(n).pipe(H((function(){return t}))):q([t])})))}}var rC=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),iC=new Ve("ROUTES"),oC=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(H((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new mm(Sm(i.injector.get(iC)).map(km),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?q(this.loader.load(e)):Rm(e()).pipe(G((function(e){return e instanceof et?ny(e):q(t.compiler.compileModuleAsync(e))})))}}]),e}(),aC=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function sC(e){throw e}function uC(e,t,n){return t.parse("/")}function cC(e,t){return ny(null)}var lC,hC,dC,fC=((dC=function(){function e(t,n,r,i,o,a,s,u){var c=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new R,this.errorHandler=sC,this.malformedUriErrorHandler=uC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cC,afterPreactivation:cC},this.urlHandlingStrategy=new aC,this.routeReuseStrategy=new rC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Xe),this.console=o.get(Au);var l=o.get(Vu);this.isNgZoneEnabled=l instanceof Vu,this.resetConfig(u),this.currentUrlTree=new Dm(new Om([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new oC(a,s,(function(e){return c.triggerEvent(new am(e))}),(function(e){return c.triggerEvent(new sm(e))})),this.routerState=n_(this.currentUrlTree,this.rootComponentType),this.transitions=new ty({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(my((function(e){return 0!==e.id})),H((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),cy((function(e){var r,i,o,a,s=!1,u=!1;return ny(e).pipe(Gy((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),cy((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ny(e).pipe(cy((function(e){var r=t.transitions.getValue();return n.next(new Jy(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?ry:[e]})),cy((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(cy((function(e){return function(e,t,n,r,i){return new O_(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(H((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Gy((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(G((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new W_(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(H((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Gy((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Gy((function(e){var r=new tm(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,l=e.source,h=e.restoredState,d=e.extras,f=new Jy(u,t.serializeUrl(c),l,h);n.next(f);var p=n_(c,t.rootComponentType).snapshot;return ny(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ry})),nC((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Gy((function(e){var n=new nm(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),H((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e_(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Pm(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Pm(e.url,t.url)||!Em(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!l_(e,t)||!Em(e.queryParams,t.queryParams);case"paramsChange":default:return!l_(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new M_(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new U_(u&&u.outlet&&u.outlet.component||null,s))}else s&&H_(n,u,o),o.canActivateChecks.push(new M_(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),Tm(a,(function(e,t){return H_(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(G((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?ny(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return q(e).pipe(G((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ny(o.map((function(o){var a,s=L_(o,t,i);if(function(e){return e&&b_(e.canDeactivate)}(s))a=Rm(s.canDeactivate(e,t,n,r));else{if(!b_(s))throw new Error("Invalid CanDeactivate guard");a=Rm(s(e,t,n,r))}return a.pipe(My())}))).pipe(B_()):ny(!0)}(e.component,e.route,n,t,r)})),My((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(G((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return q(t).pipe(oy((function(t){return q([q_(t.route.parent,r),j_(t.route,r),K_(e,t.path,n),G_(e,t.route,n)]).pipe(yy(),My((function(e){return!0!==e}),!0))})),My((function(e){return!0!==e}),!0))}(r,a,e,t):ny(n)})),H((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Gy((function(e){if(S_(e.guardsResult)){var n=gm('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Gy((function(e){var n=new rm(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),my((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Xy(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),nC((function(e){if(e.guards.canActivateChecks.length)return ny(e).pipe(Gy((function(e){var n=new im(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(G((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?q(i).pipe(oy((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return ny({});if(1===i.length){var o=i[0];return tC(e[o],t,n,r).pipe(H((function(e){return _defineProperty({},o,e)})))}var a={};return q(i).pipe(G((function(i){return tC(e[i],t,n,r).pipe(H((function(e){return a[i]=e,e})))}))).pipe(xy(),H((function(){return a})))}(e._resolve,e,t,r).pipe(H((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),i_(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return _(Vy(e,t),ky(1),Iy(t))(n)}:function(t){return _(Vy((function(t,n,r){return e(t,n,r+1)})),ky(1))(t)}}((function(e,t){return e})),H((function(t){return e}))):ny(e)})))}),Gy((function(e){var n=new om(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),nC((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),H((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new Xm(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,c=new r_(new ty((u=n.value).url),new ty(u.params),new ty(u.queryParams),new ty(u.fragment),new ty(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return e(t,n)}));return new Xm(c,l)}(e,t._root,n?n._root:void 0);return new t_(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Gy((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},H((function(e){return new k_(o,e.targetRouterState,e.currentRouterState,a).activate(i),e}))),Gy({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new Xy(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Qy(r))}),ay((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=S_(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new Xy(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new em(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var s;return ry})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){_m(e),this.config=e.map(km),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,a=t.queryParamsHandling,s=t.preserveFragment;gr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,l=null;if(a)switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return d_(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new f_(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Tm(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new f_(n,t,r)}(n);if(o.toRoot())return d_(t.root,new Om([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new p_(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new p_(n.snapshot._urlSegment,!0,0);var r=h_(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new p_(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?y_(a.segmentGroup,a.index,o.commands):g_(a.segmentGroup,a.index,o.commands);return d_(a.segmentGroup,s,t,r,i)}(u,this.currentUrlTree,e,l,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};gr()&&this.isNgZoneEnabled&&!Vu.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=S_(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(S_(e))return Im(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Im(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new $y(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){ya()},dC.\u0275dir=yt({type:dC}),dC),pC=((hC=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onClick",value:function(){var e={skipLocationChange:gC(this.skipLocationChange),replaceUrl:gC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){gr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:gC(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:gC(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||hC)(va(fC),va(r_),ga("tabindex"),va(ms),va(ps))},hC.\u0275dir=yt({type:hC,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Aa("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),hC),vC=((lC=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof $y&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:gC(this.skipLocationChange),replaceUrl:gC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){gr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:gC(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:gC(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||lC)(va(fC),va(r_),va(Oc))},lC.\u0275dir=yt({type:lC,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Aa("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(za("href",t.href,qr),ha("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[es]}),lC);function gC(e){return""===e||!!e}var yC,mC,_C,CC,wC=((yC=function(){function e(t,n,r,i,o){var a=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof $y&&a.update()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}()).\u0275fac=function(e){return new(e||yC)(va(fC),va(ps),va(ms),va(pC,8),va(vC,8))},yC.\u0275dir=yt({type:yC,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;1&e&&(vu(n,pC,!0),vu(n,vC,!0)),2&e&&(pu(r=gu())&&(t.links=r),pu(r=gu())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[es]}),yC),kC=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new EC,this.attachRef=null},EC=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new kC,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),bC=((mC=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new ru,this.deactivateEvents=new ru,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new SC(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||mC)(va(EC),va(Hs),va(fs),ga("name"),va(Fo))},mC.\u0275dir=yt({type:mC,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),mC),SC=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===r_?this.route:e===EC?this.childContexts:this.parent.get(e,t)}}]),e}(),AC=function e(){_classCallCheck(this,e)},TC=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return ny(null)}}]),e}(),RC=((CC=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new oC(n,r,(function(e){return t.triggerEvent(new am(e))}),(function(e){return t.triggerEvent(new sm(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(my((function(e){return e instanceof $y})),oy((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(Xe);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return q(r).pipe(W(),H((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(G((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||CC)(Ye(fC),Ye(uc),Ye(Mu),Ye(Jo),Ye(AC))},CC.\u0275prov=he({token:CC,factory:CC.\u0275fac}),CC),IC=((_C=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Jy?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $y&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof dm&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new dm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){ya()},_C.\u0275dir=yt({type:_C}),_C),DC=new Ve("ROUTER_CONFIGURATION"),OC=new Ve("ROUTER_FORROOT_GUARD"),xC=[Hc,{provide:Fm,useClass:Mm},{provide:fC,useFactory:function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new fC(null,e,t,n,r,i,o,Sm(a));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),s.errorHandler&&(l.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(l.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var h=yc();l.events.subscribe((function(e){h.logGroup("Router Event: ".concat(e.constructor.name)),h.log(e.toString()),h.log(e),h.logGroupEnd()}))}return s.onSameUrlNavigation&&(l.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(l.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(l.relativeLinkResolution=s.relativeLinkResolution),l},deps:[Fm,EC,Hc,Jo,uc,Mu,iC,DC,[function(){return function e(){_classCallCheck(this,e)}}(),new oe],[function(){return function e(){_classCallCheck(this,e)}}(),new oe]]},EC,{provide:r_,useFactory:function(e){return e.routerState.root},deps:[fC]},{provide:uc,useClass:hc},RC,TC,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(ay((function(){return ny(null)})))}}]),e}(),{provide:DC,useValue:{enableTracing:!1}}];function PC(){return new ec("Router",fC)}var NC,FC=((NC=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[xC,HC(t),{provide:OC,useFactory:LC,deps:[[fC,new oe,new se]]},{provide:DC,useValue:n||{}},{provide:Oc,useFactory:UC,deps:[Cc,[new ie(Mc),new oe],DC]},{provide:IC,useFactory:MC,deps:[fC,Bh,DC]},{provide:AC,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:TC},{provide:ec,multi:!0,useFactory:PC},[BC,{provide:mu,multi:!0,useFactory:jC,deps:[BC]},{provide:QC,useFactory:qC,deps:[BC]},{provide:Su,multi:!0,useExisting:QC}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[HC(t)]}}}]),e}()).\u0275mod=vt({type:NC}),NC.\u0275inj=de({factory:function(e){return new(e||NC)(Ye(OC,8),Ye(fC,8))}}),NC);function MC(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new IC(e,t,n)}function UC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Lc(e,t):new Uc(e,t)}function LC(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function HC(e){return[{provide:$o,multi:!0,useValue:e},{provide:iC,multi:!0,useValue:e}]}var VC,BC=((VC=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new R}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(Ec,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(fC),i=e.injector.get(DC);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?ny(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(DC),n=this.injector.get(RC),r=this.injector.get(IC),i=this.injector.get(fC),o=this.injector.get(ac);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||VC)(Ye(Jo))},VC.\u0275prov=he({token:VC,factory:VC.\u0275fac}),VC);function jC(e){return e.appInitializer.bind(e)}function qC(e){return e.bootstrapListener.bind(e)}var GC,KC,zC,WC,QC=new Ve("Router Initializer"),YC=new Ve("MSAL_INSTANCE"),ZC=new Ve("MSAL_GUARD_CONFIG"),JC=new Ve("MSAL_INTERCEPTOR_CONFIG"),$C=((WC=function(){function e(t,n){_classCallCheck(this,e),this.instance=t,this.location=n;var r=this.location.path(!0).split("#").pop();r&&(this.redirectHash="#".concat(r)),this.instance.initializeWrapperLibrary(Sg.Angular,"2.0.0-beta.4")}return _createClass(e,[{key:"acquireTokenPopup",value:function(e){return q(this.instance.acquireTokenPopup(e))}},{key:"acquireTokenRedirect",value:function(e){return q(this.instance.acquireTokenRedirect(e))}},{key:"acquireTokenSilent",value:function(e){return q(this.instance.acquireTokenSilent(e))}},{key:"handleRedirectObservable",value:function(e){return q(this.instance.handleRedirectPromise(e||this.redirectHash))}},{key:"loginPopup",value:function(e){return q(this.instance.loginPopup(e))}},{key:"loginRedirect",value:function(e){return q(this.instance.loginRedirect(e))}},{key:"logout",value:function(e){return q(this.instance.logout(e))}},{key:"logoutRedirect",value:function(e){return q(this.instance.logoutRedirect(e))}},{key:"logoutPopup",value:function(e){return q(this.instance.logoutPopup(e))}},{key:"ssoSilent",value:function(e){return q(this.instance.ssoSilent(e))}},{key:"getLogger",value:function(){return this.logger||(this.logger=this.instance.getLogger().clone("@azure/msal-angular","2.0.0-beta.4")),this.logger}},{key:"setLogger",value:function(e){this.logger=e.clone("@azure/msal-angular","2.0.0-beta.4"),this.instance.setLogger(e)}}]),e}()).\u0275fac=function(e){return new(e||WC)(Ye(YC),Ye(Hc))},WC.\u0275prov=he({token:WC,factory:WC.\u0275fac}),WC),XC=((zC=function e(t,n){var r=this;_classCallCheck(this,e),this.msalInstance=t,this.authService=n,this._msalSubject=new R,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new ty(yg.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback((function(e){r._msalSubject.next(e);var t=ey.getInteractionStatusFromEvent(e);null!==t&&(r.authService.getLogger().verbose("BroadcastService - ".concat(e.eventType," results in setting inProgress to ").concat(t)),r._inProgress.next(t))}))}).\u0275prov=he({token:zC,factory:zC.\u0275fac=function(e){return new(e||zC)(Ye(YC),Ye($C))}}),zC),ew=((KC=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.msalGuardConfig=t,this.msalBroadcastService=n,this.authService=r,this.location=i,this.router=o,this.msalBroadcastService.inProgress$.subscribe()}return _createClass(e,[{key:"parseUrl",value:function(e){return this.router.parseUrl(e)}},{key:"getDestinationUrl",value:function(e){this.authService.getLogger().verbose("Guard - getting destination url");var t=document.getElementsByTagName("base"),n=this.location.normalize(t.length?t[0].href:window.location.origin),r=this.location.prepareExternalUrl(e);return r.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),"".concat(n,"/").concat(r)):"".concat(n).concat(e)}},{key:"loginInteractively",value:function(e){var t=this,n="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,e):Object.assign({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===gg.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(n).pipe(H((function(e){return t.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),t.authService.instance.setActiveAccount(e.account),!0})));this.authService.getLogger().verbose("Guard - logging in by redirect");var r=this.getDestinationUrl(e.url);return this.authService.loginRedirect(Object.assign({redirectStartPage:r},n)).pipe(H((function(){return!1})))}},{key:"activateHelper",value:function(e){var t=this;if(this.msalGuardConfig.interactionType!==gg.Popup&&this.msalGuardConfig.interactionType!==gg.Redirect)throw new Hg("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");return this.authService.getLogger().verbose("MSAL Guard activated"),ng.hashContainsKnownProperties(window.location.hash)&&zg.isInIframe()?(this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),ny(!1)):(this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute)),this.authService.handleRedirectObservable().pipe(oy((function(){return t.authService.instance.getAllAccounts().length?(t.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),ny(!0)):e?(t.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),t.loginInteractively(e)):(t.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),ny(!1))})),ay((function(){return t.authService.getLogger().verbose("Guard - error while logging in, unable to activate"),t.loginFailedRoute&&parseInt(ws.major,10)>9&&e?(t.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),ny(t.loginFailedRoute)):ny(!1)}))))}},{key:"canActivate",value:function(e,t){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(t)}},{key:"canActivateChild",value:function(e,t){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(t)}},{key:"canLoad",value:function(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}]),e}()).\u0275fac=function(e){return new(e||KC)(Ye(ZC),Ye(XC),Ye($C),Ye(Hc),Ye(fC))},KC.\u0275prov=he({token:KC,factory:KC.\u0275fac}),KC),tw=((GC=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n,r){return{ngModule:e,providers:[{provide:YC,useValue:t},{provide:ZC,useValue:n},{provide:JC,useValue:r},$C]}}}]),e}()).\u0275mod=vt({type:GC}),GC.\u0275inj=de({factory:function(e){return new(e||GC)},providers:[ew,XC],imports:[[Vh]]}),GC);function nw(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}var rw,iw,ow,aw,sw,uw,cw,lw,hw=function(e){return e.GET="GET",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e}({}),dw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.middlewareOptions=new Map;var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.middlewareOptions.set(i.constructor,i)}}catch(o){r.e(o)}finally{r.f()}}return _createClass(e,[{key:"getMiddlewareOptions",value:function(e){return this.middlewareOptions.get(e)}},{key:"setMiddlewareOptions",value:function(e,t){this.middlewareOptions.set(e,t)}}]),e}(),fw=function(e,t,n){var r=null;if("undefined"!=typeof Request&&e instanceof Request)r=e.headers.get(n);else if(void 0!==t&&void 0!==t.headers)if("undefined"!=typeof Headers&&t.headers instanceof Headers)r=t.headers.get(n);else if(t.headers instanceof Array){for(var i=t.headers,o=0,a=i.length;o<a;o++)if(i[o][0]===n){r=i[o][1];break}}else void 0!==t.headers[n]&&(r=t.headers[n]);return r},pw=function(e,t,n,r){if("undefined"!=typeof Request&&e instanceof Request)e.headers.set(n,r);else if(void 0!==t)if(void 0===t.headers)t.headers=new Headers(_defineProperty({},n,r));else if("undefined"!=typeof Headers&&t.headers instanceof Headers)t.headers.set(n,r);else if(t.headers instanceof Array){for(var i=0,o=t.headers.length;i<o;i++){var a=t.headers[i];if(a[0]===n){a[1]=r;break}}i===o&&t.headers.push([n,r])}else Object.assign(t.headers,_defineProperty({},n,r))},vw=function(e,t,n,r){"undefined"!=typeof Request&&e instanceof Request?e.headers.append(n,r):void 0!==t&&(void 0===t.headers?t.headers=new Headers(_defineProperty({},n,r)):"undefined"!=typeof Headers&&t.headers instanceof Headers?t.headers.append(n,r):t.headers instanceof Array?t.headers.push([n,r]):void 0===t.headers?t.headers=_defineProperty({},n,r):void 0===t.headers[n]?t.headers[n]=r:t.headers[n]+=", ".concat(r))},gw=function e(t,n){_classCallCheck(this,e),this.authenticationProvider=t,this.authenticationProviderOptions=n},yw=function(e){return e[e.NONE=0]="NONE",e[e.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",e[e.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",e[e.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED",e}({}),mw=function(){function e(){_classCallCheck(this,e),this.featureUsage=yw.NONE}return _createClass(e,[{key:"setFeatureUsage",value:function(e){this.featureUsage=this.featureUsage|e}},{key:"getFeatureUsage",value:function(){return this.featureUsage.toString(16)}}],[{key:"updateFeatureUsageFlag",value:function(t,n){var r;t.middlewareControl instanceof dw?r=t.middlewareControl.getMiddlewareOptions(e):t.middlewareControl=new dw,void 0===r&&(r=new e,t.middlewareControl.setMiddlewareOptions(e,r)),r.setFeatureUsage(n)}}]),e}(),_w=((rw=function(){function e(t){_classCallCheck(this,e),this.authenticationProvider=t}return _createClass(e,[{key:"execute",value:function(t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.middlewareControl instanceof dw&&(r=t.middlewareControl.getMiddlewareOptions(gw)),void 0!==r&&(i=r.authenticationProvider,o=r.authenticationProviderOptions),void 0===i&&(i=this.authenticationProvider),n.next=4,i.getAccessToken(o);case 4:return a=n.sent,vw(t.request,t.options,e.AUTHORIZATION_HEADER,"Bearer ".concat(a)),mw.updateFeatureUsageFlag(t,yw.AUTHENTICATION_HANDLER_ENABLED),n.next=9,this.nextMiddleware.execute(t);case 9:return n.abrupt("return",n.sent);case 12:throw n.prev=12,n.t0=n.catch(0),n.t0;case 15:case"end":return n.stop()}}),n,this,[[0,12]])})))}},{key:"setNext",value:function(e){this.nextMiddleware=e}}]),e}()).AUTHORIZATION_HEADER="Authorization",rw),Cw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"execute",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.request,e.options);case 3:return t.abrupt("return",void(e.response=t.sent));case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))}}]),e}(),ww=function(){var e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_DELAY,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DEFAULT_MAX_RETRIES,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_SHOULD_RETRY;if(_classCallCheck(this,e),t>e.MAX_DELAY&&n>e.MAX_MAX_RETRIES){var i=new Error("Delay and MaxRetries should not be more than ".concat(e.MAX_DELAY," and ").concat(e.MAX_MAX_RETRIES));throw i.name="MaxLimitExceeded",i}if(t>e.MAX_DELAY){var o=new Error("Delay should not be more than ".concat(e.MAX_DELAY));throw o.name="MaxLimitExceeded",o}if(n>e.MAX_MAX_RETRIES){var a=new Error("MaxRetries should not be more than ".concat(e.MAX_MAX_RETRIES));throw a.name="MaxLimitExceeded",a}if(t<0&&n<0){var s=new Error("Delay and MaxRetries should not be negative");throw s.name="MinExpectationNotMet",s}if(t<0){var u=new Error("Delay should not be negative");throw u.name="MinExpectationNotMet",u}if(n<0){var c=new Error("MaxRetries should not be negative");throw c.name="MinExpectationNotMet",c}this.delay=Math.min(t,e.MAX_DELAY),this.maxRetries=Math.min(n,e.MAX_MAX_RETRIES),this.shouldRetry=r}return _createClass(e,[{key:"getMaxDelay",value:function(){return e.MAX_DELAY}}]),e}();return e.DEFAULT_DELAY=3,e.DEFAULT_MAX_RETRIES=3,e.MAX_DELAY=180,e.MAX_MAX_RETRIES=10,e.DEFAULT_SHOULD_RETRY=function(){return!0},e}(),kw=((aw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ww;_classCallCheck(this,e),this.options=t}return _createClass(e,[{key:"isRetry",value:function(t){return-1!==e.RETRY_STATUS_CODES.indexOf(t.status)}},{key:"isBuffered",value:function(e,t){var n="string"==typeof e?t.method:e.method;return n!==hw.PUT&&n!==hw.PATCH&&n!==hw.POST||"application/octet-stream"!==fw(e,t,"Content-Type")}},{key:"getDelay",value:function(t,n,r){var i,o=function(){return Number(Math.random().toFixed(3))},a=void 0!==t.headers?t.headers.get(e.RETRY_AFTER_HEADER):null;return i=null!==a?Number.isNaN(Number(a))?Math.round((new Date(a).getTime()-Date.now())/1e3):Number(a):n>=2?this.getExponentialBackOffTime(n)+r+o():r+o(),Math.min(i,this.options.getMaxDelay()+o())}},{key:"getExponentialBackOffTime",value:function(e){return Math.round(.5*(Math.pow(2,e)-1))}},{key:"sleep",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=1e3*e,t.abrupt("return",new Promise((function(e){return setTimeout(e,n)})));case 2:case"end":return t.stop()}}),t)})))}},{key:"getOptions",value:function(e){var t;return e.middlewareControl instanceof dw&&(t=e.middlewareControl.getMiddlewareOptions(this.options.constructor)),void 0===t&&(t=Object.assign(new ww,this.options)),t}},{key:"executeWithRetry",value:function(t,n,r){return nw(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.nextMiddleware.execute(t);case 3:if(!(n<r.maxRetries&&this.isRetry(t.response)&&this.isBuffered(t.request,t.options)&&r.shouldRetry(r.delay,n,t.request,t.options,t.response))){i.next=11;break}return++n,pw(t.request,t.options,e.RETRY_ATTEMPT_HEADER,n.toString()),o=this.getDelay(t.response,n,r.delay),i.next=8,this.sleep(o);case 8:return i.next=10,this.executeWithRetry(t,n,r);case 10:return i.abrupt("return",i.sent);case 11:return i.abrupt("return");case 14:throw i.prev=14,i.t0=i.catch(0),i.t0;case 17:case"end":return i.stop()}}),i,this,[[0,14]])})))}},{key:"execute",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=this.getOptions(e),mw.updateFeatureUsageFlag(e,yw.RETRY_HANDLER_ENABLED),t.next=5,this.executeWithRetry(e,0,n);case 5:return t.abrupt("return",t.sent);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,8]])})))}},{key:"setNext",value:function(e){this.nextMiddleware=e}}]),e}()).RETRY_STATUS_CODES=[429,503,504],aw.RETRY_ATTEMPT_HEADER="Retry-Attempt",aw.RETRY_AFTER_HEADER="Retry-After",aw),Ew=function(){var e=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_MAX_REDIRECTS,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DEFAULT_SHOULD_RETRY;return function(){if(_classCallCheck(t,e),n>e.MAX_MAX_REDIRECTS){var i=new Error("MaxRedirects should not be more than ".concat(e.MAX_MAX_REDIRECTS));throw i.name="MaxLimitExceeded",i}if(n<0){var o=new Error("MaxRedirects should not be negative");throw o.name="MinExpectationNotMet",o}t.maxRedirects=n,t.shouldRedirect=r}()};return e.DEFAULT_MAX_REDIRECTS=5,e.MAX_MAX_REDIRECTS=20,e.DEFAULT_SHOULD_RETRY=function(){return!0},e}(),bw=((ow=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ew;_classCallCheck(this,e),this.options=t}return _createClass(e,[{key:"isRedirect",value:function(t){return-1!==e.REDIRECT_STATUS_CODES.indexOf(t.status)}},{key:"hasLocationHeader",value:function(t){return t.headers.has(e.LOCATION_HEADER)}},{key:"getLocationHeader",value:function(t){return t.headers.get(e.LOCATION_HEADER)}},{key:"isRelativeURL",value:function(e){return-1===e.indexOf("://")}},{key:"shouldDropAuthorizationHeader",value:function(e,t){var n,r,i=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,o=i.exec(e);null!==o&&(n=o[0]);var a=i.exec(t);return null!==a&&(r=a[0]),void 0!==n&&void 0!==r&&n!==r}},{key:"updateRequestUrl",value:function(e,t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("string"!=typeof t.request){n.next=4;break}n.t0=e,n.next=7;break;case 4:return n.next=6,r=e,i=t.request,nw(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,o,a,s,u,c,l,h,d,f,p,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.headers.get("Content-Type")){e.next=6;break}return e.next=3,i.blob();case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,Promise.resolve(void 0);case 8:e.t0=e.sent;case 9:return t=e.t0,o=(n=i).method,a=n.headers,s=n.referrer,u=n.referrerPolicy,c=n.mode,l=n.credentials,h=n.cache,d=n.redirect,f=n.integrity,p=n.keepalive,v=n.signal,e.abrupt("return",new Request(r,{method:o,headers:a,body:t,referrer:s,referrerPolicy:u,mode:c,credentials:l,cache:h,redirect:d,integrity:f,keepalive:p,signal:v}));case 23:case"end":return e.stop()}}),e)})));case 6:n.t0=n.sent;case 7:t.request=n.t0;case 8:case"end":return n.stop()}}),n)})))}},{key:"getOptions",value:function(e){var t;return e.middlewareControl instanceof dw&&(t=e.middlewareControl.getMiddlewareOptions(Ew)),void 0===t&&(t=Object.assign(new Ew,this.options)),t}},{key:"executeWithRedirect",value:function(t,n,r){return nw(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.nextMiddleware.execute(t);case 3:if(o=t.response,n<r.maxRedirects&&this.isRedirect(o)&&this.hasLocationHeader(o)&&r.shouldRedirect(o)){i.next=6;break}return i.abrupt("return");case 6:if(++n,o.status!==e.STATUS_CODE_SEE_OTHER){i.next=10;break}t.options.method=hw.GET,delete t.options.body,i.next=14;break;case 10:return a=this.getLocationHeader(o),!this.isRelativeURL(a)&&this.shouldDropAuthorizationHeader(o.url,a)&&pw(t.request,t.options,e.AUTHORIZATION_HEADER,void 0),i.next=14,this.updateRequestUrl(a,t);case 14:return i.next=16,this.executeWithRedirect(t,n,r);case 16:i.next=21;break;case 18:throw i.prev=18,i.t0=i.catch(0),i.t0;case 21:case"end":return i.stop()}}),i,this,[[0,18]])})))}},{key:"execute",value:function(t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=this.getOptions(t),t.options.redirect=e.MANUAL_REDIRECT,mw.updateFeatureUsageFlag(t,yw.REDIRECT_HANDLER_ENABLED),n.next=6,this.executeWithRedirect(t,0,r);case 6:return n.abrupt("return",n.sent);case 9:throw n.prev=9,n.t0=n.catch(0),n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,9]])})))}},{key:"setNext",value:function(e){this.nextMiddleware=e}}]),e}()).REDIRECT_STATUS_CODES=[301,302,303,307,308],ow.STATUS_CODE_SEE_OTHER=303,ow.LOCATION_HEADER="Location",ow.AUTHORIZATION_HEADER="Authorization",ow.MANUAL_REDIRECT="manual",ow),Sw=((iw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"execute",value:function(t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,null===(r=fw(t.request,t.options,e.CLIENT_REQUEST_ID_HEADER))&&(r=function(){for(var e="",t=0;t<32;t++)8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=Math.floor(16*Math.random()).toString(16);return e}(),pw(t.request,t.options,e.CLIENT_REQUEST_ID_HEADER,r)),o="".concat(e.PRODUCT_NAME,"/2.0.0"),t.middlewareControl instanceof dw&&(i=t.middlewareControl.getMiddlewareOptions(mw)),void 0!==i&&(a=i.getFeatureUsage(),o+=" (".concat(e.FEATURE_USAGE_STRING,"=").concat(a,")")),vw(t.request,t.options,e.SDK_VERSION_HEADER,o),n.next=8,this.nextMiddleware.execute(t);case 8:return n.abrupt("return",n.sent);case 11:throw n.prev=11,n.t0=n.catch(0),n.t0;case 14:case"end":return n.stop()}}),n,this,[[0,11]])})))}},{key:"setNext",value:function(e){this.nextMiddleware=e}}]),e}()).CLIENT_REQUEST_ID_HEADER="client-request-id",iw.SDK_VERSION_HEADER="SdkVersion",iw.PRODUCT_NAME="graph-js",iw.FEATURE_USAGE_STRING="featureUsage",iw),Aw=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.minValue=t,this.maxValue=n},Tw=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_classCallCheck(this,e),this.DEFAULT_FILE_SIZE=5242880,this.client=t,this.file=n,void 0===i.rangeSize&&(i.rangeSize=this.DEFAULT_FILE_SIZE),this.options=i,this.uploadSession=r,this.nextRange=new Aw(0,this.options.rangeSize-1)}return _createClass(e,[{key:"parseRange",value:function(e){var t=e[0];if(void 0===t||""===t)return new Aw;var n=t.split("-"),r=parseInt(n[0],10),i=parseInt(n[1],10);return Number.isNaN(i)&&(i=this.file.size-1),new Aw(r,i)}},{key:"updateTaskStatus",value:function(e){this.uploadSession.expiry=new Date(e.expirationDateTime),this.nextRange=this.parseRange(e.nextExpectedRanges)}},{key:"getNextRange",value:function(){if(-1===this.nextRange.minValue)return this.nextRange;var e=this.nextRange.minValue,t=e+this.options.rangeSize-1;return t>=this.file.size&&(t=this.file.size-1),new Aw(e,t)}},{key:"sliceFile",value:function(e){return this.file.content.slice(e.minValue,e.maxValue+1)}},{key:"upload",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:if(-1!==(t=this.getNextRange()).maxValue){e.next=5;break}throw(n=new Error("Task with which you are trying to upload is already completed, Please check for your uploaded file")).name="Invalid Session",n;case 5:return r=this.sliceFile(t),e.next=8,this.uploadSlice(r,t,this.file.size);case 8:if(void 0===(i=e.sent).id){e.next=11;break}return e.abrupt("return",i);case 11:this.updateTaskStatus(i);case 12:e.next=1;break;case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[0,16]])})))}},{key:"uploadSlice",value:function(e,t,n){return nw(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.client.api(this.uploadSession.url).headers({"Content-Length":"".concat(t.maxValue-t.minValue+1),"Content-Range":"bytes ".concat(t.minValue,"-").concat(t.maxValue,"/").concat(n)}).put(e);case 3:return r.abrupt("return",r.sent);case 6:throw r.prev=6,r.t0=r.catch(0),r.t0;case 9:case"end":return r.stop()}}),r,this,[[0,6]])})))}},{key:"cancel",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.client.api(this.uploadSession.url).delete();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"getStatus",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.client.api(this.uploadSession.url).get();case 3:return t=e.sent,e.abrupt("return",(this.updateTaskStatus(t),t));case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"resume",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getStatus();case 3:return e.next=5,this.upload();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,8]])})))}}],[{key:"createUploadSession",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return nw(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.api(t).headers(r).post(n);case 3:return o=i.sent,i.abrupt("return",{url:o.uploadUrl,expiry:new Date(o.expirationDateTime)});case 7:throw i.prev=7,i.t0=i.catch(0),i.t0;case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))}}]),e}(),Rw=function(){function e(t){_classCallCheck(this,e),this.provider=t}return _createClass(e,[{key:"getAccessToken",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.provider((function(t,r){r?e(r):n(t)}))})));case 1:case"end":return e.stop()}}),e)})))}}]),e}(),Iw=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;_classCallCheck(this,e),this.statusCode=t,this.code=null,this.message=null,this.requestId=null,this.date=new Date,this.body=null},Dw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"constructError",value:function(e,t){var n=new Iw(t);return void 0!==e.name&&(n.code=e.name),n.body=e.toString(),n.message=e.message,n.date=new Date,n}},{key:"constructErrorFromResponse",value:function(e,t){e=e.error;var n=new Iw(t);n.code=e.code,n.message=e.message,void 0!==e.innerError&&(n.requestId=e.innerError["request-id"],n.date=new Date(e.innerError.date));try{n.body=JSON.stringify(e)}catch(e){}return n}},{key:"getError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0;return nw(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=t&&t.error?e.constructErrorFromResponse(t,n):"undefined"!=typeof Error&&t instanceof Error?e.constructError(t,n):new Iw(n),"function"==typeof r){i.next=2;break}return i.abrupt("return",o);case 2:r(o,null);case 3:case"end":return i.stop()}}),i)})))}}]),e}(),Ow=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"],xw=function(e){var t=e.constructor.name;if("Buffer"===t||"Blob"===t||"File"===t||"FormData"===t||"string"==typeof e)return e;if("ArrayBuffer"===t)e=Buffer.from(e);else if("Int8Array"===t||"Int16Array"===t||"Int32Array"===t||"Uint8Array"===t||"Uint16Array"===t||"Uint32Array"===t||"Uint8ClampedArray"===t||"Float32Array"===t||"Float64Array"===t||"DataView"===t)e=Buffer.from(e.buffer);else try{e=JSON.stringify(e)}catch(n){throw new Error("Unable to stringify the content")}return e},Pw=function(e){return e.ARRAYBUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.RAW="raw",e.STREAM="stream",e.TEXT="text",e}({}),Nw=function(e){return e.TEXT_HTML="text/html",e.TEXT_XML="text/xml",e.APPLICATION_XML="application/xml",e.APPLICATION_XHTML="application/xhtml+xml",e}({}),Fw=function(e){return e.TEXT_PLAIN="text/plain",e.APPLICATION_JSON="application/json",e}({}),Mw=function(e){return e.DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",e.IMAGE="^image\\/.+",e}({}),Uw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"parseDocumentResponse",value:function(e,t){try{return"undefined"!=typeof DOMParser?new Promise((function(n,r){e.text().then((function(e){try{var i=(new DOMParser).parseFromString(e,t);n(i)}catch(o){r(o)}}))})):Promise.resolve(e.body)}catch(n){throw n}}},{key:"convertResponse",value:function(t,n){return nw(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i,o,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(204!==t.status){r.next=2;break}return r.abrupt("return",Promise.resolve());case 2:r.prev=2,r.t0=n,r.next=r.t0===Pw.ARRAYBUFFER?6:r.t0===Pw.BLOB?10:r.t0===Pw.DOCUMENT?14:r.t0===Pw.JSON?18:r.t0===Pw.STREAM?22:r.t0===Pw.TEXT?26:30;break;case 6:return r.next=8,t.arrayBuffer();case 8:return i=r.sent,r.abrupt("break",63);case 10:return r.next=12,t.blob();case 12:return i=r.sent,r.abrupt("break",63);case 14:return r.next=16,e.parseDocumentResponse(t,Nw.TEXT_XML);case 16:return i=r.sent,r.abrupt("break",63);case 18:return r.next=20,t.json();case 20:return i=r.sent,r.abrupt("break",63);case 22:return r.next=24,Promise.resolve(t.body);case 24:return i=r.sent,r.abrupt("break",63);case 26:return r.next=28,t.text();case 28:return i=r.sent,r.abrupt("break",63);case 30:if(null===(o=t.headers.get("Content-type"))){r.next=62;break}if(a=o.split(";")[0],!new RegExp(Mw.DOCUMENT).test(a)){r.next=39;break}return r.next=36,e.parseDocumentResponse(t,a);case 36:r.t1=r.sent,r.next=59;break;case 39:if(!new RegExp(Mw.IMAGE).test(a)){r.next=43;break}r.t2=t.blob(),r.next=58;break;case 43:if(a!==Fw.TEXT_PLAIN){r.next=49;break}return r.next=46,t.text();case 46:r.t3=r.sent,r.next=57;break;case 49:if(a!==Fw.APPLICATION_JSON){r.next=55;break}return r.next=52,t.json();case 52:r.t4=r.sent,r.next=56;break;case 55:r.t4=Promise.resolve(t.body);case 56:r.t3=r.t4;case 57:r.t2=r.t3;case 58:r.t1=r.t2;case 59:i=r.t1,r.next=63;break;case 62:i=Promise.resolve(t.body);case 63:r.next=68;break;case 65:throw r.prev=65,r.t5=r.catch(2),r.t5;case 68:return r.abrupt("return",i);case 69:case"end":return r.stop()}}),r,null,[[2,65]])})))}},{key:"getResponse",value:function(t,n,r){return nw(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,n!==Pw.RAW){i.next=3;break}return i.abrupt("return",Promise.resolve(t));case 3:return i.next=5,e.convertResponse(t,n);case 5:if(o=i.sent,t.ok){i.next=8;break}throw o;case 8:if("function"==typeof r){i.next=10;break}return i.abrupt("return",o);case 10:r(null,o),i.next=16;break;case 13:throw i.prev=13,i.t0=i.catch(0),i.t0;case 16:case"end":return i.stop()}}),i,null,[[0,13]])})))}}]),e}(),Lw=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.parsePath=function(e){if(-1!==e.indexOf("https://")){var t=(e=e.replace("https://","")).indexOf("/");-1!==t&&(i.urlComponents.host="https://"+e.substring(0,t),e=e.substring(t+1,e.length));var n=e.indexOf("/");-1!==n&&(i.urlComponents.version=e.substring(0,n),e=e.substring(n+1,e.length))}"/"===e.charAt(0)&&(e=e.substr(1));var r=e.indexOf("?");if(-1===r)i.urlComponents.path=e;else{i.urlComponents.path=e.substr(0,r);var o,a=_createForOfIteratorHelper(e.substring(r+1,e.length).split("&"));try{for(a.s();!(o=a.n()).done;){var s=o.value.split("="),u=s[0],c=s[1];-1!==Ow.indexOf(u)?i.urlComponents.oDataQueryParams[u]=c:i.urlComponents.otherURLQueryParams[u]=c}}catch(l){a.e(l)}finally{a.f()}}},this.httpClient=t,this.config=n,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{}},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(r)}return _createClass(e,[{key:"addCsvQueryParameter",value:function(e,t,n){this.urlComponents.oDataQueryParams[e]=this.urlComponents.oDataQueryParams[e]?this.urlComponents.oDataQueryParams[e]+",":"";var r=[];n.length>1&&"string"==typeof t?r=Array.prototype.slice.call(n):"string"==typeof t?r.push(t):r=r.concat(t),this.urlComponents.oDataQueryParams[e]+=r.join(",")}},{key:"buildFullUrl",value:function(){var e,t=this,n=(e=function(e){return e.replace(/^\/+/,"")},Array.prototype.slice.call([t.urlComponents.host,t.urlComponents.version,t.urlComponents.path]).reduce((function(t,n){return[(r=t,r.replace(/\/+$/,"")),e(n)].join("/");var r}))+this.createQueryString());return this.config.debugLogging&&console.log(n),n}},{key:"createQueryString",value:function(){var e=this.urlComponents,t=[];if(0!==Object.keys(e.oDataQueryParams).length)for(var n in e.oDataQueryParams)e.oDataQueryParams.hasOwnProperty(n)&&t.push(n+"="+e.oDataQueryParams[n]);if(0!==Object.keys(e.otherURLQueryParams).length)for(var r in e.otherURLQueryParams)e.otherURLQueryParams.hasOwnProperty(r)&&t.push(r+"="+e.otherURLQueryParams[r]);return t.length>0?"?"+t.join("&"):""}},{key:"updateRequestOptions",value:function(e){var t=Object.assign({},e.headers);if(void 0!==this.config.fetchOptions){var n=Object.assign({},this.config.fetchOptions);Object.assign(e,n),void 0!==typeof this.config.fetchOptions.headers&&(e.headers=Object.assign({},this.config.fetchOptions.headers))}Object.assign(e,this._options),void 0!==e.headers&&Object.assign(t,e.headers),Object.assign(t,this._headers),e.headers=t}},{key:"send",value:function(e,t,n){return nw(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i,o,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=new dw(this._middlewareOptions),this.updateRequestOptions(t),r.prev=2,r.next=5,this.httpClient.sendRequest({request:e,options:t,middlewareControl:o});case 5:return i=r.sent.response,r.next=8,Uw.getResponse(i,this._responseType,n);case 8:return r.abrupt("return",r.sent);case 11:return r.prev=11,r.t0=r.catch(2),void 0!==i&&(a=i.status),r.next=16,Dw.getError(r.t0,a,n);case 16:throw r.sent;case 17:case"end":return r.stop()}}),r,this,[[2,11]])})))}},{key:"header",value:function(e,t){return this._headers[e]=t,this}},{key:"headers",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._headers[t]=e[t]);return this}},{key:"option",value:function(e,t){return this._options[e]=t,this}},{key:"options",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._options[t]=e[t]);return this}},{key:"middlewareOptions",value:function(e){return this._middlewareOptions=e,this}},{key:"version",value:function(e){return this.urlComponents.version=e,this}},{key:"responseType",value:function(e){return this._responseType=e,this}},{key:"select",value:function(e){return this.addCsvQueryParameter("$select",e,arguments),this}},{key:"expand",value:function(e){return this.addCsvQueryParameter("$expand",e,arguments),this}},{key:"orderby",value:function(e){return this.addCsvQueryParameter("$orderby",e,arguments),this}},{key:"filter",value:function(e){return this.urlComponents.oDataQueryParams.$filter=e,this}},{key:"search",value:function(e){return this.urlComponents.oDataQueryParams.$search=e,this}},{key:"top",value:function(e){return this.urlComponents.oDataQueryParams.$top=e,this}},{key:"skip",value:function(e){return this.urlComponents.oDataQueryParams.$skip=e,this}},{key:"skipToken",value:function(e){return this.urlComponents.oDataQueryParams.$skipToken=e,this}},{key:"count",value:function(e){return this.urlComponents.oDataQueryParams.$count=e.toString(),this}},{key:"query",value:function(e){var t=this.urlComponents.otherURLQueryParams;if("string"==typeof e){var n=e.split("=");t[n[0]]=n[1]}else for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return this}},{key:"get",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.buildFullUrl(),r={method:hw.GET},t.prev=1,t.next=4,this.send(n,r,e);case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(1),t.t0;case 10:case"end":return t.stop()}}),t,this,[[1,7]])})))}},{key:"post",value:function(e,t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.buildFullUrl(),i={method:hw.POST,body:xw(e),headers:"undefined"!=typeof FormData&&e instanceof FormData?{}:{"Content-Type":"application/json"}},n.prev=1,n.next=4,this.send(r,i,t);case 4:return n.abrupt("return",n.sent);case 7:throw n.prev=7,n.t0=n.catch(1),n.t0;case 10:case"end":return n.stop()}}),n,this,[[1,7]])})))}},{key:"create",value:function(e,t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.post(e,t);case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,this,[[0,6]])})))}},{key:"put",value:function(e,t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.buildFullUrl(),i={method:hw.PUT,body:xw(e),headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,this.send(r,i,t);case 4:return n.abrupt("return",n.sent);case 7:throw n.prev=7,n.t0=n.catch(1),n.t0;case 10:case"end":return n.stop()}}),n,this,[[1,7]])})))}},{key:"patch",value:function(e,t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.buildFullUrl(),i={method:hw.PATCH,body:xw(e),headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,this.send(r,i,t);case 4:return n.abrupt("return",n.sent);case 7:throw n.prev=7,n.t0=n.catch(1),n.t0;case 10:case"end":return n.stop()}}),n,this,[[1,7]])})))}},{key:"update",value:function(e,t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.patch(e,t);case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,this,[[0,6]])})))}},{key:"delete",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.buildFullUrl(),r={method:hw.DELETE},t.prev=1,t.next=4,this.send(n,r,e);case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(1),t.t0;case 10:case"end":return t.stop()}}),t,this,[[1,7]])})))}},{key:"del",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.delete(e);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"getStream",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.buildFullUrl(),r={method:hw.GET},this.responseType(Pw.STREAM),t.prev=2,t.next=5,this.send(n,r,e);case 5:return t.abrupt("return",t.sent);case 8:throw t.prev=8,t.t0=t.catch(2),t.t0;case 11:case"end":return t.stop()}}),t,this,[[2,8]])})))}},{key:"putStream",value:function(e,t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.buildFullUrl(),i={method:hw.PUT,headers:{"Content-Type":"application/octet-stream"},body:e},n.prev=1,n.next=4,this.send(r,i,t);case 4:return n.abrupt("return",n.sent);case 7:throw n.prev=7,n.t0=n.catch(1),n.t0;case 10:case"end":return n.stop()}}),n,this,[[1,7]])})))}}]),e}(),Hw=function(){function e(t){_classCallCheck(this,e),this.middleware=t}return _createClass(e,[{key:"sendRequest",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"string"!=typeof e.request||void 0!==e.options){t.next=4;break}throw(n=new Error).name="InvalidRequestOptions",n.message="Unable to execute the middleware, Please provide valid options for a request",n;case 4:return t.next=6,this.middleware.execute(e);case 6:return t.abrupt("return",e);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}}]),e}(),Vw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"createWithAuthenticationProvider",value:function(t){var n=new _w(t),r=new kw(new ww),i=new Sw,o=new Cw;if(n.setNext(r),new Function("try {return this === global;}catch(e){return false;}")()){var a=new bw(new Ew);r.setNext(a),a.setNext(i)}else r.setNext(i);return i.setNext(o),e.createWithMiddleware(n)}},{key:"createWithMiddleware",value:function(e){return new Hw(e)}}]),e}(),Bw=function(){function e(t){_classCallCheck(this,e),this.config={baseUrl:"https://graph.microsoft.com/",debugLogging:!1,defaultVersion:"v1.0"};try{!function(){if("undefined"==typeof Promise&&"undefined"==typeof fetch){var e=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw e.name="PolyFillNotAvailable",e}if("undefined"==typeof Promise){var t=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}if("undefined"==typeof fetch){var n=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw n.name="PolyFillNotAvailable",n}}()}catch(i){throw i}for(var n in t)t.hasOwnProperty(n)&&(this.config[n]=t[n]);var r;if(void 0!==t.authProvider&&void 0!==t.middleware){var i=new Error;throw i.name="AmbiguityInInitialization",i.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",i}if(void 0!==t.authProvider)r=Vw.createWithAuthenticationProvider(t.authProvider);else{if(void 0===t.middleware){var o=new Error;throw o.name="InvalidMiddlewareChain",o.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",o}r=new Hw(t.middleware)}this.httpClient=r}return _createClass(e,[{key:"api",value:function(e){return new Lw(this.httpClient,this.config,e)}}],[{key:"init",value:function(t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="authProvider"===r?new Rw(t[r]):t[r]);return e.initWithMiddleware(n)}},{key:"initWithMiddleware",value:function(t){try{return new e(t)}catch(n){throw n}}}]),e}(),jw=new Xg({auth:{clientId:"0ef0971f-a687-4119-b5b9-6ce6fdea44ce"}}),qw={scopes:["Files.ReadWrite.All","Sites.ReadWrite.All","User.Read"]},Gw={interactionType:gg.Popup,authRequest:qw},Kw={interactionType:gg.Popup,protectedResourceMap:new Map([["https://graph.microsoft.com/v1.0/me",["user.read"]],["https://api.myapplication.com/users/*",["customscope.read"]],["http://localhost:4200/",null]])},zw=function e(){_classCallCheck(this,e),this.displayName="no user",this.email="no@e-mail",this.avatar="-"},Ww=((sw=function(){function e(t){var n=this;_classCallCheck(this,e),this.msalService=t,this.authenticated=!1,this.user=new zw,this.errorLog=[],this.signIn=new k((function(e){console.log("entrando en signIn()"),n.msalService.loginPopup(qw).subscribe((function(t){console.log("loginPopup OK, response: "),n.msalService.instance.setActiveAccount(t.account),console.log("Active account setted: "),n.authenticated=!0,console.log("setting Client"),n.client=Bw.init({authProvider:function(e){return nw(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("retrieving Token"),this.msalService.acquireTokenSilent(qw).subscribe((function(t){console.log("Token OK: "),e(null,t.accessToken)}),(function(t){console.log("Token ERROR: "),n.errorAdd("Get token failed: "+t),e(t,null)}),(function(){}));case 1:case"end":return t.stop()}}),t,this)})))}}),console.log("getting User"),n.user.displayName=t.account.name,n.user.email=t.account.username,console.log("User: "+JSON.stringify(n.user)),e.next(t.account)}),(function(t){console.log("loginPopup ERROR: "+JSON.stringify(t)),n.errorAdd("Login failed: "+JSON.stringify(t,null,2)),e.error("Login failed: "+JSON.stringify(t,null,2))}))}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"errorAdd",value:function(e){this.errorLog.push(e)}},{key:"clear",value:function(){this.errorLog=[]}},{key:"getLog",value:function(){return this.errorLog}},{key:"signOut",value:function(){this.msalService.logout(),this.user=new zw,this.authenticated=!1}}]),e}()).\u0275fac=function(e){return new(e||sw)(Ye($C))},sw.\u0275prov=he({token:sw,factory:sw.\u0275fac,providedIn:"root"}),sw),Qw=[],Yw=((lw=function e(){_classCallCheck(this,e)}).\u0275mod=vt({type:lw}),lw.\u0275inj=de({factory:function(e){return new(e||lw)},imports:[[FC.forRoot(Qw)],FC]}),lw),Zw=((cw=function(){function e(t){_classCallCheck(this,e),this.graphService=t,this.listURL="",this.listFilter="",this.altFilter=[]}return _createClass(e,[{key:"changeList",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.graphService.authenticated){t.next=8;break}return console.log("abriendo lista"),this.listURL="https://graph.microsoft.com/v1.0/sites/"+this.siteID+"/lists/"+e,this.datos=[],t.next=4,this.graphService.client.api(this.listURL).get().catch((function(e){r.graphService.errorAdd("read failed: "+JSON.stringify(e,null,2))}));case 4:n=t.sent,this.listName=n.displayName,this.graphService.errorAdd("List: "+this.listName),console.log("abierta: "+this.listName),t.next=9;break;case 8:this.graphService.errorAdd("error leyendo lista: not logged");case 9:case"end":return t.stop()}}),t,this)})))}},{key:"getOptions",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(this.listName+"> leyendo opciones: "+e),t.next=3,this.graphService.client.api(this.listURL+"/columns/"+e).get().catch((function(e){r.graphService.errorAdd("read failed: "+JSON.stringify(e,null,2))}));case 3:return n=t.sent,t.abrupt("return",(console.log(this.listName+"> leidas: "+n.choice.choices.length),n.choice.choices));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"cleanFilter",value:function(){this.listFilter="",this.altFilter=[]}},{key:"updateWebFilter",value:function(e,t,n){var r="";""!=t&&(r="fields/"+e+" "+n+" '"+t+"'",""!=this.listFilter&&(r=" and "+r)),this.listFilter+=r}},{key:"updateAltFilter",value:function(e,t){""!=t&&this.altFilter.push({_field:e,_contains:t.toUpperCase()})}},{key:"update",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.listName+"> leyendo datos"),t=this.listURL+"/items?",""!=this.listFilter&&(t+="$filter="+this.listFilter+"&"),t+="$expand=fields",e.next=5,this.graphService.client.api(t).get().catch((function(e){o.graphService.errorAdd("read failed: "+JSON.stringify(e,null,2))}));case 5:i=e.sent,console.log(this.listName+"> leidos. "+i.value.length),this.datos=[],i.value.forEach((function(e){n=!0;var t=e.fields;o.altFilter.forEach((function(e){r=(r=""+t[e._field]).toUpperCase(),n=n&&r.search(e._contains)>-1})),n&&o.datos.push(t)})),0==this.datos.length&&window.alert("No se han encontrado resultados."),console.log(this.listName+"> filtrados: "+this.datos.length);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getItem",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(this.listName+"> leyendo item: "+e),t.next=3,this.graphService.client.api(this.listURL+"/items/"+e+"?expand=fields").get().catch((function(e){r.graphService.errorAdd("read failed: "+JSON.stringify(e,null,2))}));case 3:return n=t.sent,t.abrupt("return",(console.log(this.listName+"> leido "+e+" : "+n.fields.id),n));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"updateItem",value:function(e,t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.graphService.client.api(this.listURL+"/items/"+e+"/fields").update(t).catch((function(e){r.graphService.errorAdd("update failed: "+JSON.stringify(e,null,2))}));case 2:case"end":return n.stop()}}),n,this)})))}},{key:"addItem",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={fields:e},t.next=3,this.graphService.client.api(this.listURL+"/items").post(n).catch((function(e){r.graphService.errorAdd("read failed: "+JSON.stringify(e,null,2))}));case 3:return t.abrupt("return",t.sent.id);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"deleteItem",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.graphService.client.api(this.listURL+"/items/"+e).delete().catch((function(e){n.graphService.errorAdd("read failed: "+JSON.stringify(e,null,2))}));case 2:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||cw)(Ye(Ww))},cw.\u0275prov=he({token:cw,factory:cw.\u0275fac,providedIn:"root"}),cw),Jw=((uw=function(){function e(t){_classCallCheck(this,e),this.graphService=t,this.currentFolder={ID:"",name:"",path:"",url:""}}return _createClass(e,[{key:"openLibrary",value:function(e,t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.path=[],this.siteID=e,!this.graphService.authenticated){n.next=8;break}return this.libraryURL="https://graph.microsoft.com/v1.0/sites/"+this.siteID+"/drives/"+t,n.next=4,this.graphService.client.api(this.libraryURL+"/root").get().catch((function(e){i.graphService.errorAdd("no acces to library: "+JSON.stringify(e,null,2))}));case 4:r=n.sent,this.rootID=r.id,n.next=9;break;case 8:this.graphService.errorAdd("error leyendo folder: not logged"),this.rootID="";case 9:case"end":return n.stop()}}),n,this)})))}},{key:"initializeFolder",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("FolderService: iniciando folder"),this.path=[],t.next=4,this.readFolderContent(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"isRoot",value:function(){return 1==this.path.length}},{key:"readFolderContent",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.graphService.authenticated){t.next=21;break}return console.log("FolderService: leyendo folder "+e),n=this.libraryURL+"/root:"+e,t.next=5,this.graphService.client.api(n).get().catch((function(e){i.graphService.errorAdd("folder not found: "+JSON.stringify(e,null,2))}));case 5:if(!(r=t.sent)){t.next=18;break}return this.currentFolder.ID=r.id,this.currentFolder.url=r.webUrl,this.currentFolder.path=e,this.currentFolder.name=this.path.length>0?"> "+r.name:"["+r.name+"]",this.path.push({ID:this.currentFolder.ID,name:this.currentFolder.name,url:this.currentFolder.url,path:this.currentFolder.path}),console.log("FolderService: encontrado folder "+e),t.next=15,this.readFolder();case 15:console.log("FolderService: leido "+e),t.next=19;break;case 18:this.graphService.errorAdd("No se pudo leer la carpeta: "+e);case 19:t.next=22;break;case 21:this.graphService.errorAdd("error leyendo lista carpeta: not logged");case 22:case"end":return t.stop()}}),t,this)})))}},{key:"readFolder",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.folders=[],this.files=[],console.log("folderService: leyendo contenido ["+this.currentFolder.ID+"] "+this.currentFolder.path),t=this.libraryURL+"/items/"+this.currentFolder.ID+"/children",e.next=4,this.graphService.client.api(t).get().catch((function(e){i.graphService.errorAdd("no acces to library: "+JSON.stringify(e,null,2))}));case 4:for(n=e.sent.value,r=0;r<n.length;r++)n[r].folder?this.folders.push({name:n[r].name,id:n[r].id,webUrl:n[r].webUrl}):this.files.push({name:n[r].name,id:n[r].id,webUrl:n[r].webUrl});console.log("folder-service: folders read: "+this.folders.length),console.log("folder-service: files read: "+this.files.length);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"createFolderFromID",value:function(e,t){return nw(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,folder:{}},i=this.libraryURL+"/items/"+e+"/children",n.next=4,this.graphService.client.api(i).post(r).catch((function(e){o.graphService.errorAdd("error creating folder: "+JSON.stringify(e,null,2))}));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"createRootFolder",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.graphService.authenticated,!t.t0){t.next=10;break}if(console.log("FolderService: creando folder "+e),t.t1=""!=e,!t.t1){t.next=10;break}return t.next=7,this.createFolderFromID(this.rootID,e);case 7:return console.log("FolderService: folder creado"+e),t.next=10,this.readFolderContent("/"+e);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"createFolder",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.graphService.authenticated&&""!=e,!t.t0){t.next=4;break}return t.next=4,this.createFolderFromID(this.currentFolder.ID,e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"goToParent",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=this.path.pop();n.ID!=e;)n=this.path.pop();return t.next=4,this.readFolderContent(n.path);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"gotToChild",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readFolderContent(this.currentFolder.path+"/"+e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"fileExists",value:function(e){for(var t=!1,n=0;n<this.files.length;n++)this.files[n].name==e&&(t=!0);return t}},{key:"uploadFile",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,r=e.name,i=r.slice(0,r.lastIndexOf(".")),o=r.slice(r.lastIndexOf("."),r.length);this.fileExists(i+o);)i+=n,n++;return r=i+o,t.prev=3,a=this.libraryURL.substring(32,this.libraryURL.length)+"/items/"+this.currentFolder.ID+":/"+r+":/createUploadSession",s={item:{"@microsoft.graph.conflictBehavior":"fail",name:r}},u={size:e.size,content:e,name:r},t.next=9,Tw.createUploadSession(this.graphService.client,a,s);case 9:return c=t.sent,t.next=12,new Tw(this.graphService.client,u,c);case 12:return l=t.sent,t.next=15,l.upload();case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),this.graphService.errorAdd("unable to copy file: "+JSON.stringify(t.t0,null,2));case 20:case"end":return t.stop()}}),t,this,[[3,17]])})))}},{key:"deleteAll",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.libraryURL+"/items/"+this.path[0].ID,e.next=3,this.graphService.client.api(t).delete();case 3:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||uw)(Ye(Ww))},uw.\u0275prov=he({token:uw,factory:uw.\u0275fac,providedIn:"root"}),uw);function $w(e,t){if(1&e){var n=Ea();Ca(0,"span",20),Aa("click",(function(){return Qt(n),Ia().signOut()})),ja(1),wa()}if(2&e){var r=Ia();li(1),Ka("",r.user.displayName," - ",r.userType,"")}}function Xw(e,t){if(1&e){var n=Ea();Ca(0,"span",20),Aa("click",(function(){return Qt(n),Ia().loggear(!1)})),ja(1,"Sing In"),wa()}}function ek(e,t){1&e&&ka(0,"i",24)}function tk(e,t){if(1&e){var n=Ea();Ca(0,"div",21),Ca(1,"button",3),Aa("click",(function(){return Qt(n),Ia().leeLista()})),fa(2,ek,1,0,"i",22),ja(3),wa(),Ca(4,"button",3),Aa("click",(function(){return Qt(n),Ia().open("new")})),ja(5,"New report"),wa(),Ca(6,"app-list",23),Aa("clickItem",(function(e){return Qt(n),Ia().open(e)})),wa(),wa()}if(2&e){var r=Ia();li(2),ma("ngIf",r.updating),li(1),Ga(" Reports in Process (",r.listService.datos.length,") "),li(3),ma("datos",r.listService.datos)}}function nk(e,t){if(1&e){var n=Ea();Ca(0,"app-detalle",25),Aa("close",(function(){return Qt(n),Ia().leeLista()})),wa()}2&e&&ma("id",Ia().selectedID)}function rk(e,t){if(1&e&&(Ca(0,"p"),ja(1),wa()),2&e){var n=t.$implicit;li(1),qa(n)}}function ik(e,t){if(1&e&&(Ca(0,"div",26),fa(1,rk,2,1,"p",27),wa()),2&e){var n=Ia();li(1),ma("ngForOf",n.graphService.errorLog)}}var ok,ak="ac3e070e-9d41-4922-9b41-7c4abd138f74",sk="globalia.sharepoint.com,effc6e91-7a0c-4338-982e-af17ca2989bc,6800cd2f-1d5c-446e-a83d-52704ac940cf",uk="7fcc417c-3860-4204-a3a5-8528de3e1414",ck=[],lk="User",hk=((ok=function(){function e(t,n,r,i){_classCallCheck(this,e),this.graphService=t,this.fb=n,this.listService=r,this.folderService=i,this.title="e-SDR",this.selectedID="",this.items=[],this.userType="",this.updating=!0,this.show="list"}return _createClass(e,[{key:"ngOnInit",value:function(){this.loggear(!0)}},{key:"iniciar",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setUserType();case 2:return e.next=4,this.leeFleet();case 4:return e.next=6,this.iniciarLista();case 6:return e.next=8,this.folderService.openLibrary(sk,"b!kW787wx6OEOYLq8XyimJvC_NAGhcHW5EqD1ScErJQM9KsUWFftTPT5ligaC8n-Oz");case 8:case"end":return e.stop()}}),e,this)})))}},{key:"leeFleet",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("MAIN: leyendo lista ACs: "+ak),this.listService.siteID="globalia.sharepoint.com,effc6e91-7a0c-4338-982e-af17ca2989bc",e.next=4,this.listService.changeList(ak);case 4:return e.next=6,this.listService.update();case 6:console.log("MAIN: copiando ACs: "),this.listService.datos.forEach((function(e){e.AC_Reg!=e.FLEET&&ck.push({AC:e.AC_Reg,Fleet:e.FLEET})})),console.log("MAIN: copiandos "+ck.length);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"iniciarLista",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("MAIN: iniciando lista: "+uk),this.listService.siteID=sk,e.next=4,this.listService.changeList(uk);case 4:this.leeLista();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"leeLista",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("MAIN: leyendo lista: "+uk),this.show="list",this.updating=!0,"User"==lk&&this.listService.updateWebFilter("Status","Closed","ne"),e.next=6,this.listService.update();case 6:this.updating=!1;case 7:case"end":return e.stop()}}),e,this)})))}},{key:"open",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!=e&&(this.show="form",this.selectedID="new"==e?"":e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"help",value:function(e){document.getElementById("help-modal").style.display=e?"block":"none"}},{key:"signIn",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("MAIN: Logeando"),this.graphService.signIn.subscribe((function(e){console.log("MAIN: Logeado: "+t.user.displayName),console.log("   respuesta signIn: "+JSON.stringify(e)),t.iniciar()}),(function(e){console.log("MAIN: ERROR Logeando: "+e)}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"signOut",value:function(){window.confirm("Log Out?")&&this.graphService.signOut()}},{key:"loggear",value:function(e){return nw(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.signIn();case 2:this.graphService.authenticated&&(e?document.getElementById("user-modal").style.display="block":this.iniciar());case 3:case"end":return t.stop()}}),t,this)})))}},{key:"continueLog",value:function(){document.getElementById("user-modal").style.display="none",this.iniciar()}},{key:"cancelLog",value:function(){document.getElementById("user-modal").style.display="none",this.signOut()}},{key:"setUserType",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("MAIN: determinando usuario: "+this.user.email),this.listService.siteID=sk,e.next=4,this.listService.changeList("c0b7a3af-6c6f-433a-94cf-c6cf61c9a972");case 4:return e.next=6,this.listService.update();case 6:console.log("MAIN: usuarios leidos: "+this.listService.datos.length),lk="",this.listService.datos.forEach((function(e){e.Title==t.user.email&&(lk=e.Role)})),""==lk&&(console.log("MAIN: creando user: "+this.user.email),this.listService.addItem({Title:this.user.email,Role:lk="User"})),this.userType=lk,console.log("MAIN: user type: "+lk);case 12:case"end":return e.stop()}}),e,this)})))}},{key:"authenticated",get:function(){return this.graphService.authenticated}},{key:"user",get:function(){return this.graphService.user}}]),e}()).\u0275fac=function(e){return new(e||ok)(va(Ww),va(Lp),va(Zw),va(Jw))},ok.\u0275cmp=ht({type:ok,selectors:[["app-root"]],decls:33,vars:6,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],[1,"topnav"],["src","assets/logo_eSDR.jpg","alt","AEA",1,"logo"],[3,"click"],[1,"fa","fa-question-circle"],["class","right mano",3,"click",4,"ngIf"],[1,"recuadro","log","w10"],["id","help-modal",1,"modal"],[1,"modalBox","w10","flex-col","recuadro"],[3,"close"],["id","user-modal",1,"modal"],[1,"modalBox","w5","flex-col","recuadro"],[1,"w10","textoModal"],[1,"textoBold"],[1,"positionRef","h3"],[1,"center-right",3,"click"],[1,"center-left",3,"click"],["class","recuadro",4,"ngIf"],[3,"id","close",4,"ngIf"],["class","log w10",4,"ngIf"],[1,"right","mano",3,"click"],[1,"recuadro"],["class","fa fa-refresh fa-spin",4,"ngIf"],[3,"datos","clickItem"],[1,"fa","fa-refresh","fa-spin"],[3,"id","close"],[1,"log","w10"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(ka(0,"link",0),Ca(1,"div",1),ka(2,"img",2),Ca(3,"a"),ja(4," Structural Damage Report "),wa(),Ca(5,"button",3),Aa("click",(function(){return t.help(!0)})),ka(6,"i",4),wa(),fa(7,$w,2,2,"span",5),fa(8,Xw,2,0,"span",5),wa(),Ca(9,"div",6),ja(10," APLICACI\xd3N EN PRUEBAS. Es mandatorio rellenar el SDR en papel con el formato 510"),wa(),Ca(11,"div",7),Ca(12,"div",8),Ca(13,"app-help",9),Aa("close",(function(){return t.help(!1)})),wa(),wa(),wa(),Ca(14,"div",10),Ca(15,"div",11),Ca(16,"div",12),Ca(17,"p"),ja(18,"There is one user already logged to the application"),wa(),Ca(19,"p"),ja(20,"confirm that you are "),Ca(21,"span",13),ja(22),wa(),wa(),Ca(23,"p"),ja(24,"or cancel to log with other user name"),wa(),wa(),Ca(25,"div",14),Ca(26,"button",15),Aa("click",(function(){return t.continueLog()})),ja(27,"Continue"),wa(),Ca(28,"button",16),Aa("click",(function(){return t.cancelLog()})),ja(29,"Cancel"),wa(),wa(),wa(),wa(),fa(30,tk,7,3,"div",17),fa(31,nk,1,1,"app-detalle",18),fa(32,ik,2,1,"div",19)),2&e&&(li(7),ma("ngIf",t.authenticated),li(1),ma("ngIf",!t.authenticated),li(14),qa(t.user.displayName),li(8),ma("ngIf","list"==t.show),li(1),ma("ngIf","form"==t.show),li(1),ma("ngIf","Admin"==t.userType))},styles:[".topnav[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:18px;background-color:#007fc6;overflow:hidden}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-align:center;padding:14px 16px;text-decoration:none}.logo[_ngcontent-%COMP%], .topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;color:#f2f2f2}.logo[_ngcontent-%COMP%]{height:50px;margin:0;padding:0}.right[_ngcontent-%COMP%]{float:right;font-style:italic;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none}.mano[_ngcontent-%COMP%]{cursor:pointer}.textoBold[_ngcontent-%COMP%]{font-weight:700}.textoModal[_ngcontent-%COMP%]{width:100%;color:#007fc6;background-color:#fff;text-align:center;padding:.3em .2em;border:0;margin:0}"]}),ok);function dk(e,t){if(1&e){var n=Ea();Ca(0,"tr",6),Aa("click",(function(){Qt(n);var e=t.$implicit;return Ia().open(e.id)})),Ca(1,"td",1),ja(2),wa(),Ca(3,"td",2),ja(4),function(e,t){var n,r=Wt();r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if("date"===r.name)return r}throw new Error("The pipe 'date' could not be found!")}(0,r.pipeRegistry),r.data[25]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(25,n.onDestroy)):n=r.data[25];var i=n.factory||(n.factory=Ct(n.type)),o=We(va),a=Hn(!1),s=i();Hn(a),We(o),function(e,t,n,r){25>=e.data.length&&(e.data[25]=null,e.blueprint[25]=null),t[25]=r}(r,zt(),0,s)}(),wa(),Ca(6,"td",3),ja(7),wa(),Ca(8,"td",3),ja(9),wa(),Ca(10,"td",3),ja(11),wa(),Ca(12,"td",2),ja(13),wa(),Ca(14,"td",4),ja(15),wa(),Ca(16,"td",1),ja(17),wa(),Ca(18,"td",2),ja(19),wa(),wa()}if(2&e){var r=t.$implicit;li(2),qa(r.id),li(2),qa((i=5,o=9,a=r.Created,s="dd-MM-yy",u=zt(),c=Mt(u,i),function(e,t){return aa.isWrapped(t)&&(t=aa.unwrap(t),e[en()]=oi),t}(u,function(e,t){return e[1].data[t+20].pure}(u,i)?function(e,t,n,r,i,o,a){var s=t+n;return la(e,s,i,o)?function(e,t,n){return e[t]=n}(e,s+2,a?r.call(a,i,o):r(i,o)):function(e,t){var n=e[t];return n===oi?void 0:n}(e,s+2)}(u,function(){var e=Gt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),o,c.transform,a,s,c):c.transform(a,s)))),li(3),qa(r.FLEET),li(2),qa(r.REG),li(2),qa(r.STATION),li(2),qa(r.DISCOVERED),li(2),qa(r.CAUSE),li(2),qa(r.Item),li(2),qa(r.Status)}var i,o,a,s,u,c}var fk,pk=((fk=function(){function e(){_classCallCheck(this,e),this.datos=[],this.clickItem=new ru}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"open",value:function(e){this.clickItem.emit(e)}},{key:"getHeigth",value:function(e,t){return window.innerHeight-document.getElementById(e).offsetTop-t+"px"}}]),e}()).\u0275fac=function(e){return new(e||fk)},fk.\u0275cmp=ht({type:fk,selectors:[["app-list"]],inputs:{filter:"filter",datos:"datos"},outputs:{clickItem:"clickItem"},decls:24,vars:3,consts:[["id","ref",1,"listaFiles"],[1,"w1"],[1,"w3"],[1,"w2"],[1,"w4"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,t){1&e&&(Ca(0,"div",0),Ca(1,"table"),Ca(2,"thead"),Ca(3,"tr"),Ca(4,"th",1),ja(5,"ID"),wa(),Ca(6,"th",2),ja(7,"Date"),wa(),Ca(8,"th",3),ja(9,"Fleet"),wa(),Ca(10,"th",3),ja(11,"Reg"),wa(),Ca(12,"th",3),ja(13,"Station"),wa(),Ca(14,"th",2),ja(15,"Discovered"),wa(),Ca(16,"th",4),ja(17,"Cause"),wa(),Ca(18,"th",1),ja(19,"Item"),wa(),Ca(20,"th",2),ja(21,"Status"),wa(),wa(),wa(),Ca(22,"tbody"),fa(23,dk,20,12,"tr",5),wa(),wa(),wa()),2&e&&(li(22),Fa("height",t.getHeigth("ref",40)),li(1),ma("ngForOf",t.datos))},directives:[Pl],pipes:[yh],styles:[".listaFiles[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:100%;border:1px solid #ddd;font-family:Arial,Helvetica,sans-serif}tbody[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:block;overflow-x:auto}tbody[_ngcontent-%COMP%]{overflow-y:auto}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}tr[_ngcontent-%COMP%]:hover{background-color:#8995ad}th[_ngcontent-%COMP%]{background-color:#007fc6;color:#fff;font-weight:700}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:8px}.w1[_ngcontent-%COMP%]{width:80px}.w2[_ngcontent-%COMP%]{width:100px}.w3[_ngcontent-%COMP%]{width:130px}.w4[_ngcontent-%COMP%]{width:400px}"]}),fk);function vk(e,t){if(1&e&&(Ca(0,"div",2),Ca(1,"p",3),ja(2),wa(),wa()),2&e){var n=Ia();li(2),qa(n.label)}}function gk(e,t){if(1&e&&(Ca(0,"p",3),ja(1),wa()),2&e){var n=Ia(2);li(1),qa(n.label)}}function yk(e,t){if(1&e){var n=Ea();Ca(0,"div",2),fa(1,gk,2,1,"p",4),Ca(2,"input",5,6),Aa("change",(function(){Qt(n);var e=pa(3);return Ia().update(e.value)})),wa(),wa()}if(2&e){var r=Ia();li(1),ma("ngIf",r.label.length>0),li(1),ma("value",r.value)("readonly",r.isReadOnly)}}function mk(e,t){if(1&e&&(Ca(0,"p",3),ja(1),wa()),2&e){var n=Ia(2);li(1),qa(n.label)}}function _k(e,t){if(1&e){var n=Ea();Ca(0,"div",2),fa(1,mk,2,1,"p",4),Ca(2,"input",7,6),Aa("change",(function(){Qt(n);var e=pa(3);return Ia().update(e.value)})),wa(),wa()}if(2&e){var r=Ia();li(1),ma("ngIf",r.label.length>0),li(1),ma("value",r.getDate(r.value))("readonly",r.isReadOnly)}}function Ck(e,t){if(1&e){var n=Ea();Ca(0,"div",2),Ca(1,"p",8),Ca(2,"button",9),Aa("click",(function(){return Qt(n),Ia().deleteField()})),ja(3,"X"),wa(),ja(4),wa(),Ca(5,"input",10,6),Aa("change",(function(){Qt(n);var e=pa(6);return Ia().update(e.value)})),wa(),wa()}if(2&e){var r=Ia();li(4),qa(r.label),li(1),ma("value",r.value)("readonly",r.isReadOnly)}}function wk(e,t){if(1&e){var n=Ea();Ca(0,"div",2),Ca(1,"p",3),ja(2),wa(),Ca(3,"textarea",11,12),Aa("blur",(function(){Qt(n);var e=pa(4);return Ia().update(e.value)})),ja(5),wa(),wa()}if(2&e){var r=Ia();li(2),qa(r.label),li(1),ma("readonly",r.isReadOnly),li(2),qa(r.value)}}function kk(e,t){if(1&e&&(Ca(0,"option",18),ja(1),wa()),2&e){var n=t.$implicit;Da("value",n),li(1),qa(n)}}function Ek(e,t){if(1&e){var n=Ea();Ca(0,"select",15,16),Aa("change",(function(){Qt(n);var e=pa(1);return Ia(2).update(e.value)})),fa(2,kk,2,2,"option",17),wa()}if(2&e){var r=Ia(2);ma("id","r"+r.name)("value",r.value),li(2),ma("ngForOf",r.options)}}function bk(e,t){if(1&e&&(Ca(0,"div",19),ja(1),wa()),2&e){var n=Ia(2);li(1),qa(n.value)}}function Sk(e,t){if(1&e&&(Ca(0,"div",2),Ca(1,"p",3),ja(2),wa(),fa(3,Ek,3,3,"select",13),fa(4,bk,2,1,"div",14),wa()),2&e){var n=Ia();li(2),qa(n.label),li(1),ma("ngIf",!n.isReadOnly),li(1),ma("ngIf",n.isReadOnly)}}function Ak(e,t){if(1&e){var n=Ea();Ca(0,"div",2),Ca(1,"input",20,21),Aa("change",(function(){Qt(n);var e=pa(2);return Ia().update(e.checked)})),wa(),Ca(3,"span",8),ja(4),wa(),wa()}if(2&e){var r=Ia();li(1),ma("value",r.value)("checked",r.isChecked()),li(3),qa(r.label)}}var Tk,Rk,Ik=((Rk=function(){function e(){_classCallCheck(this,e),this.name="",this.label="label",this.type="Text",this.options=[],this.isReadOnly=!1,this.change=new ru,this.delete=new ru}return _createClass(e,[{key:"ngOnInit",value:function(){if("Select"==this.type){for(var e=0;e<this.options.length&&this.options[e]!=this.value;)e++;if(e<this.options.length){for(;e>0;)this.options[e]=this.options[e-1],e--;this.options[0]=this.value}}}},{key:"getDate",value:function(e){if(e){var t=new Date(e);if(isNaN(t.valueOf()))e=null;else{var n=t.valueOf()-6e4*t.getTimezoneOffset();e=new Date(n).toISOString().slice(0,16)}}else e=null;return e}},{key:"select",value:function(e){this.update(e)}},{key:"update",value:function(e){this.value=e,"DateTime"==this.type&&(e=new Date(e).toISOString()),console.log(this.label+" cambiado "+e),this.change.emit(JSON.parse('{"name": "'+this.name+'", "value": "'+e+'"}'))}},{key:"deleteField",value:function(){this.delete.emit(JSON.parse('{"name": "'+this.name+'"}'))}},{key:"isChecked",value:function(){return this.value}},{key:"isSelected",value:function(e){return this.value==e}},{key:"writeValue",value:function(e){this.value=e&&e||""}}]),e}()).\u0275fac=function(e){return new(e||Rk)},Rk.\u0275cmp=ht({type:Rk,selectors:[["app-input-card"]],inputs:{name:"name",label:"label",type:"type",options:"options",isReadOnly:"isReadOnly",value:"value"},outputs:{change:"change",delete:"delete"},decls:8,vars:7,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],["class","w10",4,"ngIf"],[1,"w10"],[1,"etiqueta"],["class","etiqueta",4,"ngIf"],["type","text",1,"valor",3,"value","readonly","change"],["t",""],["type","datetime-local",1,"valor",3,"value","readonly","change"],[1,"check"],[1,"aspa",3,"click"],["type","text",1,"valorLinea",3,"value","readonly","change"],["rows","5","name","area",1,"valor","h3",3,"readonly","blur"],["a",""],["class","valor combo",3,"id","value","change",4,"ngIf"],["class","valor",4,"ngIf"],[1,"valor","combo",3,"id","value","change"],["s",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"valor"],["type","checkbox",3,"value","checked","change"],["c",""]],template:function(e,t){1&e&&(ka(0,"link",0),fa(1,vk,3,1,"div",1),fa(2,yk,4,3,"div",1),fa(3,_k,4,3,"div",1),fa(4,Ck,7,3,"div",1),fa(5,wk,6,3,"div",1),fa(6,Sk,5,3,"div",1),fa(7,Ak,5,3,"div",1)),2&e&&(li(1),ma("ngIf","Label"==t.type),li(1),ma("ngIf","Text"==t.type),li(1),ma("ngIf","DateTime"==t.type),li(1),ma("ngIf","ChkText"==t.type),li(1),ma("ngIf","TextArea"==t.type),li(1),ma("ngIf","Select"==t.type),li(1),ma("ngIf","Check"==t.type))},directives:[Fl,Pl,wf,Tf],styles:["div[_ngcontent-%COMP%]{display:inline-block;margin:0;padding-right:.2em;border:0;color:#007fc6;font-weight:700}.check[_ngcontent-%COMP%]{color:#000;font-weight:400}.check[_ngcontent-%COMP%], .etiqueta[_ngcontent-%COMP%]{padding:.3em .2em;border:0;margin:0}.etiqueta[_ngcontent-%COMP%]{width:100%;color:#007fc6;background-color:#fff;font-weight:700}.valor[_ngcontent-%COMP%]{width:100%}.valor[_ngcontent-%COMP%], .valorLinea[_ngcontent-%COMP%]{padding:.3em .2em;border-width:0;border-style:hidden;margin:0 0 .3em;color:#000;background-color:#bbe5ff}.valorLinea[_ngcontent-%COMP%]{min-width:5em}.aspa[_ngcontent-%COMP%]{padding:.1em .2em;font-size:14px;border-width:0;border-style:hidden;border-radius:2px;margin:.2em 1em .5em 0;color:#fff;background-color:#f08080}.valor[_ngcontent-%COMP%]:-moz-read-only{padding:.3em .2em;margin:0;color:#000;border-color:#fff;background-color:#fff}.valor[_ngcontent-%COMP%]:read-only{padding:.3em .2em;margin:0;color:#000;border-color:#fff;background-color:#fff}.combo[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]{width:100%}.dropdown[_ngcontent-%COMP%]{padding:.3em .2em;border:0;margin:0;color:#000;background-color:#bbe5ff;position:relative;display:block}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#bbe5ff;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.3em .2em;border:0;margin:0;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#007fc6;color:#fff}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}"]}),Rk),Dk=((Tk=function(){function e(t){_classCallCheck(this,e),this.sanitizer=t,this.files=new ru,this.background="white"}return _createClass(e,[{key:"onDragOver",value:function(e){e.dataTransfer.dropEffect="copy",e.preventDefault(),e.stopPropagation(),this.background="#999"}},{key:"onDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.background="white"}},{key:"onDrop",value:function(e){e.preventDefault(),e.stopPropagation(),this.background="white";for(var t=[],n=0;n<e.dataTransfer.files.length;n++){var r=e.dataTransfer.files[n],i=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(r));t.push({file:r,url:i})}t.length>0&&this.files.emit(t)}}]),e}()).\u0275fac=function(e){return new(e||Tk)(va(_d))},Tk.\u0275dir=yt({type:Tk,selectors:[["","appDragDrop",""]],hostVars:2,hostBindings:function(e,t){1&e&&Aa("dragover",(function(e){return t.onDragOver(e)}))("dragleave",(function(e){return t.onDragLeave(e)}))("drop",(function(e){return t.onDrop(e)})),2&e&&Fa("background",t.background,Gr)},outputs:{files:"files"}}),Tk);function Ok(e,t){if(1&e){var n=Ea();Ca(0,"div",13),ka(1,"i",14),Ca(2,"span",15),Aa("click",(function(){Qt(n);var e=t.$implicit;return Ia(2).openFolder(e.name)})),ja(3),wa(),wa()}if(2&e){var r=t.$implicit;li(3),Ga(" ",r.name,"")}}function xk(e,t){if(1&e){var n=Ea();Ca(0,"div",13),ka(1,"i",16),Ca(2,"span",15),Aa("click",(function(){Qt(n);var e=t.$implicit;return Ia(2).openFile(e.webUrl)})),ja(3),wa(),wa()}if(2&e){var r=t.$implicit;li(3),Ga(" ",r.name,"")}}function Pk(e,t){if(1&e){var n=Ea();Ca(0,"div",11),Aa("files",(function(e){return Qt(n),Ia().filesDropped(e)})),fa(1,Ok,4,1,"div",12),fa(2,xk,4,1,"div",12),wa()}if(2&e){var r=Ia();Fa("height",r.getHeight("refCarpeta",80)),li(1),ma("ngForOf",r.folderService.folders),li(1),ma("ngForOf",r.folderService.files)}}var Nk,Fk=((Nk=function(){function e(t){_classCallCheck(this,e),this.folderService=t,this.showCamera=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"navigateBack",value:function(e){this.folderService.goToParent(e)}},{key:"openFolder",value:function(e){this.folderService.gotToChild(e)}},{key:"openFile",value:function(e){window.open(e)}},{key:"upload",value:function(e){var t=this,n=0;this.message="starting upload";for(var r=0;r<e.length;r++)this.folderService.uploadFile(e[r]).then((function(){n++,t.message="uploaded "+n+" of "+e.length,n==e.length&&(t.message="",t.folderService.readFolder())}))}},{key:"openCamera",value:function(){this.showCamera=!0}},{key:"closeCamera",value:function(){this.showCamera=!1}},{key:"savePicture",value:function(e){console.log("pcture received",e)}},{key:"openSharepoint",value:function(){window.open(this.folderService.currentFolder.url)}},{key:"filesDropped",value:function(e){var t=this,n=0;this.message="starting upload";for(var r=0;r<e.length;r++)this.folderService.uploadFile(e[r].file).then((function(){n++,t.message="uploaded "+n+" of "+e.length,n==e.length&&(t.message="",t.folderService.readFolder())}))}},{key:"nuevaCarpeta",value:function(){document.getElementById("newFolder").style.display="block"}},{key:"newSubfolder",value:function(e){var t=this;""!=e&&(document.getElementById("newFolder").style.display="none",this.folderService.createFolder(e).then((function(){t.folderService.readFolder()})))}},{key:"cancelNew",value:function(){document.getElementById("newFolder").style.display="none"}},{key:"crearCarpeta",value:function(){}},{key:"getHeight",value:function(e,t){return window.innerHeight-document.getElementById(e).offsetTop-t+"px"}}]),e}()).\u0275fac=function(e){return new(e||Nk)(va(Jw))},Nk.\u0275cmp=ht({type:Nk,selectors:[["app-carpeta"]],decls:13,vars:1,consts:[["id","refCarpeta",1,"flex-col","w10",2,"position","relative"],[1,"flex-row","w10"],[1,"fw5",3,"click"],[1,"fa","fa-upload"],["type","file","name","filename",2,"display","none",3,"change"],["fileInput",""],[1,"fa","fa-camera"],["type","file","accept","image/*","capture","environment","name","filename",2,"display","none",3,"change"],["cameraInput",""],[1,"fa","fa-folder-open"],["class","w10 recuadro listaArchivos","appDragDrop","",3,"height","files",4,"ngIf"],["appDragDrop","",1,"w10","recuadro","listaArchivos",3,"files"],["class","flex-row w10 fila",4,"ngFor","ngForOf"],[1,"flex-row","w10","fila"],[1,"ico","fa","fa-folder-o"],[1,"archivo",3,"click"],[1,"ico","fa","fa-file-image-o"]],template:function(e,t){if(1&e){var n=Ea();Ca(0,"div",0),Ca(1,"div",1),Ca(2,"button",2),Aa("click",(function(){return Qt(n),pa(5).click()})),ka(3,"i",3),Ca(4,"input",4,5),Aa("change",(function(e){return t.upload(e.target.files)})),wa(),wa(),Ca(6,"button",2),Aa("click",(function(){return Qt(n),pa(9).click()})),ka(7,"i",6),Ca(8,"input",7,8),Aa("change",(function(e){return t.upload(e.target.files)})),wa(),wa(),Ca(10,"button",2),Aa("click",(function(){return t.openSharepoint()})),ka(11,"i",9),wa(),wa(),fa(12,Pk,3,4,"div",10),wa()}2&e&&(li(12),ma("ngIf",""!=t.folderService.currentFolder.ID))},directives:[Fl,Dk,Pl],styles:[".ico[_ngcontent-%COMP%]{padding:12px 0 4px}.archivo[_ngcontent-%COMP%]{padding:12px 8px 4px}.archivo[_ngcontent-%COMP%]:hover{background-color:#bbe5ff;cursor:pointer}.listaArchivos[_ngcontent-%COMP%]{display:block;overflow-y:auto}"]}),Nk);function Mk(e,t){if(1&e){var n=Ea();Ca(0,"app-input-card",32),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa()}2&e&&ma("value",Ia().DATO.DISCOVERED_CHECK)}function Uk(e,t){if(1&e){var n=Ea();Ca(0,"app-input-card",33),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa()}2&e&&ma("value",Ia().DATO.CAUSE_OTHER)}function Lk(e,t){if(1&e){var n=Ea();Ca(0,"button",13),Aa("click",(function(){return Qt(n),Ia(2).toggleAttachments()})),ja(1,"Show Details"),wa()}}function Hk(e,t){if(1&e){var n=Ea();Ca(0,"button",13),Aa("click",(function(){return Qt(n),Ia(2).toggleAttachments()})),ja(1),wa()}if(2&e){var r=Ia(2);li(1),Ga("Show Attachments (",r.folderService.files.length,")")}}function Vk(e,t){if(1&e&&(Ca(0,"div",34),fa(1,Lk,2,0,"button",35),fa(2,Hk,2,1,"button",35),wa()),2&e){var n=Ia();li(1),ma("ngIf",n.showAttachments),li(1),ma("ngIf",!n.showAttachments)}}function Bk(e,t){if(1&e&&(Ca(0,"div",36),ja(1),wa()),2&e){var n=Ia();li(1),qa(n.DATO.RejectReason)}}function jk(e,t){if(1&e){var n=Ea();Ca(0,"app-input-card",75),Aa("change",(function(e){return Qt(n),Ia(2).onChangeLOC(e)}))("delete",(function(e){return Qt(n),Ia(2).onDeleteLOC(e)})),wa()}if(2&e){var r=t.$implicit;ma("label",r.label)("name",r.label)("value",r.value)}}function qk(e,t){if(1&e){var n=Ea();Ca(0,"app-input-card",75),Aa("change",(function(e){return Qt(n),Ia(2).onChangeDistance(e)}))("delete",(function(e){return Qt(n),Ia(2).onDeleteDistance(e)})),wa()}if(2&e){var r=t.$implicit;ma("label",r.label)("name",r.label)("value",r.value)}}function Gk(e,t){if(1&e){var n=Ea();Ca(0,"app-input-card",76),Aa("change",(function(e){return Qt(n),Ia(2).changeValue(e)})),wa()}2&e&&ma("value",Ia(2).DATO.INSP_NDT_TEC)}function Kk(e,t){if(1&e){var n=Ea();Ca(0,"app-input-card",77),Aa("change",(function(e){return Qt(n),Ia(2).changeValue(e)})),wa()}2&e&&ma("value",Ia(2).DATO.INSP_OTH_DESC)}function zk(e,t){if(1&e){var n=Ea();Ca(0,"app-input-card",78),Aa("change",(function(e){return Qt(n),Ia(2).changeValue(e)})),wa()}2&e&&ma("value",Ia(2).DATO.DEF_OTHER)}function Wk(e,t){if(1&e){var n=Ea();Ca(0,"app-input-card",79),Aa("change",(function(e){return Qt(n),Ia(2).changeValue(e)})),wa()}2&e&&ma("value",Ia(2).DATO.DEF_SIZE_TYPE)}function Qk(e,t){if(1&e){var n=Ea();Ca(0,"app-input-card",80),Aa("change",(function(e){return Qt(n),Ia(2).changeValue(e)})),wa()}2&e&&ma("value",Ia(2).DATO.DEF_SIZE_TYPE)}function Yk(e,t){if(1&e){var n=Ea();Ca(0,"app-input-card",75),Aa("change",(function(e){return Qt(n),Ia(2).onChangeDimension(e)}))("delete",(function(e){return Qt(n),Ia(2).onDeleteDimension(e)})),wa()}if(2&e){var r=t.$implicit;ma("label",r.label)("name",r.label)("value",r.value)}}function Zk(e,t){if(1&e){var n=Ea();Ca(0,"div",37),Ca(1,"div",38),Ca(2,"div",1),ka(3,"app-input-card",39),Ca(4,"app-input-card",40),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(5,"app-input-card",41),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(6,"app-input-card",42),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),wa(),Ca(7,"div",1),Ca(8,"app-input-card",43),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(9,"app-input-card",44),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(10,"app-input-card",45),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(11,"app-input-card",46),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),wa(),Ca(12,"div",1),Ca(13,"app-input-card",47),Aa("change",(function(e){return Qt(n),Ia().detLocSelected(e)})),wa(),Ca(14,"button",15),Aa("click",(function(){return Qt(n),Ia().addDetLoc()})),ja(15,"Add location"),wa(),wa(),Ca(16,"div",1),fa(17,jk,1,3,"app-input-card",48),wa(),Ca(18,"div",1),Ca(19,"app-input-card",49),Aa("change",(function(e){return Qt(n),Ia().distancesSelected(e)})),wa(),Ca(20,"button",15),Aa("click",(function(){return Qt(n),Ia().addDistance()})),ja(21,"Add measurement"),wa(),wa(),Ca(22,"div",1),fa(23,qk,1,3,"app-input-card",48),wa(),wa(),Ca(24,"div",38),Ca(25,"div",1),ka(26,"app-input-card",50),ka(27,"app-input-card",51),Ca(28,"app-input-card",52),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(29,"app-input-card",53),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(30,"app-input-card",54),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(31,"app-input-card",55),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),fa(32,Gk,1,1,"app-input-card",56),Ca(33,"app-input-card",57),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),fa(34,Kk,1,1,"app-input-card",58),wa(),Ca(35,"div",1),Ca(36,"app-input-card",59),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),fa(37,zk,1,1,"app-input-card",60),Ca(38,"app-input-card",61),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),fa(39,Wk,1,1,"app-input-card",62),fa(40,Qk,1,1,"app-input-card",63),wa(),Ca(41,"div",1),Ca(42,"app-input-card",64),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(43,"app-input-card",65),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(44,"app-input-card",66),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(45,"app-input-card",67),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(46,"button",13),Aa("click",(function(){return Qt(n),Ia().openNewDimension()})),ja(47,"Add Dimension"),wa(),wa(),Ca(48,"div",1),fa(49,Yk,1,3,"app-input-card",48),wa(),wa(),Ca(50,"div",38),Ca(51,"div",1),ka(52,"app-input-card",68),Ca(53,"app-input-card",69),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),wa(),Ca(54,"div",1),Ca(55,"app-input-card",70),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(56,"app-input-card",71),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(57,"app-input-card",72),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),Ca(58,"app-input-card",73),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),wa(),Ca(59,"div",1),Ca(60,"app-input-card",74),Aa("change",(function(e){return Qt(n),Ia().changeValue(e)})),wa(),wa(),wa(),wa()}if(2&e){var r=Ia();li(4),ma("value",r.DATO.GEN_LOC)("options",r.genLocOp),li(1),ma("value",r.DATO.GEN_LOC_DES),li(1),ma("value",r.DATO.UNITS)("options",r.unitsOp),li(2),ma("value",r.DATO.PartName)("isReadOnly",r.isNew()),li(1),ma("value",r.DATO.PartNumber)("isReadOnly",r.isNew()),li(1),ma("value",r.DATO.SerialNumber)("isReadOnly",r.isNew()),li(1),ma("value",r.DATO.ManualRef)("isReadOnly",r.isNew()),li(2),ma("options",r.detLocOp),li(1),ma("disabled",r.isAddedDetLoc()),li(3),ma("ngForOf",r.DATO.detailed),li(2),ma("options",r.distancesOp),li(1),ma("disabled",r.isAddedDistance()),li(3),ma("ngForOf",r.DATO.distances),li(5),ma("value",r.DATO.INSP_TAP)("isReadOnly",r.isNew()),li(1),ma("value",r.DATO.INSP_VIS)("isReadOnly",r.isNew()),li(1),ma("value",r.DATO.INSP_MAG)("isReadOnly",r.isNew()),li(1),ma("value",r.DATO.INSP_NDT)("isReadOnly",r.isNew()),li(1),ma("ngIf",r.DATO.INSP_NDT),li(1),ma("value",r.DATO.INSP_OTH)("isReadOnly",r.isNew()),li(1),ma("ngIf",r.DATO.INSP_OTH),li(2),ma("value",r.DATO.DEF_TYPE)("options",r.defTypeOp),li(1),ma("ngIf","OTHER"==r.DATO.DEF_TYPE),li(1),ma("value",r.DATO.PART_TYPE)("options",r.partTypeOp),li(1),ma("ngIf","METALLIC"==r.DATO.PART_TYPE),li(1),ma("ngIf","COMPOSITE"==r.DATO.PART_TYPE),li(2),ma("value",r.DATO.DEF_SIZE_LENGTH),li(1),ma("value",r.DATO.DEF_SIZE_WIDTH),li(1),ma("value",r.DATO.DEF_SIZE_DEPTH),li(1),ma("value",r.DATO.DEF_SIZE_AREA),li(4),ma("ngForOf",r.DATO.measurements),li(4),ma("value",r.DATO.AOG)("isReadOnly",r.isNew()),li(2),ma("value",r.DATO.REP_REF),li(1),ma("value",r.DATO.TLP),li(1),ma("value",r.DATO.Item),li(1),ma("value",r.DATO.ADD),li(2),ma("value",r.DATO.Remarks)}}function Jk(e,t){1&e&&(Ca(0,"div",81),ja(1," The NEW SDR will be created"),wa())}function $k(e,t){if(1&e&&(Ca(0,"ul"),ja(1),wa()),2&e){var n=t.$implicit;li(1),qa(n)}}function Xk(e,t){if(1&e&&(Ca(0,"div",81),Ca(1,"p"),ja(2,"There are errors in the initial data. The SDR can not be created."),wa(),fa(3,$k,2,1,"ul",82),wa()),2&e){var n=Ia();li(3),ma("ngForOf",n.erroresSubmit)}}function eE(e,t){1&e&&(Ca(0,"div",81),ja(1," The SDR will be sumbited to Engineering for its analisys"),wa())}function tE(e,t){if(1&e&&(Ca(0,"ul"),ja(1),wa()),2&e){var n=t.$implicit;li(1),qa(n)}}function nE(e,t){if(1&e&&(Ca(0,"div",81),Ca(1,"p"),ja(2,"There are errors in the SDR. It can not be submitted."),wa(),fa(3,tE,2,1,"ul",82),wa()),2&e){var n=Ia();li(3),ma("ngForOf",n.erroresSubmit)}}function rE(e,t){1&e&&ka(0,"app-carpeta",83),2&e&&Fa("height",Ia().getHeight("refAttachments",16))}var iE,oE,aE,sE,uE,cE,lE=((aE=function(){function e(t,n,r){_classCallCheck(this,e),this.graphService=t,this.folderService=n,this.listService=r,this.id="",this.close=new ru,this.unitsOp=["mm","inch"],this.unitsSel="mm",this.detLocOp=["Frame","Stringer","Rib","Clock pos (looking FWD)","Inner face","Outer Face","Other"],this.detLocSel="Frame",this.distancesOp=["Nearest fastener row","Nearest cutout","Lower edge","Upper edge","I/B edge","O/B edge","Existing repair"],this.distancesSel="Nearest fastener row",this.showAttachments=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.iniciar()}},{key:"iniciar",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.erroresSubmit=[],t=[],this.regOp=[],t.push("---"),ck.forEach((function(e){t.push(e.AC)})),this.regOp=t.sort(),e.next=8,this.listService.getOptions("DISCOVERED");case 8:return this.discoveredOp=e.sent,e.next=11,this.listService.getOptions("CAUSE");case 11:return this.causeOp=e.sent,e.next=14,this.listService.getOptions("GEN_LOC");case 14:return this.genLocOp=e.sent,e.next=17,this.listService.getOptions("DEF_TYPE");case 17:return this.defTypeOp=e.sent,e.next=20,this.listService.getOptions("PART_TYPE");case 20:this.partTypeOp=e.sent,this.open();case 22:case"end":return e.stop()}}),e,this)})))}},{key:"getFleet",value:function(e){var t;return ck.forEach((function(n){n.AC==e&&(t=n.Fleet)})),t}},{key:"open",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=this.id){e.next=4;break}this.DATO={FLEET:this.getFleet(this.regOp[0]),REG:this.regOp[0],STATION:"",DISCOVERED:this.discoveredOp[0],DISCOVERED_CHECK:"",CAUSE:this.causeOp[0],CAUSE_OTHER:"",INSP_TAP:!1,INSP_VIS:!1,INSP_MAG:!1,INSP_NDT:!1,INSP_NDT_TEC:"",INSP_OTH:!1,INSP_OTH_DESC:"",GEN_LOC:this.genLocOp[0],GEN_LOC_DES:"",DET_LOC:[],DEF_TYPE:this.defTypeOp[0],DEF_OTHER:"",DEF_SIZE_LENGTH:"",DEF_SIZE_WIDTH:"",DEF_SIZE_DEPTH:"",DEF_SIZE_AREA:"",PART_TYPE:this.partTypeOp[0],DEF_SIZE_TYPE:"",AOG:!1,REP_REF:"",TLP:"",ADD:"",Remarks:"",EnviadoPor:"",Item:"",Status:"New",UNITS:this.unitsSel,detailed:[],distances:[]},e.next=9;break;case 4:return e.next=6,this.listService.getItem(this.id).catch((function(e){i.graphService.errorAdd("item not found: "+JSON.stringify(e,null,2))}));case 6:n=e.sent,r=n.fields.Created,t=n.fields.RejectReason?n.fields.RejectReason:"",this.DATO={FLEET:n.fields.FLEET,REG:n.fields.REG,Item:this.valorString(n.fields.Item),Creado:r,STATION:this.valorString(n.fields.STATION),DISCOVERED:this.valorString(n.fields.DISCOVERED),DISCOVERED_CHECK:this.valorString(n.fields.DISCOVERED_CHECK),CAUSE:this.valorString(n.fields.CAUSE),CAUSE_OTHER:this.valorString(n.fields.CAUSE_OTHER),PartName:this.valorString(n.fields.PartName),PartNumber:this.valorString(n.fields.PartNumber),SerialNumber:this.valorString(n.fields.SerialNumber),ManualRef:this.valorString(n.fields.ManualRef),INSP_TAP:this.valorBoolean(n.fields.INSP_TAP),INSP_VIS:this.valorBoolean(n.fields.INSP_VIS),INSP_MAG:this.valorBoolean(n.fields.INSP_MAG),INSP_NDT:this.valorBoolean(n.fields.INSP_NDT),INSP_NDT_TEC:this.valorString(n.fields.INSP_NDT_TEC),INSP_OTH:n.fields.INSP_OTH,INSP_OTH_DESC:this.valorString(n.fields.INSP_OTH_DESC),GEN_LOC:this.valorString(n.fields.GEN_LOC),GEN_LOC_DES:this.valorString(n.fields.GEN_LOC_DES),DEF_TYPE:this.valorString(n.fields.DEF_TYPE),DEF_OTHER:this.valorString(n.fields.DEF_OTHER),DEF_SIZE_LENGTH:this.valorString(n.fields.DEF_SIZE_LENGTH),DEF_SIZE_WIDTH:this.valorString(n.fields.DEF_SIZE_WIDTH),DEF_SIZE_DEPTH:this.valorString(n.fields.DEF_SIZE_DEPTH),DEF_SIZE_AREA:this.valorString(n.fields.DEF_SIZE_AREA),PART_TYPE:this.valorString(n.fields.PART_TYPE),DEF_SIZE_TYPE:this.valorString(n.fields.DEF_SIZE_TYPE),AOG:this.valorBoolean(n.fields.AOG),REP_REF:this.valorString(n.fields.REP_REF),TLP:this.valorString(n.fields.TLP),ADD:this.valorString(n.fields.ADD),Remarks:this.valorString(n.fields.Remarks),EnviadoPor:this.valorString(n.fields.EnviadoPor),RejectReason:t,Status:this.valorString(n.fields.Status),UNITS:this.valorString(n.fields.UNITS)},this.DATO.detailed=[],n.fields.DET_LOC&&(this.DATO.detailed=JSON.parse(n.fields.DET_LOC)),this.DATO.distances=[],n.fields.DISTANCES&&(this.DATO.distances=JSON.parse(n.fields.DISTANCES)),this.DATO.measurements=[],n.fields.MEASUREMENTS&&(this.DATO.measurements=JSON.parse(n.fields.MEASUREMENTS)),this.folderService.initializeFolder("/"+this.id);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"valorString",value:function(e){var t="";return e&&(t=e),t}},{key:"valorBoolean",value:function(e){var t=!1;return e&&(t=e),t}},{key:"cerrar",value:function(){this.close.emit()}},{key:"changeValue",value:function(e){if(e.name){var t;switch(console.log("Update ID:"+this.id+" field: "+e.name+"   valor: "+e.value),e.name){case"REG":var n=this.getFleet(e.value);this.DATO.REG=e.value,this.DATO.FLEET=n,t={REG:e,FLEET:n};break;default:this.DATO[e.name]=e.value,t=JSON.parse('{"'+e.name+'": "'+e.value+'"}')}this.isNew()||this.listService.updateItem(this.id,t)}}},{key:"detLocSelected",value:function(e){console.log("updating detLocSel -> input "+JSON.stringify(e)),e.value&&(console.log("updating detLocSel from "+this.detLocSel+" to: "+JSON.stringify(e)),this.detLocSel=e.value)}},{key:"isAddedDetLoc",value:function(){var e=this,t=!1;return this.DATO.detailed.forEach((function(n){n.label==e.detLocSel&&(t=!0)})),t}},{key:"addDetLoc",value:function(){var e=JSON.parse('{"label":"'+this.detLocSel+'","value": ""}');this.DATO.detailed.push(e),e={DET_LOC:JSON.stringify(this.DATO.detailed)},this.isNew()||this.listService.updateItem(this.id,e)}},{key:"onChangeLOC",value:function(e){if(e.name){console.log("Update ID:"+this.id+" field: "+e.name+"   valor: "+e.value);for(var t=0;t<this.DATO.detailed.length;t++)this.DATO.detailed[t].label==e.name&&(this.DATO.detailed[t].value=e.value);var n={DET_LOC:JSON.stringify(this.DATO.detailed)};this.isNew()||this.listService.updateItem(this.id,n)}}},{key:"onDeleteLOC",value:function(e){if(e.name){for(var t=[],n=0;n<this.DATO.detailed.length;n++)this.DATO.detailed[n].label!=e.name&&t.push(this.DATO.detailed[n]);this.DATO.detailed=t;var r={DET_LOC:JSON.stringify(this.DATO.detailed)};this.isNew()||this.listService.updateItem(this.id,r)}}},{key:"distancesSelected",value:function(e){console.log("updating distancesSel -> input "+JSON.stringify(e)),e.value&&(console.log("updating distances from "+this.distancesSel+" to: "+JSON.stringify(e)),this.distancesSel=e.value)}},{key:"isAddedDistance",value:function(){var e=this,t=!1;return this.DATO.distances.forEach((function(n){n.label==e.distancesSel&&(t=!0)})),t}},{key:"addDistance",value:function(){var e=JSON.parse('{"label":"'+this.distancesSel+'","value": ""}');this.DATO.distances.push(e),e={DISTANCES:JSON.stringify(this.DATO.distances)},this.isNew()||this.listService.updateItem(this.id,e)}},{key:"onChangeDistance",value:function(e){if(e.name){console.log("Update ID:"+this.id+" field: "+e.name+"   valor: "+e.value);for(var t=0;t<this.DATO.distances.length;t++)this.DATO.distances[t].label==e.name&&(this.DATO.distances[t].value=e.value);var n={DISTANCES:JSON.stringify(this.DATO.distances)};this.isNew()||this.listService.updateItem(this.id,n)}}},{key:"onDeleteDistance",value:function(e){if(e.name){for(var t=[],n=0;n<this.DATO.distances.length;n++)this.DATO.distances[n].label!=e.name&&t.push(this.DATO.distances[n]);this.DATO.distances=t;var r={DISTANCES:JSON.stringify(this.DATO.distances)};this.isNew()||this.listService.updateItem(this.id,r)}}},{key:"openNewDimension",value:function(){this.newDimensionName="",document.getElementById("newDimension").style.display="block"}},{key:"changeNewDimension",value:function(e){e.value&&(this.newDimensionName=e.value)}},{key:"cancelNewDimension",value:function(){this.newDimensionName="",document.getElementById("newDimension").style.display="none"}},{key:"addNewDimension",value:function(){document.getElementById("newDimension").style.display="none";var e=JSON.parse('{"label":"'+this.newDimensionName+'","value": ""}');this.DATO.measurements.push(e),e={MEASUREMENTS:JSON.stringify(this.DATO.measurements)},this.isNew()||this.listService.updateItem(this.id,e)}},{key:"onChangeDimension",value:function(e){if(e.name){console.log("Update ID:"+this.id+" field: "+e.name+"   valor: "+e.value);for(var t=0;t<this.DATO.measurements.length;t++)this.DATO.measurements[t].label==e.name&&(this.DATO.measurements[t].value=e.value);var n={MEASUREMENTS:JSON.stringify(this.DATO.measurements)};this.isNew()||this.listService.updateItem(this.id,n)}}},{key:"onDeleteDimension",value:function(e){if(e.name){for(var t=[],n=0;n<this.DATO.measurements.length;n++)this.DATO.measurements[n].label!=e.name&&t.push(this.DATO.measurements[n]);this.DATO.measurements=t;var r={MEASUREMENTS:JSON.stringify(this.DATO.measurements)};this.isNew()||this.listService.updateItem(this.id,r)}}},{key:"isNew",value:function(){return""==this.id}},{key:"isRejected",value:function(){var e=!1;return this.DATO.Status&&(e="Correct"==this.DATO.Status),e}},{key:"canSubmmit",value:function(){var e=!1;return this.DATO.Status&&(e="Draft"==this.DATO.Status||"Correct"==this.DATO.Status),""!=this.id&&e}},{key:"canReject",value:function(){var e=!1;return this.DATO.Status&&(e="Open"==this.DATO.Status),""!=this.id&&e}},{key:"canAccept",value:function(){var e=!1;return this.DATO.Status&&(e="Open"==this.DATO.Status),""!=this.id&&"User"!=lk&&e}},{key:"toggleAttachments",value:function(){this.showAttachments=!this.showAttachments}},{key:"checkHeader",value:function(){"---"==this.DATO.REG&&this.erroresSubmit.push("The Registration must be indicated"),""==this.DATO.STATION&&this.erroresSubmit.push("The Station must be indicated"),"---"==this.DATO.DISCOVERED&&this.erroresSubmit.push("The moment of discoveru must be indicated"),"---"==this.DATO.CAUSE&&this.erroresSubmit.push("The possible cause of the damage must be indicated")}},{key:"checkDetails",value:function(){"---"==this.DATO.GEN_LOC?this.erroresSubmit.push("The General Location must be indicated"):""==this.DATO.GEN_LOC_DES&&this.erroresSubmit.push("The area/position of the damage in "+this.DATO.GEN_LOC+" must be indicated"),"---"==this.DATO.DEF_TYPE&&this.erroresSubmit.push("The Type of defect must be indicated"),this.DATO.INSP_TAP||this.DATO.INSP_MAG||this.DATO.INSP_NDT||this.DATO.INSP_VIS||this.DATO.INSP_OTH||this.erroresSubmit.push("At least one method of inspection must be indicated"),this.DATO.AOG||(""==this.DATO.REP_REF&&this.erroresSubmit.push("not and AOG - Manual Reference must be detailed"),""==this.DATO.TLP&&this.erroresSubmit.push("not and AOG - TLP Reference must be detailed"),""==this.DATO.Item&&this.erroresSubmit.push("Damage Chart Item Reference (DC Item) must be indicated")),this.folderService.files.length<2&&this.erroresSubmit.push("There must be at least 2 attachments, one general view and one detailed picture")}},{key:"save",value:function(){this.erroresSubmit=[],this.checkHeader(),document.getElementById("save-modal").style.display="block"}},{key:"cancelSave",value:function(){document.getElementById("save-modal").style.display="none"}},{key:"saveOK",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={FLEET:this.DATO.FLEET,REG:this.DATO.REG,STATION:this.DATO.STATION,DISCOVERED:this.DATO.DISCOVERED,DISCOVERED_CHECK:this.DATO.DISCOVERED_CHECK,CAUSE:this.DATO.CAUSE,CAUSE_OTHER:this.DATO.CAUSE_OTHER,Status:"Draft"},e.next=3,this.listService.addItem(t).catch((function(e){r.graphService.errorAdd("Error saving item in the list: "+JSON.stringify(e,null,2))}));case 3:if(n=e.sent,document.getElementById("save-modal").style.display="none",e.t0=n,!e.t0){e.next=11;break}return this.id=""+n,e.next=10,this.folderService.createFolderFromID("01NJMF7MN6Y2GOVW7725BZO354PWSELRRZ",this.id).catch((function(e){r.graphService.errorAdd("Error saving item in the list: "+JSON.stringify(e,null,2))}));case 10:this.open();case 11:case"end":return e.stop()}}),e,this)})))}},{key:"changeStatus",value:function(e){var t={Status:e};this.DATO.Status=e,this.isNew()||this.listService.updateItem(this.id,t)}},{key:"cancelSubmit",value:function(){document.getElementById("submit-modal").style.display="none"}},{key:"submitOK",value:function(){document.getElementById("submit-modal").style.display="none",this.changeStatus("Open"),this.cerrar()}},{key:"submmit",value:function(){this.erroresSubmit=[],this.checkHeader(),this.checkDetails(),document.getElementById("submit-modal").style.display="block"}},{key:"rejectOpen",value:function(){document.getElementById("rejection-modal").style.display="block"}},{key:"cancelReject",value:function(){this.DATO.RejectReason="",document.getElementById("rejection-modal").style.display="none"}},{key:"reject",value:function(){return nw(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={RejectReason:this.DATO.RejectReason,Status:"Correct"},e.next=3,this.listService.updateItem(this.id,t);case 3:document.getElementById("rejection-modal").style.display="none",this.cerrar();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"accept",value:function(){window.alert("Aceptar"),this.changeStatus("Closed"),this.cerrar()}},{key:"getHeight",value:function(e,t){return window.innerHeight-document.getElementById(e).offsetTop-t+"px"}}]),e}()).\u0275fac=function(e){return new(e||aE)(va(Ww),va(Jw),va(Zw))},aE.\u0275cmp=ht({type:aE,selectors:[["app-detalle"]],inputs:{id:"id"},outputs:{close:"close"},decls:61,vars:34,consts:[[1,"w10","minW600"],[1,"flex-row","w10"],["label","Reg","name","REG","type","Select",1,"fw10",3,"value","options","isReadOnly","change"],["label","Fleet","name","FLEET",1,"fw5",3,"value","isReadOnly"],["label","Station","name","STATION",1,"fw5",3,"value","change"],["label","Date","name","Creado",1,"fw20",3,"value","isReadOnly"],["label","Status","name","Status",1,"fw5",3,"value","isReadOnly","change"],["label","ID","name","ID",1,"fw5",3,"value","isReadOnly"],["label","Discovered","name","DISCOVERED","type","Select",1,"fw10",3,"value","options","change"],["class","fw10","label","Check type","name","DISCOVERED_CHECK",3,"value","change",4,"ngIf"],["label","Cause","name","CAUSE","type","Select",1,"fw15",3,"value","options","change"],["class","fw20","label","Cause description","name","CAUSE_OTHER",3,"value","change",4,"ngIf"],[1,"flex-row","w10",2,"position","relative"],[3,"click"],["class","right",4,"ngIf"],[3,"disabled","click"],["class","recuadro log w10",4,"ngIf"],["id","rejection-modal",1,"modal"],[1,"modalBox","w7","recuadro"],["label","Reason for rejection:","name","RejectReason","type","TextArea",1,"w10","h5",3,"value","change"],["id","refDetails","class","flex-col w10",4,"ngIf"],["id","newDimension",1,"modal"],["label","Dimension description","name","--",1,"w10",3,"value","change"],[1,"positionRef","h3"],[1,"center-right",3,"click"],[1,"center-left",3,"click"],["id","save-modal",1,"modal"],["label","Create New SDR","type","Label",1,"w10"],["class","w10 msgBox",4,"ngIf"],["id","submit-modal",1,"modal"],["label","Submit SDR","type","Label",1,"w10"],["id","refAttachments","class","w10",3,"height",4,"ngIf"],["label","Check type","name","DISCOVERED_CHECK",1,"fw10",3,"value","change"],["label","Cause description","name","CAUSE_OTHER",1,"fw20",3,"value","change"],[1,"right"],[3,"click",4,"ngIf"],[1,"recuadro","log","w10"],["id","refDetails",1,"flex-col","w10"],[1,"w10","recuadro"],["label","DEFECT LOCATION","type","Label",1,"w10"],["label","General Location:","name","GEN_LOC","type","Select",1,"fw10",3,"value","options","change"],["label","Details","name","GEN_LOC_DES",1,"fw35",3,"value","change"],["label","Units:","name","UNITS","type","Select",1,"fw10",3,"value","options","change"],["label","Component Name:","name","PartName","type","Text",1,"fw20",3,"value","isReadOnly","change"],["label","P/N:","name","PartNumber","type","Text",1,"fw10",3,"value","isReadOnly","change"],["label","S/N:","name","SerialNumber","type","Text",1,"fw10",3,"value","isReadOnly","change"],["label","Manual Reference:","name","ManualRef","type","Text",1,"fw10",3,"value","isReadOnly","change"],["label","Detailed Location:","type","Select",1,"fw10",3,"value","options","change"],["class","fw15","type","ChkText",3,"label","name","value","change","delete",4,"ngFor","ngForOf"],["label","Distances from:","type","Select",1,"fw10",3,"value","options","change"],["label","DEFECT DESCRIPTION","type","Label",1,"w10"],["label","Inspection Method","type","Label",1,"w10"],["label","TAP Test","name","INSP_TAP","type","Check",1,"fw7",3,"value","isReadOnly","change"],["label","Visual","name","INSP_VIS","type","Check",1,"fw7",3,"value","isReadOnly","change"],["label","Magnifier","name","INSP_MAG","type","Check",1,"fw7",3,"value","isReadOnly","change"],["label","NDT","name","INSP_NDT","type","Check",1,"fw5",3,"value","isReadOnly","change"],["class","fw7","label","","name","INSP_NDT_TEC",3,"value","change",4,"ngIf"],["label","Other","name","INSP_OTH","type","Check",1,"fw5",3,"value","isReadOnly","change"],["class","fw15","label","","name","INSP_OTH_DESC",3,"value","change",4,"ngIf"],["label","Type of Defect:","name","DEF_TYPE","type","Select",1,"fw15",3,"value","options","change"],["class","fw15","label","Description","name","DEF_OTHER",3,"value","change",4,"ngIf"],["label","Party Type:","name","PART_TYPE","type","Select",1,"fw10",3,"value","options","change"],["class","fw10","label","Original thickness","name","DEF_SIZE_TYPE",3,"value","change",4,"ngIf"],["class","fw10","label","Number of plies affected","name","DEF_SIZE_TYPE",3,"value","change",4,"ngIf"],["label","Length:","name","DEF_SIZE_LENGTH",1,"fw10",3,"value","change"],["label","Width:","name","DEF_SIZE_WIDTH",1,"fw10",3,"value","change"],["label","Depth:","name","DEF_SIZE_DEPTH",1,"fw10",3,"value","change"],["label","Area:","name","DEF_SIZE_AREA",1,"fw10",3,"value","change"],["label","ACTION TAKEN","type","Label",1,"fw20"],["label","AOG","name","AOG","type","Check",1,"fw7",3,"value","isReadOnly","change"],["label","AMM/SRM Reference:","name","REP_REF",1,"fw20",3,"value","change"],["label","TLP:","name","TLP",1,"fw10",3,"value","change"],["label","DC Item","name","Item",1,"fw5",3,"value","change"],["label","ADD/BDD:","name","ADD",1,"fw10",3,"value","change"],["label","Additional remarks:","name","Remarks","type","TextArea",1,"w10","h10",3,"value","change"],["type","ChkText",1,"fw15",3,"label","name","value","change","delete"],["label","","name","INSP_NDT_TEC",1,"fw7",3,"value","change"],["label","","name","INSP_OTH_DESC",1,"fw15",3,"value","change"],["label","Description","name","DEF_OTHER",1,"fw15",3,"value","change"],["label","Original thickness","name","DEF_SIZE_TYPE",1,"fw10",3,"value","change"],["label","Number of plies affected","name","DEF_SIZE_TYPE",1,"fw10",3,"value","change"],[1,"w10","msgBox"],[4,"ngFor","ngForOf"],["id","refAttachments",1,"w10"]],template:function(e,t){1&e&&(Ca(0,"div",0),Ca(1,"div",1),Ca(2,"app-input-card",2),Aa("change",(function(e){return t.changeValue(e)})),wa(),ka(3,"app-input-card",3),Ca(4,"app-input-card",4),Aa("change",(function(e){return t.changeValue(e)})),wa(),ka(5,"app-input-card",5),Ca(6,"app-input-card",6),Aa("change",(function(e){return t.changeValue(e)})),wa(),ka(7,"app-input-card",7),wa(),Ca(8,"div",1),Ca(9,"app-input-card",8),Aa("change",(function(e){return t.changeValue(e)})),wa(),fa(10,Mk,1,1,"app-input-card",9),Ca(11,"app-input-card",10),Aa("change",(function(e){return t.changeValue(e)})),wa(),fa(12,Uk,1,1,"app-input-card",11),wa(),Ca(13,"div",12),Ca(14,"button",13),Aa("click",(function(){return t.cerrar()})),ja(15,"Back"),wa(),fa(16,Vk,3,2,"div",14),Ca(17,"button",15),Aa("click",(function(){return t.submmit()})),ja(18,"Submmit"),wa(),Ca(19,"button",15),Aa("click",(function(){return t.rejectOpen()})),ja(20,"Reject"),wa(),Ca(21,"button",15),Aa("click",(function(){return t.accept()})),ja(22,"Accept"),wa(),Ca(23,"button",15),Aa("click",(function(){return t.save()})),ja(24,"Save"),wa(),wa(),fa(25,Bk,2,1,"div",16),Ca(26,"div",17),Ca(27,"div",18),Ca(28,"app-input-card",19),Aa("change",(function(e){return t.changeValue(e)})),wa(),Ca(29,"button",13),Aa("click",(function(){return t.reject()})),ja(30,"Reject"),wa(),Ca(31,"button",13),Aa("click",(function(){return t.cancelReject()})),ja(32,"Cancel"),wa(),wa(),wa(),fa(33,Zk,61,50,"div",20),Ca(34,"div",21),Ca(35,"div",18),Ca(36,"app-input-card",22),Aa("change",(function(e){return t.changeNewDimension(e)})),wa(),Ca(37,"div",23),Ca(38,"button",24),Aa("click",(function(){return t.addNewDimension()})),ja(39,"Add"),wa(),Ca(40,"button",25),Aa("click",(function(){return t.cancelNewDimension()})),ja(41,"Cancel"),wa(),wa(),wa(),wa(),Ca(42,"div",26),Ca(43,"div",18),ka(44,"app-input-card",27),fa(45,Jk,2,0,"div",28),fa(46,Xk,4,1,"div",28),Ca(47,"button",15),Aa("click",(function(){return t.saveOK()})),ja(48,"Create"),wa(),Ca(49,"button",13),Aa("click",(function(){return t.cancelSave()})),ja(50,"Cancel"),wa(),wa(),wa(),Ca(51,"div",29),Ca(52,"div",18),ka(53,"app-input-card",30),fa(54,eE,2,0,"div",28),fa(55,nE,4,1,"div",28),Ca(56,"button",15),Aa("click",(function(){return t.submitOK()})),ja(57,"Submit"),wa(),Ca(58,"button",13),Aa("click",(function(){return t.cancelSubmit()})),ja(59,"Cancel"),wa(),wa(),wa(),fa(60,rE,1,2,"app-carpeta",31),wa()),2&e&&(li(2),ma("value",t.DATO.REG)("options",t.regOp)("isReadOnly",!t.isNew()),li(1),ma("value",t.DATO.FLEET)("isReadOnly",!0),li(1),ma("value",t.DATO.STATION),li(1),ma("value",t.DATO.Creado)("isReadOnly",!0),li(1),ma("value",t.DATO.Status)("isReadOnly",!0),li(1),ma("value",t.id)("isReadOnly",!0),li(2),ma("value",t.DATO.DISCOVERED)("options",t.discoveredOp),li(1),ma("ngIf","Check"==t.DATO.DISCOVERED),li(1),ma("value",t.DATO.CAUSE)("options",t.causeOp),li(1),ma("ngIf","OTHERS"==t.DATO.CAUSE),li(4),ma("ngIf",!t.isNew()),li(1),ma("disabled",!t.canSubmmit()),li(2),ma("disabled",!t.canReject()),li(2),ma("disabled",!t.canAccept()),li(2),ma("disabled",!t.isNew()),li(2),ma("ngIf",t.isRejected()),li(3),ma("value",t.DATO.RejectReason),li(5),ma("ngIf",!t.showAttachments&&!t.isNew()),li(3),ma("value",t.newDimensionName),li(9),ma("ngIf",0==t.erroresSubmit.length),li(1),ma("ngIf",t.erroresSubmit.length>0),li(1),ma("disabled",t.erroresSubmit.length>0),li(7),ma("ngIf",0==t.erroresSubmit.length),li(1),ma("ngIf",t.erroresSubmit.length>0),li(1),ma("disabled",t.erroresSubmit.length>0),li(4),ma("ngIf",t.showAttachments))},directives:[Ik,Fl,Pl,Fk],styles:[""]}),aE),hE=((oE=function(){function e(){_classCallCheck(this,e),this.close=new ru,this.slideIndex=1,this.slidesNumber=5}return _createClass(e,[{key:"ngOnInit",value:function(){this.showSlides()}},{key:"cerrar",value:function(){this.close.emit()}},{key:"plusSlides",value:function(e){this.slideIndex+=e,this.showSlides()}},{key:"currentSlide",value:function(e){this.slideIndex=e,this.showSlides()}},{key:"showSlides",value:function(){var e;for(this.slideIndex>this.slidesNumber&&(this.slideIndex=1),this.slideIndex<1&&(this.slideIndex=this.slidesNumber),e=1;e<=this.slidesNumber;e++)document.getElementById("h"+e).style.display=e==this.slideIndex?"block":"none"}}]),e}()).\u0275fac=function(e){return new(e||oE)},oE.\u0275cmp=ht({type:oE,selectors:[["app-help"]],outputs:{close:"close"},decls:29,vars:0,consts:[[1,"slideshow-container"],["id","h1",1,"mySlides","fade"],["src","assets/help_1.jpg",2,"width","100%"],[1,"numbertext"],["id","h2",1,"mySlides","fade"],["src","assets/help_2.jpg",2,"width","100%"],["id","h3",1,"mySlides","fade"],["src","assets/help_3.jpg",2,"width","100%"],["id","h4",1,"mySlides","fade"],["src","assets/help_4.jpg",2,"width","100%"],["id","h5",1,"mySlides","fade"],["src","assets/help_5.jpg",2,"width","100%"],[1,"prev",3,"click"],[1,"next",3,"click"],[2,"text-align","center"],[3,"click"]],template:function(e,t){1&e&&(Ca(0,"div",0),Ca(1,"div",1),ka(2,"img",2),Ca(3,"div",3),ja(4,"1 / 5"),wa(),wa(),Ca(5,"div",4),ka(6,"img",5),Ca(7,"div",3),ja(8,"2 / 5"),wa(),wa(),Ca(9,"div",6),ka(10,"img",7),Ca(11,"div",3),ja(12,"3 / 5"),wa(),wa(),Ca(13,"div",8),ka(14,"img",9),Ca(15,"div",3),ja(16,"4 / 5"),wa(),wa(),Ca(17,"div",10),ka(18,"img",11),Ca(19,"div",3),ja(20,"5 / 5"),wa(),wa(),Ca(21,"a",12),Aa("click",(function(){return t.plusSlides(-1)})),ja(22,"\u276e"),wa(),Ca(23,"a",13),Aa("click",(function(){return t.plusSlides(1)})),ja(24,"\u276f"),wa(),wa(),ka(25,"br"),Ca(26,"div",14),Ca(27,"button",15),Aa("click",(function(){return t.cerrar()})),ja(28,"Cerrar"),wa(),wa())},styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.slideshow-container[_ngcontent-%COMP%]{max-width:1000px;position:relative;margin:auto}.mySlides[_ngcontent-%COMP%]{display:none}.next[_ngcontent-%COMP%], .prev[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;width:auto;margin-top:-22px;padding:16px;color:grey;font-weight:700;font-size:18px;transition:.6s ease;border-radius:0 3px 3px 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.next[_ngcontent-%COMP%]{right:0;border-radius:3px 0 0 3px}.next[_ngcontent-%COMP%]:hover, .prev[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.8)}.text[_ngcontent-%COMP%]{color:#f2f2f2;font-size:15px;width:100%;text-align:center}.numbertext[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{padding:8px 12px;position:absolute;bottom:8px}.numbertext[_ngcontent-%COMP%]{color:grey;font-size:12px}.dot[_ngcontent-%COMP%]{cursor:pointer;height:15px;width:15px;margin:0 2px;background-color:#bbb;border-radius:50%;display:inline-block;transition:background-color .6s ease}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{background-color:#717171}.fade[_ngcontent-%COMP%]{-webkit-animation-name:fade;-webkit-animation-duration:1.5s;animation-name:fade;animation-duration:1.5s}@-webkit-keyframes fade{0%{opacity:.4}to{opacity:1}}@keyframes fade{0%{opacity:.4}to{opacity:1}}"]}),oE),dE=((iE=function e(){_classCallCheck(this,e)}).\u0275mod=vt({type:iE,bootstrap:[hk]}),iE.\u0275inj=de({factory:function(e){return new(e||iE)},providers:[],imports:[[Ed,Yw,Hp,tw.forRoot(jw,Gw,Kw)]]}),iE);sE=[Dl,Ol,Pl,Fl,$l,Jl,zl,Wl,Ql,Yl,Zl,bC,pC,vC,wC,fm,tp,wf,Tf,Nd,sf,df,Od,Cf,Af,lf,qd,Gd,Ap,xp,Np,Mp,Tp,Dp,ip,ap,Ep,up,lp,hk,pk,lE,Fk,Dk,Ik,hE],uE=[dh,gh,fh,wh,Hh,Th,Rh,vh,Ih,yh,_h,Ch,kh],(cE=hk.\u0275cmp).directiveDefs=function(){return sE.map(dt)},cE.pipeDefs=function(){return uE.map(ft)},function(){if(vr)throw new Error("Cannot enable prod mode after platform setup.");pr=!1}(),wd().bootstrapModule(dE).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);